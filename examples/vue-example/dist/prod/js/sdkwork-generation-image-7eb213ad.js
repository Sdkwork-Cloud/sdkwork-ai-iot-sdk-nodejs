import{u as e}from"./generation-15185035.js";import{I as l,_ as a,s,B as n}from"./index-5affcab4.js";import{k as o,Q as i,R as t,S as u,F as d,Y as r,X as c,j as v,$ as m,r as p,w as b,V as g,c as f,a0 as V,a4 as h,U as k,u as y,Z as x}from"./vue-vendor-a2672387.js";/* empty css              *//* empty css              */import"./index-5d6825eb.js";import{U as _}from"./index-fa879ae6.js";/* empty css              *//* empty css              */import{F as C}from"./index-dee6a080.js";/* empty css              */const z={class:"image-tabs"},I={class:"tabs-container"},w=["onClick"],S={class:"tab-label"},j=a(o({__name:"ImageTabs",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:a}){const s=a,n=[{value:"text",label:"æ–‡ç”Ÿå›¾ç‰‡",icon:"edit"},{value:"reference",label:"å‚è€ƒå›¾ç”Ÿæˆ",icon:"photo"},{value:"portrait",label:"å†™çœŸ",icon:"user-circle-o"},{value:"idphoto",label:"è¯ä»¶ç…§",icon:"idcard"}];return(a,o)=>{const p=l;return i(),t("div",z,[u("div",I,[(i(),t(d,null,r(n,l=>u("div",{key:l.value,class:c(["tab-item",{active:e.modelValue===l.value}]),onClick:e=>{return a=l.value,void s("update:modelValue",a);var a}},[v(p,{name:l.icon,class:"tab-icon"},null,8,["name"]),u("span",S,m(l.label),1)],10,w)),64))])])}}}),[["__scopeId","data-v-fabd28dc"]]),U={class:"image-uploader"},B={class:"upload-header"},T={class:"upload-tips"},P=a(o({__name:"ImageUploader",props:{modelValue:{},mode:{}},emits:["update:modelValue"],setup(e,{emit:a}){const n=e,o=a,d=p([]),r=e=>e.type.startsWith("image/")?!(e.size>10485760)||(s("å›¾ç‰‡å¤§å°ä¸èƒ½è¶…è¿‡10MB"),!1):(s("è¯·ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶"),!1),c=e=>{m(),s("ä¸Šä¼ æˆåŠŸ")},m=()=>{const e=d.value.map(e=>e.file);o("update:modelValue",e)};return b(()=>n.modelValue,e=>{0===e.length&&(d.value=[])}),(e,a)=>{const s=l,n=_;return i(),t("div",U,[u("div",B,[v(s,{name:"photo",class:"header-icon"}),a[1]||(a[1]=u("span",null,"ä¸Šä¼ å‚è€ƒå›¾ç‰‡",-1))]),v(n,{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=e=>d.value=e),"max-count":1,"after-read":c,"before-read":r,"upload-text":"ç‚¹å‡»ä¸Šä¼ å›¾ç‰‡",class:"uploader"},null,8,["modelValue"]),u("div",T,[v(s,{name:"info",class:"tip-icon"}),a[2]||(a[2]=u("span",null,"æ”¯æŒ JPGã€PNG æ ¼å¼ï¼Œæœ€å¤§ 10MB",-1))])])}}}),[["__scopeId","data-v-cc3af8b4"]]),F={class:"prompt-input"},J={class:"input-header"},N={class:"input-tips"},G=a(o({__name:"PromptInput",props:{modelValue:{},placeholder:{}},emits:["update:modelValue"],setup(e,{emit:a}){const s=e,n=a,o=p(s.modelValue),d=p(s.placeholder||"è¯·è¾“å…¥å›¾ç‰‡æè¿°...");b(o,e=>{n("update:modelValue",e)}),b(()=>s.modelValue,e=>{e!==o.value&&(o.value=e)});const r=()=>{};return(e,a)=>{const s=l,n=C;return i(),t("div",F,[u("div",J,[v(s,{name:"edit",class:"header-icon"}),a[1]||(a[1]=u("span",null,"å›¾ç‰‡æè¿°",-1))]),v(n,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=e=>o.value=e),type:"textarea",placeholder:d.value,autosize:"",class:"prompt-field",onBlur:r},null,8,["modelValue","placeholder"]),u("div",N,[v(s,{name:"info",class:"tip-icon"}),a[2]||(a[2]=u("span",null,"è¯¦ç»†æè¿°å›¾ç‰‡å†…å®¹ï¼Œè¶Šè¯¦ç»†æ•ˆæžœè¶Šå¥½",-1))])])}}}),[["__scopeId","data-v-d24c321f"]]),O={class:"image-style"},E={class:"style-header"},M={class:"style-grid"},R=["onClick"],$={class:"style-icon"},K={class:"style-label"},Q=a(o({__name:"ImageStyle",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:a}){const s=e,n=a,o=p(s.modelValue),g=[{value:"realistic",label:"å†™å®ž",icon:"ðŸŽ¨"},{value:"cartoon",label:"å¡é€š",icon:"ðŸ–¼ï¸"},{value:"anime",label:"åŠ¨æ¼«",icon:"ðŸŽ­"},{value:"oil_painting",label:"æ²¹ç”»",icon:"ðŸ–Œï¸"},{value:"watercolor",label:"æ°´å½©",icon:"ðŸ’§"},{value:"sketch",label:"ç´ æ",icon:"âœï¸"},{value:"minimalist",label:"æžç®€",icon:"â¬œ"},{value:"cyberpunk",label:"èµ›åšæœ‹å…‹",icon:"ðŸ¤–"}];return b(()=>s.modelValue,e=>{e!==o.value&&(o.value=e)}),(e,a)=>{const s=l;return i(),t("div",O,[u("div",E,[v(s,{name:"palette",class:"header-icon"}),a[0]||(a[0]=u("span",null,"å›¾ç‰‡é£Žæ ¼",-1))]),u("div",M,[(i(),t(d,null,r(g,e=>u("div",{key:e.value,class:c(["style-item",{active:o.value===e.value}]),onClick:l=>(e=>{o.value=e,n("update:modelValue",e)})(e.value)},[u("div",$,m(e.icon),1),u("span",K,m(e.label),1)],10,R)),64))])])}}}),[["__scopeId","data-v-976906b8"]]),W={class:"image-size"},X={class:"size-header"},Y={class:"size-grid"},Z=["onClick"],q={class:"size-dimensions"},A={class:"size-label"},D=a(o({__name:"ImageSize",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:a}){const s=e,n=a,o=p(s.modelValue),g=[{value:"1024x1024",label:"æ­£æ–¹å½¢",dimensions:"1:1"},{value:"1024x1792",label:"ç«–ç‰ˆ",dimensions:"9:16"},{value:"1792x1024",label:"æ¨ªç‰ˆ",dimensions:"16:9"},{value:"1152x896",label:"è‚–åƒ",dimensions:"4:3"},{value:"896x1152",label:"é£Žæ™¯",dimensions:"3:4"},{value:"1216x832",label:"å®½å±",dimensions:"3:2"},{value:"832x1216",label:"é«˜å±",dimensions:"2:3"},{value:"1536x640",label:"æ¨ªå¹…",dimensions:"12:5"}];return b(()=>s.modelValue,e=>{e!==o.value&&(o.value=e)}),(e,a)=>{const s=l;return i(),t("div",W,[u("div",X,[v(s,{name:"expand",class:"header-icon"}),a[0]||(a[0]=u("span",null,"å›¾ç‰‡å°ºå¯¸",-1))]),u("div",Y,[(i(),t(d,null,r(g,e=>u("div",{key:e.value,class:c(["size-item",{active:o.value===e.value}]),onClick:l=>(e=>{o.value=e,n("update:modelValue",e)})(e.value)},[u("div",q,m(e.dimensions),1),u("span",A,m(e.label),1)],10,Z)),64))])])}}}),[["__scopeId","data-v-fbca476b"]]),H={class:"photo-settings"},L={key:0,class:"portrait-settings"},ee={class:"settings-header"},le={class:"settings-grid"},ae={class:"setting-item"},se={class:"gender-options"},ne=["onClick"],oe={class:"setting-item"},ie={class:"setting-item"},te={class:"background-options"},ue=["onClick"],de={class:"bg-icon"},re={key:1,class:"idphoto-settings"},ce={class:"settings-header"},ve={class:"settings-grid"},me={class:"setting-item"},pe={class:"id-type-options"},be=["onClick"],ge={class:"type-icon"},fe={class:"setting-item"},Ve={class:"id-size-options"},he=["onClick"],ke={class:"size-info"},ye={class:"size-name"},xe={class:"size-dimensions"},_e={class:"setting-item"},Ce={class:"bg-color-options"},ze=["onClick"],Ie=a(o({__name:"PhotoSettings",props:{modelValue:{},mode:{default:"portrait"}},emits:["update:modelValue"],setup(e,{emit:a}){const s=e,n=a,o=p({gender:s.modelValue.gender||"",age:s.modelValue.age||"",background:s.modelValue.background||"",idType:s.modelValue.idType||"",idSize:s.modelValue.idSize||"",bgColor:s.modelValue.bgColor||""}),f=[{value:"male",label:"ç”·æ€§",icon:"man"},{value:"female",label:"å¥³æ€§",icon:"woman"},{value:"other",label:"å…¶ä»–",icon:"user-circle-o"}],V=[{value:"studio",label:"æ‘„å½±æ£š",icon:"ðŸ¢"},{value:"nature",label:"è‡ªç„¶",icon:"ðŸŒ³"},{value:"urban",label:"åŸŽå¸‚",icon:"ðŸ™ï¸"},{value:"indoor",label:"å®¤å†…",icon:"ðŸ "},{value:"beach",label:"æµ·æ»©",icon:"ðŸ–ï¸"},{value:"gradient",label:"æ¸å˜",icon:"ðŸŒˆ"}],h=[{value:"idcard",label:"èº«ä»½è¯",icon:"ðŸ†”"},{value:"passport",label:"æŠ¤ç…§",icon:"ðŸ›‚"},{value:"driver",label:"é©¾é©¶è¯",icon:"ðŸš—"},{value:"work",label:"å·¥ä½œè¯",icon:"ðŸ’¼"},{value:"student",label:"å­¦ç”Ÿè¯",icon:"ðŸŽ“"}],k=[{value:"idcard_standard",name:"èº«ä»½è¯",dimensions:"358px Ã— 441px"},{value:"passport_standard",name:"æŠ¤ç…§",dimensions:"354px Ã— 472px"},{value:"driver_standard",name:"é©¾é©¶è¯",dimensions:"354px Ã— 472px"},{value:"one_inch",name:"ä¸€å¯¸",dimensions:"295px Ã— 413px"},{value:"two_inch",name:"äºŒå¯¸",dimensions:"413px Ã— 579px"},{value:"custom",name:"è‡ªå®šä¹‰",dimensions:"è‡ªå®šä¹‰å°ºå¯¸"}],y=[{value:"red",label:"çº¢è‰²",color:"#ff6b6b"},{value:"blue",label:"è“è‰²",color:"#4dabf7"},{value:"white",label:"ç™½è‰²",color:"#ffffff"},{value:"gray",label:"ç°è‰²",color:"#adb5bd"},{value:"green",label:"ç»¿è‰²",color:"#69db7c"},{value:"custom",label:"è‡ªå®šä¹‰",color:"#ced4da"}],x=()=>{n("update:modelValue",{...o.value})};return b(()=>s.modelValue,e=>{JSON.stringify(e)!==JSON.stringify(o.value)&&(o.value={...e})},{deep:!0}),b(o,()=>{x()},{deep:!0}),(a,s)=>{const n=l,p=C;return i(),t("div",H,["portrait"===e.mode?(i(),t("div",L,[u("div",ee,[v(n,{name:"setting",class:"header-icon"}),s[1]||(s[1]=u("span",null,"å†™çœŸè®¾ç½®",-1))]),u("div",le,[u("div",ae,[s[2]||(s[2]=u("label",{class:"setting-label"},"æ€§åˆ«",-1)),u("div",se,[(i(),t(d,null,r(f,e=>u("div",{key:e.value,class:c(["gender-option",{active:o.value.gender===e.value}]),onClick:l=>(e=>{o.value.gender=e,x()})(e.value)},[v(n,{name:e.icon},null,8,["name"]),u("span",null,m(e.label),1)],10,ne)),64))])]),u("div",oe,[s[3]||(s[3]=u("label",{class:"setting-label"},"å¹´é¾„",-1)),v(p,{modelValue:o.value.age,"onUpdate:modelValue":s[0]||(s[0]=e=>o.value.age=e),placeholder:"è¯·è¾“å…¥å¹´é¾„",type:"number",class:"age-input"},null,8,["modelValue"])]),u("div",ie,[s[4]||(s[4]=u("label",{class:"setting-label"},"èƒŒæ™¯",-1)),u("div",te,[(i(),t(d,null,r(V,e=>u("div",{key:e.value,class:c(["background-option",{active:o.value.background===e.value}]),onClick:l=>{return a=e.value,o.value.background=a,void x();var a}},[u("div",de,m(e.icon),1),u("span",null,m(e.label),1)],10,ue)),64))])])])])):(i(),t("div",re,[u("div",ce,[v(n,{name:"setting",class:"header-icon"}),s[5]||(s[5]=u("span",null,"è¯ä»¶ç…§è®¾ç½®",-1))]),u("div",ve,[u("div",me,[s[6]||(s[6]=u("label",{class:"setting-label"},"è¯ä»¶ç±»åž‹",-1)),u("div",pe,[(i(),t(d,null,r(h,e=>u("div",{key:e.value,class:c(["id-type-option",{active:o.value.idType===e.value}]),onClick:l=>{return a=e.value,o.value.idType=a,void x();var a}},[u("div",ge,m(e.icon),1),u("span",null,m(e.label),1)],10,be)),64))])]),u("div",fe,[s[7]||(s[7]=u("label",{class:"setting-label"},"è¯ä»¶ç…§å°ºå¯¸",-1)),u("div",Ve,[(i(),t(d,null,r(k,e=>u("div",{key:e.value,class:c(["id-size-option",{active:o.value.idSize===e.value}]),onClick:l=>{return a=e.value,o.value.idSize=a,void x();var a}},[u("div",ke,[u("div",ye,m(e.name),1),u("div",xe,m(e.dimensions),1)])],10,he)),64))])]),u("div",_e,[s[8]||(s[8]=u("label",{class:"setting-label"},"èƒŒæ™¯é¢œè‰²",-1)),u("div",Ce,[(i(),t(d,null,r(y,e=>u("div",{key:e.value,class:c(["bg-color-option",{active:o.value.bgColor===e.value}]),onClick:l=>{return a=e.value,o.value.bgColor=a,void x();var a},style:g({backgroundColor:e.color})},[u("span",null,m(e.label),1)],14,ze)),64))])])])]))])}}}),[["__scopeId","data-v-b5183f66"]]),we={class:"generate-button"},Se={key:0,class:"points-cost"},je={key:0,class:"generate-hint"},Ue=a(o({__name:"GenerateButton",props:{disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},pointsCost:{default:0}},emits:["click"],setup(e,{emit:a}){const s=e,o=a,r=f(()=>s.disabled?"default":"primary"),c=f(()=>s.disabled?"è¯·å¡«å†™å®Œæ•´ä¿¡æ¯":"ç”Ÿæˆå›¾ç‰‡"),p=f(()=>"æ­£åœ¨ç”Ÿæˆå›¾ç‰‡..."),b=f(()=>s.disabled&&!s.loading),g=f(()=>s.disabled?"è¯·å¡«å†™æç¤ºè¯å’Œå¿…è¦ä¿¡æ¯":""),y=()=>{s.disabled||s.loading||o("click")};return(a,s)=>{const o=l,f=n;return i(),t("div",we,[v(f,{type:r.value,loading:e.loading,disabled:e.disabled,"loading-text":p.value,block:"",round:"",size:"large",onClick:y,class:"generate-btn"},{default:V(()=>[e.loading?k("",!0):(i(),t(d,{key:0},[v(o,{name:"photograph",class:"btn-icon"}),h(" "+m(c.value)+" ",1),!e.disabled&&e.pointsCost>0?(i(),t("span",Se," æ¶ˆè€— "+m(e.pointsCost)+" ç§¯åˆ† ",1)):k("",!0)],64))]),_:1},8,["type","loading","disabled","loading-text"]),b.value?(i(),t("div",je,[v(o,{name:"info",class:"hint-icon"}),u("span",null,m(g.value),1)])):k("",!0)])}}}),[["__scopeId","data-v-58daf095"]]),Be={class:"mobile-image-generation"},Te=a(o({__name:"sdkwork-generation-image",props:{defaultTab:{default:"text"},disabled:{type:Boolean,default:!1},showPointsCost:{type:Boolean,default:!0},pointsCoefficient:{default:1}},emits:["generation-start","generation-success","generation-error","validation-change","tab-change"],setup(l,{emit:a}){const s=l,n=a,o=e(),u=p(s.defaultTab||"text"),d=p([]),r=p(""),c=p(""),m=p("1024x1024"),g=p({gender:"",age:"",background:"",idType:"",idSize:"",bgColor:""}),V=p(!1),h=p(50*s.pointsCoefficient),_=f(()=>{if(s.disabled)return!1;switch(u.value){case"text":return r.value.trim().length>0;case"reference":return d.value.length>0&&r.value.trim().length>0;case"portrait":return d.value.length>0&&r.value.trim().length>0&&g.value.gender;case"idphoto":return d.value.length>0&&r.value.trim().length>0&&g.value.gender&&g.value.background;default:return!1}}),C=()=>{switch(u.value){case"text":return"è¯·è¾“å…¥å›¾ç‰‡æè¿°ï¼Œè¯¦ç»†æè¿°èƒ½ç”Ÿæˆæ›´å¥½çš„æ•ˆæžœ...";case"reference":return"æè¿°æ‚¨å¸Œæœ›åŸºäºŽå‚è€ƒå›¾ç”Ÿæˆçš„å›¾ç‰‡å†…å®¹...";case"portrait":return"æè¿°æ‚¨æƒ³è¦çš„å†™çœŸé£Žæ ¼å’Œäººç‰©ç‰¹å¾...";case"idphoto":return"æè¿°è¯ä»¶ç…§çš„å…·ä½“è¦æ±‚...";default:return"è¯·è¾“å…¥å›¾ç‰‡æè¿°..."}},z=async()=>{if(_.value&&!V.value){V.value=!0;try{const[e,l]=m.value.split("x").map(Number),a={prompt:r.value,model:c.value||"stable-diffusion-v1.5",width:e||1024,height:l||1024,n:1,responseFormat:"url",aspectRatio:m.value.includes(":")?m.value:"1:1",style:c.value};n("generation-start",a);const s=await o.generateImage(a);n("generation-success",s),console.log("å›¾ç‰‡ç”ŸæˆæˆåŠŸ:",s)}catch(e){const l=e instanceof Error?e:new Error(String(e));n("generation-error",l),console.error("å›¾ç‰‡ç”Ÿæˆå¤±è´¥:",l),console.error("ç”Ÿæˆå¤±è´¥:",l.message)}finally{V.value=!1}}};return b(u,e=>{"reference"!==e&&(d.value=[]);h.value={text:50,reference:80,portrait:100,idphoto:120}[e]*s.pointsCoefficient,n("tab-change",e)}),b(_,e=>{n("validation-change",e)}),(e,l)=>(i(),t("div",Be,[v(y(j),{modelValue:u.value,"onUpdate:modelValue":l[0]||(l[0]=e=>u.value=e)},null,8,["modelValue"]),"reference"===u.value||"portrait"===u.value||"idphoto"===u.value?(i(),x(y(P),{key:0,modelValue:d.value,"onUpdate:modelValue":l[1]||(l[1]=e=>d.value=e),mode:"single"},null,8,["modelValue"])):k("",!0),v(y(G),{modelValue:r.value,"onUpdate:modelValue":l[2]||(l[2]=e=>r.value=e),placeholder:C()},null,8,["modelValue","placeholder"]),v(y(Q),{modelValue:c.value,"onUpdate:modelValue":l[3]||(l[3]=e=>c.value=e)},null,8,["modelValue"]),v(y(D),{modelValue:m.value,"onUpdate:modelValue":l[4]||(l[4]=e=>m.value=e)},null,8,["modelValue"]),"portrait"===u.value||"idphoto"===u.value?(i(),x(y(Ie),{key:1,modelValue:g.value,"onUpdate:modelValue":l[5]||(l[5]=e=>g.value=e),mode:u.value},null,8,["modelValue","mode"])):k("",!0),v(y(Ue),{disabled:V.value||!_.value,loading:V.value,"points-cost":h.value,onClick:z},null,8,["disabled","loading","points-cost"])]))}}),[["__scopeId","data-v-ef8cb563"]]);export{Te as S};
