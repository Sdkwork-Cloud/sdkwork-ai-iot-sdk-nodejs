import{S as e}from"./sdkwork-page-container-D38Lr5V-.js";import{V as t,aS as a,a6 as s,a3 as o,c as l,aa as r,U as i,J as n,aT as c,w as d,I as u,B as m,_ as p,i as v,f,s as g}from"./index-D7I5bQOO.js";/* empty css              */import"./index-Bl1UND2F.js";import{p as h,P as y}from"./index-vmE_PtvI.js";import{_ as b}from"./sdkwork-popup-X7Jr1MOr.js";import{S as k}from"./sdkwork-api-tab-list-GHX8vCig.js";/* empty css              *//* empty css              *//* empty css              */import{T as x}from"./index-BfzKuEAK.js";import{k as w,r as D,f as C,w as N,j as A,q as I,P as j,Q as S,S as T,U as _,$ as E,a0 as $,a4 as P,W as V,F as R,Y as z,a1 as F,Z as B,R as L,a9 as O,O as M}from"./vue-vendor-Caw1HGjZ.js";import{C as U}from"./index-CQOCzUti.js";import{_ as q}from"./sdkwork-image-D5eXg7ji.js";import"./utils-vendor-WEzSe-CR.js";import"./sdkwork-pull-refresh-BB5GTY6x.js";import"./shared-CsRLCebr.js";import"./sdkwork-search-bar-BjfTLXVV.js";import"./sdkwork-icon-Bx0uCmEk.js";import"./index-Cb9u0upf.js";import"./use-id-BN10QhF_.js";import"./ListItem-qzG7l1FH.js";import"./LoadMoreSection-yp3zDvW9.js";import"./index-BzAgVsVV.js";import"./use-tab-status-BA3so1OG.js";import"./use-refs-DKM_VPhg.js";import"./Checker-BC1uLoYn.js";const G=t({},h,{modelValue:s(),filter:Function,formatter:{type:Function,default:(e,t)=>t}}),Y=Object.keys(h);const H=(e,t,s,o,l,r)=>{const i=function(e,t){if(e<0)return[];const a=Array(e);let s=-1;for(;++s<e;)a[s]=t(s);return a}(t-e+1,t=>{const l=a(e+t);return o(s,{text:l,value:l})});return l?l(s,i,r):i},Q=(new Date).getFullYear(),[W]=l("date-picker");const J=d(w({name:W,props:t({},G,{columnsType:{type:Array,default:()=>["year","month","day"]},minDate:{type:Date,default:()=>new Date(Q-10,0,1),validator:c},maxDate:{type:Date,default:()=>new Date(Q+10,11,31),validator:c}}),emits:["confirm","cancel","change","update:modelValue"],setup(e,{emit:t,slots:s}){const l=D(e.modelValue),c=D(!1),d=D(),u=C(()=>c.value?e.modelValue:l.value),m=t=>t===e.minDate.getFullYear(),p=t=>t===e.maxDate.getFullYear(),v=t=>{const{minDate:a,columnsType:s}=e,o=s.indexOf(t),l=u.value[o];if(l)return+l;switch(t){case"year":return a.getFullYear();case"month":return a.getMonth()+1;case"day":return a.getDate()}},f=()=>{const t=v("year"),a=v("month"),s=m(t)&&(t=>t===e.minDate.getMonth()+1)(a)?e.minDate.getDate():1,o=p(t)&&(t=>t===e.maxDate.getMonth()+1)(a)?e.maxDate.getDate():((e,t)=>32-new Date(e,t-1,32).getDate())(t,a);return H(s,o,"day",e.formatter,e.filter,u.value)},g=C(()=>e.columnsType.map(t=>{switch(t){case"year":return(()=>{const t=e.minDate.getFullYear(),a=e.maxDate.getFullYear();return H(t,a,"year",e.formatter,e.filter,u.value)})();case"month":return(()=>{const t=v("year"),a=m(t)?e.minDate.getMonth()+1:1,s=p(t)?e.maxDate.getMonth()+1:12;return H(a,s,"month",e.formatter,e.filter,u.value)})();case"day":return f();default:return[]}}));N(l,a=>{r(a,e.modelValue)||t("update:modelValue",a)}),N(()=>e.modelValue,(e,t)=>{c.value=r(t,l.value),e=((e,t)=>e.map((e,s)=>{const l=t[s];if(l.length){const t=+l[0].value,s=+l[l.length-1].value;return a(o(+e,t,s))}return e}))(e,g.value),r(e,l.value)||(l.value=e),c.value=!1},{immediate:!0});const h=(...e)=>t("change",...e),b=(...e)=>t("cancel",...e),k=(...e)=>t("confirm",...e);return i({confirm:()=>{var e;return null==(e=d.value)?void 0:e.confirm()},getSelectedDate:()=>l.value}),()=>A(y,I({ref:d,modelValue:l.value,"onUpdate:modelValue":e=>l.value=e,columns:g.value,onChange:h,onCancel:b,onConfirm:k},n(e,Y)),s)}})),Z={class:"order-header"},K={class:"header-content"},X={class:"order-basic-info"},ee={class:"order-no"},te={class:"create-time"},ae={class:"order-status"},se={class:"order-content"},oe={class:"content-main"},le={class:"customer-info"},re={class:"customer-name"},ie={key:0,class:"customer-phone"},ne={key:0,class:"shipping-address"},ce={class:"address-text"},de={key:1,class:"order-items"},ue={class:"items-preview"},me=["src"],pe={key:1,class:"item-image-placeholder"},ve={class:"item-name"},fe={class:"item-quantity"},ge={key:0,class:"more-items"},he={class:"order-amount"},ye={class:"amount-value"},be={class:"order-footer"},ke={class:"footer-content"},xe={key:0,class:"selection-action"},we={key:1,class:"action-buttons"},De=p(w({__name:"order-list-item",props:{order:{},index:{default:0},selected:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},deletable:{type:Boolean,default:!1},showActions:{type:Boolean,default:!0},actionButtons:{default:()=>[]},statusConfig:{default:()=>({})}},emits:["select","delete","action","click"],setup(e,{emit:t}){const a=e,s=t,o=D(a.selected),l=C(()=>a.actionButtons.filter(e=>!e.showCondition||e.showCondition(a.order)));N(()=>a.selected,e=>{o.value=e});const r=()=>{a.selectable&&(o.value=!o.value,s("select",a.order))},i=()=>{a.deletable&&s("delete",a.order)},n=()=>{s("click",a.order)},c=e=>{try{const t=new Date(e);return t.toLocaleDateString("zh-CN")+" "+t.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})}catch{return e}};return(t,d)=>{const p=x,v=u,f=U,g=m;return S(),j("div",{class:L(["order-list-item",{selected:e.selected,"has-actions":e.showActions}]),onClick:n},[T("div",Z,[_(t.$slots,"header",{},()=>[T("div",K,[T("div",X,[T("span",ee,"订单号: "+E(e.order.orderNo),1),T("span",te,E(c(e.order.createTime)),1)]),T("div",ae,[A(p,{color:e.statusConfig[e.order.status]?.color,plain:!0,class:"status-tag"},{default:$(()=>[P(E(e.order.statusText||e.statusConfig[e.order.status]?.text),1)]),_:1},8,["color"])])])],!0)]),T("div",se,[_(t.$slots,"content",{},()=>{return[T("div",oe,[T("div",le,[A(v,{name:"user-o",class:"info-icon"}),T("span",re,E(e.order.customerName),1),e.order.customerPhone?(S(),j("span",ie,E(e.order.customerPhone),1)):V("",!0)]),e.order.shippingAddress?(S(),j("div",ne,[A(v,{name:"location-o",class:"info-icon"}),T("span",ce,E(e.order.shippingAddress),1)])):V("",!0),e.order.items&&e.order.items.length>0?(S(),j("div",de,[T("div",ue,[(S(!0),j(R,null,z(e.order.items.slice(0,3),(e,t)=>(S(),j("div",{key:e.id,class:"item-preview"},[e.productImage?(S(),j("img",{key:0,src:e.productImage,class:"item-image"},null,8,me)):(S(),j("div",pe,E(e.productName.charAt(0)),1)),T("span",ve,E(e.productName),1),T("span",fe,"×"+E(e.quantity),1)]))),128)),e.order.items.length>3?(S(),j("div",ge," 等"+E(e.order.items.length)+"件商品 ",1)):V("",!0)])])):V("",!0),T("div",he,[d[1]||(d[1]=T("span",{class:"amount-label"},"实付金额:",-1)),T("span",ye,E(e.order.currency||"¥")+E((t=e.order.totalAmount,t.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","))),1)])])];var t},!0)]),T("div",be,[_(t.$slots,"footer",{},()=>[T("div",ke,[e.selectable?(S(),j("div",xe,[A(f,{modelValue:o.value,"onUpdate:modelValue":d[0]||(d[0]=e=>o.value=e),onClick:F(r,["stop"]),class:"selection-checkbox"},null,8,["modelValue"])])):V("",!0),e.showActions?(S(),j("div",we,[_(t.$slots,"actions",{},()=>[(S(!0),j(R,null,z(l.value,e=>(S(),B(g,{key:e.key,type:e.type||"default",icon:e.icon,disabled:e.disabled,size:"small",onClick:F(t=>{return o=e.key,void s("action",a.order,o);var o},["stop"]),class:"action-button"},{default:$(()=>[P(E(e.text),1)]),_:2},1032,["type","icon","disabled","onClick"]))),128)),e.deletable?(S(),B(g,{key:0,type:"danger",icon:"delete",size:"small",onClick:F(i,["stop"]),class:"action-button"},{default:$(()=>[...d[2]||(d[2]=[P(" 删除 ",-1)])]),_:1})):V("",!0)],!0)])):V("",!0)])],!0)])],2)}}}),[["__scopeId","data-v-3346962e"]]);var Ce=(e=>(e.PENDING="pending",e.CONFIRMED="confirmed",e.PROCESSING="processing",e.SHIPPED="shipped",e.DELIVERED="delivered",e.CANCELLED="cancelled",e.REFUNDED="refunded",e))(Ce||{});const Ne={pending:{text:"待处理",color:"#ff6b35",bgColor:"#fff7f0",icon:"clock-o"},confirmed:{text:"已确认",color:"#1890ff",bgColor:"#f0f8ff",icon:"checked"},processing:{text:"处理中",color:"#52c41a",bgColor:"#f6ffed",icon:"setting-o"},shipped:{text:"已发货",color:"#722ed1",bgColor:"#f9f0ff",icon:"logistics"},delivered:{text:"已完成",color:"#13c2c2",bgColor:"#e6fffb",icon:"completed"},cancelled:{text:"已取消",color:"#ff4d4f",bgColor:"#fff2f0",icon:"close"},refunded:{text:"已退款",color:"#faad14",bgColor:"#fffbe6",icon:"refund-o"}},Ae=[{key:"view",text:"查看详情",type:"primary",icon:"eye-o"},{key:"edit",text:"编辑",type:"default",icon:"edit"},{key:"cancel",text:"取消订单",type:"warning",icon:"close",showCondition:e=>"pending"===e.status},{key:"confirm",text:"确认订单",type:"success",icon:"checked",showCondition:e=>"pending"===e.status},{key:"ship",text:"发货",type:"primary",icon:"logistics",showCondition:e=>"confirmed"===e.status},{key:"complete",text:"完成订单",type:"success",icon:"completed",showCondition:e=>"shipped"===e.status}],Ie=[{value:"all",title:"全部订单",params:{status:""}},{value:"pending",title:"待处理",params:{status:"pending"}},{value:"confirmed",title:"已确认",params:{status:"confirmed"}},{value:"processing",title:"处理中",params:{status:"processing"}},{value:"shipped",title:"已发货",params:{status:"shipped"}},{value:"delivered",title:"已完成",params:{status:"delivered"}}],je=p(w({__name:"sdkwork-order-list",props:{api:{},params:{default:()=>({})},searchable:{type:Boolean,default:!0},selectable:{type:Boolean,default:!1},deletable:{type:Boolean,default:!1},pageSize:{default:10},tabs:{default:()=>Ie},tabsApi:{},defaultActiveTab:{default:"all"},showActions:{type:Boolean,default:!0},actionButtons:{default:()=>Ae},statusConfig:{default:()=>Ne}},emits:["select","delete","search","load","tab-change","action","click"],setup(e,{expose:t,emit:a}){const s=e,o=a,l=D(),r=D([{value:"all",title:"全部订单",params:{status:""}},{value:Ce.PENDING,title:"待处理",params:{status:Ce.PENDING}},{value:Ce.CONFIRMED,title:"已确认",params:{status:Ce.CONFIRMED}},{value:Ce.PROCESSING,title:"处理中",params:{status:Ce.PROCESSING}},{value:Ce.SHIPPED,title:"已发货",params:{status:Ce.SHIPPED}},{value:Ce.DELIVERED,title:"已完成",params:{status:Ce.DELIVERED}}]),i=C(()=>s.tabs.length>0?s.tabs:r.value),n=C(()=>({...s.params})),c=(e,t)=>{o("tab-change",e,t)},d=e=>{o("select",e)},u=e=>{o("delete",e)},m=e=>{o("search",e)},p=e=>{o("load",e)},v=e=>{o("select",e)},f=e=>{o("delete",e)},g=(e,t)=>{o("action",e,t)},h=e=>{o("click",e)};return t({refresh:()=>l.value?.refresh(),loadMore:()=>l.value?.loadMore(),getData:()=>l.value?.getData()||[],getSelectedItems:()=>l.value?.getSelectedItems()||[],clearSelected:()=>l.value?.clearSelected(),setSelectedItems:e=>l.value?.setSelectedItems(e),getActiveTab:()=>l.value?.getActiveTab(),setActiveTab:e=>l.value?.setActiveTab(e),getTabsData:()=>l.value?.getTabsData()||[]}),(t,a)=>(S(),B(k,{ref_key:"tabListRef",ref:l,api:e.api,tabs:i.value,"tabs-api":e.tabsApi,params:n.value,searchable:e.searchable,selectable:e.selectable,deletable:e.deletable,"page-size":e.pageSize,"default-active-tab":e.defaultActiveTab,onTabChange:c,onSelect:d,onDelete:u,onSearch:m,onLoad:p},O({default:$(({item:a,index:s,selected:o})=>[A(De,{order:a,index:s,selected:o,selectable:e.selectable,deletable:e.deletable,"show-actions":e.showActions,"action-buttons":e.actionButtons,onSelect:v,onDelete:f,onAction:g,onClick:h},O({_:2},[t.$slots["order-header"]?{name:"header",fn:$(()=>[_(t.$slots,"order-header",{order:a,index:s},void 0,!0)]),key:"0"}:void 0,t.$slots["order-content"]?{name:"content",fn:$(()=>[_(t.$slots,"order-content",{order:a,index:s},void 0,!0)]),key:"1"}:void 0,t.$slots["order-footer"]?{name:"footer",fn:$(()=>[_(t.$slots,"order-footer",{order:a,index:s},void 0,!0)]),key:"2"}:void 0,t.$slots["order-actions"]?{name:"actions",fn:$(()=>[_(t.$slots,"order-actions",{order:a,index:s},void 0,!0)]),key:"3"}:void 0]),1032,["order","index","selected","selectable","deletable","show-actions","action-buttons"])]),_:2},[t.$slots.header?{name:"header",fn:$(()=>[_(t.$slots,"header",{},void 0,!0)]),key:"0"}:void 0,t.$slots.footer?{name:"footer",fn:$(()=>[_(t.$slots,"footer",{},void 0,!0)]),key:"1"}:void 0,t.$slots.empty?{name:"empty",fn:$(()=>[_(t.$slots,"empty",{},void 0,!0)]),key:"2"}:void 0,t.$slots.loading?{name:"loading",fn:$(()=>[_(t.$slots,"loading",{},void 0,!0)]),key:"3"}:void 0,t.$slots["tab-title"]?{name:"tab-title",fn:$(()=>[_(t.$slots,"tab-title",{},void 0,!0)]),key:"4"}:void 0]),1032,["api","tabs","tabs-api","params","searchable","selectable","deletable","page-size","default-active-tab"]))}}),[["__scopeId","data-v-4c617701"]]),Se={key:0,class:"batch-toolbar"},Te={class:"batch-info"},_e={class:"batch-actions"},Ee={class:"order-header-custom"},$e={key:0,class:"order-priority"},Pe={key:1,class:"order-source"},Ve={class:"order-content-custom"},Re={class:"customer-info"},ze={class:"customer-name"},Fe={key:0,class:"customer-phone"},Be={class:"product-info"},Le={class:"product-images"},Oe={key:0,class:"more-products"},Me={class:"product-summary"},Ue={class:"product-names"},qe={class:"product-count"},Ge={class:"amount-info"},Ye={class:"amount-value"},He={class:"time-info"},Qe={class:"create-time"},We={class:"custom-empty-state"},Je=p(w({__name:"list",setup(t){const a=M(),s=D(),o=D(!1),l=D(!1);D(!1),D([]);const r=D(!1),i=D({dateRange:"",status:"",orderNo:"",customerName:"",minAmount:"",maxAmount:""}),n=D(["",""]),c=[{text:"全部状态",value:""},{text:"待处理",value:"pending"},{text:"已确认",value:"confirmed"},{text:"处理中",value:"processing"},{text:"已发货",value:"shipped"},{text:"已完成",value:"delivered"},{text:"已取消",value:"cancelled"}],d=D([]),p=D([{key:"view",text:"查看详情",type:"primary",icon:"eye-o"},{key:"edit",text:"编辑",type:"default",icon:"edit"},{key:"confirm",text:"确认订单",type:"success",icon:"checked",showCondition:e=>"pending"===e.status},{key:"cancel",text:"取消订单",type:"warning",icon:"close",showCondition:e=>"pending"===e.status||"confirmed"===e.status},{key:"ship",text:"发货",type:"primary",icon:"logistics",showCondition:e=>"confirmed"===e.status},{key:"complete",text:"完成订单",type:"success",icon:"completed",showCondition:e=>"shipped"===e.status},{key:"export",text:"导出订单",type:"default",icon:"down"},{key:"print",text:"打印订单",type:"default",icon:"printer"}]),h=C(()=>{const e={};if(i.value.dateRange){const[t,a]=i.value.dateRange.split(",");e.startDate=t,e.endDate=a}return i.value.status&&(e.status=i.value.status),i.value.orderNo&&(e.orderNo=i.value.orderNo),i.value.customerName&&(e.customerName=i.value.customerName),i.value.minAmount&&(e.minAmount=parseFloat(i.value.minAmount)),i.value.maxAmount&&(e.maxAmount=parseFloat(i.value.maxAmount)),e}),k=C(()=>d.value.some(e=>"pending"===e.status)),w=C(()=>d.value.some(e=>"pending"===e.status||"confirmed"===e.status)),I=D([{id:"1",orderNo:"ORD202410210001",status:"pending",statusText:"待处理",customerName:"张三",customerPhone:"138****1234",totalAmount:299,createTime:new Date("2024-10-21 10:30:00"),priority:"normal",source:"小程序",items:[{id:"1",productName:"AI绘画服务套餐",productImage:"/images/product1.jpg",quantity:1,price:299}]},{id:"2",orderNo:"ORD202410210002",status:"confirmed",statusText:"已确认",customerName:"李四",customerPhone:"139****5678",totalAmount:599,createTime:new Date("2024-10-20 15:20:00"),priority:"high",source:"官网",items:[{id:"2",productName:"智能语音助手高级版",productImage:"/images/product2.jpg",quantity:1,price:599}]},{id:"3",orderNo:"ORD202410210003",status:"processing",statusText:"处理中",customerName:"王五",customerPhone:"136****9012",totalAmount:1299,createTime:new Date("2024-10-19 09:15:00"),priority:"normal",source:"APP",items:[{id:"3",productName:"企业级AI解决方案",productImage:"/images/product3.jpg",quantity:1,price:1299}]},{id:"4",orderNo:"ORD202410210004",status:"shipped",statusText:"已发货",customerName:"赵六",customerPhone:"137****3456",totalAmount:199,createTime:new Date("2024-10-18 14:45:00"),priority:"normal",source:"小程序",items:[{id:"4",productName:"基础AI工具包",productImage:"/images/product4.jpg",quantity:1,price:199}]},{id:"5",orderNo:"ORD202410210005",status:"delivered",statusText:"已完成",customerName:"钱七",customerPhone:"135****7890",totalAmount:899,createTime:new Date("2024-10-17 11:20:00"),priority:"normal",source:"官网",items:[{id:"5",productName:"专业AI创作工具",productImage:"/images/product5.jpg",quantity:1,price:899}]}]),_=async e=>{try{return await new Promise(e=>setTimeout(e,800)),{records:I.value,total:I.value.length,pageSize:e.pageSize||10,current:e.pageNumber||1,pages:Math.ceil(I.value.length/(e.pageSize||10))}}catch(t){throw v({type:"danger",message:"获取订单列表失败"}),t}},F=e=>{const t=d.value.findIndex(t=>t.id===e.id);-1===t?d.value.push(e):d.value.splice(t,1),r.value=d.value.length===(s.value?.getData()?.length||0)},L=async e=>{try{await f({title:"确认删除",message:`确定要删除订单 ${e.orderNo} 吗？此操作不可恢复。`});const t=I.value.findIndex(t=>t.id===e.id);if(-1!==t){I.value.splice(t,1),g("删除成功");const a=d.value.findIndex(t=>t.id===e.id);-1!==a&&d.value.splice(a,1),s.value?.refresh()}}catch(t){}},O=(e,t)=>{switch(t){case"view":a.push(`/trade/order/detail/${e.id}`);break;case"edit":a.push(`/trade/order/edit/${e.id}`);break;case"confirm":oe();break;case"cancel":le();break;case"ship":re();break;case"complete":ie()}},G=e=>{s.value?.refresh()},Y=(e,t)=>{d.value=[],r.value=!1},H=e=>{d.value=[],r.value=!1},Q=e=>{i.value.dateRange=e.selectedValues.join(","),o.value=!1,ae()},W=e=>{i.value.status=e.selectedValues[0],l.value=!1,ae()},Z=e=>{d.value=e?[...s.value?.getData()||[]]:[]},K=async()=>{try{await f({title:"批量确认",message:`确定要确认选中的 ${d.value.length} 个订单吗？`}),d.value.forEach(e=>{"pending"===e.status&&(e.statusText="已确认")}),g("批量确认成功"),s.value?.refresh(),d.value=[],r.value=!1}catch(e){}},X=async()=>{try{await f({title:"批量取消",message:`确定要取消选中的 ${d.value.length} 个订单吗？`}),d.value.forEach(e=>{"pending"!==e.status&&"confirmed"!==e.status||(e.statusText="已取消")}),g("批量取消成功"),s.value?.refresh(),d.value=[],r.value=!1}catch(e){}},ee=async()=>{try{await f({title:"批量删除",message:`确定要删除选中的 ${d.value.length} 个订单吗？此操作不可恢复。`}),d.value.forEach(e=>{const t=I.value.findIndex(t=>t.id===e.id);-1!==t&&I.value.splice(t,1)}),g("批量删除成功"),s.value?.refresh(),d.value=[],r.value=!1}catch(e){}},te=()=>{a.push("/trade/order/create")},ae=()=>{s.value?.refresh()},se=e=>{try{const t=new Date(e);return t.toLocaleDateString("zh-CN")+" "+t.toLocaleTimeString("zh-CN",{hour:"2-digit",minute:"2-digit"})}catch{return e}},oe=async e=>{},le=async e=>{},re=async e=>{},ie=async e=>{};return N(i,()=>{},{deep:!0,immediate:!0}),(t,a)=>{const i=U,v=m,f=x,g=u,D=q,C=je,N=J,I=b,M=y,ae=e;return S(),B(ae,{"safe-area":"",scrollable:"","theme-mode":"auto"},{default:$(()=>[d.value.length>0?(S(),j("div",Se,[T("div",Te,[A(i,{modelValue:r.value,"onUpdate:modelValue":a[0]||(a[0]=e=>r.value=e),onChange:Z},{default:$(()=>[P(" 已选中 "+E(d.value.length)+" 个订单 ",1)]),_:1},8,["modelValue"])]),T("div",_e,[A(v,{type:"primary",size:"small",onClick:K,disabled:!k.value},{default:$(()=>[...a[6]||(a[6]=[P(" 批量确认 ",-1)])]),_:1},8,["disabled"]),A(v,{type:"warning",size:"small",onClick:X,disabled:!w.value},{default:$(()=>[...a[7]||(a[7]=[P(" 批量取消 ",-1)])]),_:1},8,["disabled"]),A(v,{type:"danger",size:"small",onClick:ee},{default:$(()=>[...a[8]||(a[8]=[P(" 批量删除 ",-1)])]),_:1})])])):V("",!0),A(C,{ref_key:"orderListRef",ref:s,api:_,params:h.value,searchable:"",selectable:"",deletable:"","show-actions":!0,"action-buttons":p.value,onSelect:F,onDelete:L,onAction:O,onSearch:G,onTabChange:Y,onLoad:H},{"order-header":$(({order:e,index:t})=>{return[T("div",Ee,[A(f,{type:(s=e.status,{pending:"warning",confirmed:"primary",processing:"info",shipped:"success",delivered:"success",cancelled:"danger",refunded:"danger"}[s]||"default"),size:"medium"},{default:$(()=>[P(E(e.statusText),1)]),_:2},1032,["type"]),"high"===e.priority?(S(),j("span",$e,[A(g,{name:"fire-o",color:"#ff4d4f"}),a[9]||(a[9]=P(" 加急 ",-1))])):V("",!0),e.source?(S(),j("span",Pe,E(e.source),1)):V("",!0)])];var s}),"order-content":$(({order:e})=>{return[T("div",Ve,[T("div",Re,[A(g,{name:"user-o"}),T("span",ze,E(e.customerName),1),e.customerPhone?(S(),j("span",Fe,E(e.customerPhone),1)):V("",!0)]),T("div",Be,[T("div",Le,[(S(!0),j(R,null,z(e.items?.slice(0,3),e=>(S(),B(D,{key:e.id,src:e.productImage,width:"40",height:"40",fit:"cover",radius:"4"},null,8,["src"]))),128)),(e.items?.length||0)>3?(S(),j("div",Oe," +"+E((e.items?.length||0)-3),1)):V("",!0)]),T("div",Me,[T("div",Ue,E((s=e.items,s&&0!==s.length?s.slice(0,2).map(e=>e.productName).join("，")+(s.length>2?"...":""):"暂无商品")),1),T("div",qe," 共 "+E(e.items?.length||0)+" 件商品 ",1)])]),T("div",Ge,[a[10]||(a[10]=T("span",{class:"amount-label"},"订单金额:",-1)),T("span",Ye,"¥"+E((t=e.totalAmount,t.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g,","))),1)]),T("div",He,[A(g,{name:"clock-o"}),T("span",Qe,E(se(e.createTime)),1)])])];var t,s}),empty:$(()=>[T("div",We,[A(g,{name:"orders-o",size:"64",color:"#dcdee0"}),a[12]||(a[12]=T("p",{class:"empty-text"},"暂无订单数据",-1)),a[13]||(a[13]=T("p",{class:"empty-desc"},"您可以尝试调整筛选条件或创建新订单",-1)),A(v,{type:"primary",onClick:te},{default:$(()=>[...a[11]||(a[11]=[P(" 创建新订单 ",-1)])]),_:1})])]),_:1},8,["params","action-buttons"]),A(I,{show:o.value,"onUpdate:show":a[3]||(a[3]=e=>o.value=e),position:"bottom"},{default:$(()=>[A(N,{modelValue:n.value,"onUpdate:modelValue":a[1]||(a[1]=e=>n.value=e),type:"daterange",title:"选择时间范围",onConfirm:Q,onCancel:a[2]||(a[2]=e=>o.value=!1)},null,8,["modelValue"])]),_:1},8,["show"]),A(I,{show:l.value,"onUpdate:show":a[5]||(a[5]=e=>l.value=e),position:"bottom"},{default:$(()=>[A(M,{columns:c,title:"选择订单状态",onConfirm:W,onCancel:a[4]||(a[4]=e=>l.value=!1)})]),_:1},8,["show"])]),_:1})}}}),[["__scopeId","data-v-3f46715d"]]);export{Je as default};
