import{S as e}from"./sdkwork-page-container-DqaCEpSi.js";import{z as t,k as l,ae as a,f as s,a as i,w as o,Z as n,Q as r,R as u,a9 as d,a0 as c,U as v,V as h,o as p,n as m,b as y,P as g,S,W as f,j as b,$ as T,F as k,Y as _,t as w,a4 as E,ab as C,aa as P}from"./vue-vendor-B1RsE4Tz.js";import{_ as I,a as D}from"./sdkwork-subtitles-Bag3APxz.js";import{_ as R,S as A,aQ as L}from"./index-mGUiS-yG.js";import{S as M,a as O}from"./index-s3qKP5Pp.js";import{S as x}from"./sdkwork-icon-0ITLYrI-.js";import{S as N}from"./sdkwork_stream_player-jdQRpzp4.js";import{S as H}from"./sdkwork-video-player-D1kLyF1l.js";import"./sdkwork-popup-DS-7-Y-L.js";import"./utils-vendor-WEzSe-CR.js";import"sdkwork-ai-iot-sdk";var U=(e=>(e.PLAYER="player",e.REALTIME="realtime",e))(U||{}),B=(e=>(e.LOAD_START="load_start",e.LOAD_COMPLETE="load_complete",e.LOAD_ERROR="load_error",e.SLIDE_CHANGE_START="slide_change_start",e.SLIDE_CHANGE_COMPLETE="slide_change_complete",e.DISPLAY_CHANGE="display_change",e.SYNC_START="sync_start",e.SYNC_STOP="sync_stop",e.RECOGNITION_START="recognition_start",e.RECOGNITION_RESULT="recognition_result",e.RECOGNITION_END="recognition_end",e.PLAYBACK_COMPLETE="playback_complete",e.CLEARED="cleared",e))(B||{});class Y{slides=null;realtimeSlides=[];currentSlide=null;previousSlide=null;lastSyncTime=0;syncIntervalId=null;eventListeners=new Map;displayChangeCallbacks=new Set;mode;syncConfig;constructor(e={}){this.mode=e.mode||U.PLAYER,this.syncConfig={syncInterval:100,preloadTime:200,delayTime:0,smoothTransition:!0,defaultTransitionDuration:300,...e.syncConfig},this.initializeEventSystem()}initializeEventSystem(){Object.values(B).forEach(e=>{this.eventListeners.set(e,new Set)})}async loadFromUrl(e){this.emit(B.LOAD_START,this.createDisplayEvent(null,0));try{const t=await fetch(e);if(!t.ok)throw new Error(`HTTP ${t.status}: ${t.statusText}`);const l=await t.text();return this.loadFromString(l)}catch(t){throw this.emit(B.LOAD_ERROR,this.createDisplayEvent(null,0)),new Error(`加载URL失败: ${t instanceof Error?t.message:String(t)}`)}}async loadFromFile(e){return new Promise((t,l)=>{const a=new FileReader;a.onload=e=>{const a=e.target?.result;this.loadFromString(a).then(t).catch(l)},a.onerror=()=>l(new Error("文件读取失败")),a.readAsText(e,"utf-8")})}async loadFromBlob(e){const t=new File([e],"slides",{type:e.type});return this.loadFromFile(t)}async loadFromString(e){try{const t=JSON.parse(e);this.validateSlidesData(t);const l=this.processSlidesTiming(t);return this.setSlides(l),this.emit(B.LOAD_COMPLETE,this.createDisplayEvent(null,0)),l}catch(t){throw this.emit(B.LOAD_ERROR,this.createDisplayEvent(null,0)),new Error(`解析幻灯片数据失败: ${t instanceof Error?t.message:String(t)}`)}}validateSlidesData(e){if(!e.title||"string"!=typeof e.title)throw new Error("幻灯片标题缺失或格式错误");if(!Array.isArray(e.items))throw new Error("幻灯片条目必须是数组");e.items.forEach((e,t)=>{if(!e.title||!e.content)throw new Error(`幻灯片 ${t+1} 缺少标题或内容`)})}processSlidesTiming(e){let t=0;const l=[];for(const a of e.items){const e={...a,sequence:a.sequence||l.length+1};e.startTime=a.startTime??t,e.duration=a.duration??5e3,e.endTime=a.endTime??e.startTime+e.duration,l.push(e),t=e.endTime}return{...e,items:l,totalDuration:t}}addRealtimeSlide(e,t,l){const a={...e,startTime:t,endTime:l,duration:l-t};return this.realtimeSlides.push(a),this.mode===U.REALTIME&&this.handleRealtimeModeSlide(a),this.emit(B.RECOGNITION_RESULT,this.createDisplayEvent(a,t)),a}handleRealtimeModeSlide(e){this.previousSlide=this.currentSlide,this.currentSlide=e,this.emitDisplayChange(e,e.startTime||0,!1,"voice")}startSync(){this.stopSync(),this.emit(B.SYNC_START,this.createDisplayEvent(null,0)),this.mode===U.PLAYER&&(this.syncIntervalId=setInterval(()=>{this.lastSyncTime>0&&this.updatePlaybackTime(this.lastSyncTime)},this.syncConfig.syncInterval))}stopSync(){this.syncIntervalId&&(clearInterval(this.syncIntervalId),this.syncIntervalId=null),this.emit(B.SYNC_STOP,this.createDisplayEvent(null,0))}updatePlaybackTime(e){return this.lastSyncTime=e,this.mode===U.PLAYER?this.handlePlayerModeTimeUpdate(e):this.handleRealtimeModeTimeUpdate(e)}handlePlayerModeTimeUpdate(e){if(!this.slides)return null;const t=[...this.slides.items,...this.realtimeSlides].sort((e,t)=>(e.startTime||0)-(t.startTime||0)),l=this.findCurrentSlide(t,e);return l!==this.currentSlide&&(this.previousSlide=this.currentSlide,this.currentSlide=l,this.emitDisplayChange(l,e,!1,"time")),l}handleRealtimeModeTimeUpdate(e){const t=this.realtimeSlides.filter(t=>{const l=t.startTime||0,a=t.endTime||l+5e3;return e>=l&&e<=a}),l=t.length>0?t[t.length-1]:null;return l!==this.currentSlide&&(this.previousSlide=this.currentSlide,this.currentSlide=l,this.emitDisplayChange(l,e,!1,"voice")),l}findCurrentSlide(e,t){for(const l of e){const e=l.startTime||0,a=l.endTime||e+5e3,s=e-this.syncConfig.preloadTime,i=a+this.syncConfig.delayTime;if(t>=s&&t<=i)return l}return null}processSpeechRecognition(e,t,l){if(!this.slides||t<.7)return null;const a=this.findSlideByKeywords(e);if(a){const e={...a,startTime:l,endTime:l+5e3,duration:5e3};return this.addRealtimeSlide(e,l,l+5e3)}return null}findSlideByKeywords(e){if(!this.slides)return null;const t=e.toLowerCase();for(const l of this.slides.items)if(l.keywords?.some(e=>t.includes(e.toLowerCase())))return l;for(const l of this.slides.items){if((l.title+" "+l.content).toLowerCase().includes(t))return l}return null}getCurrentSlide(){return this.currentSlide}goToSlide(e){if(!this.slides||e<0||e>=this.slides.items.length)throw new Error(`无效的幻灯片索引: ${e}`);const t=this.slides.items[e];this.previousSlide=this.currentSlide,this.currentSlide=t,this.emitDisplayChange(t,Date.now(),!0,"manual")}goToPreviousSlide(){if(!this.slides||!this.currentSlide)return;const e=this.slides.items.findIndex(e=>e===this.currentSlide);e>0&&this.goToSlide(e-1)}goToNextSlide(){if(!this.slides||!this.currentSlide)return;const e=this.slides.items.findIndex(e=>e===this.currentSlide);e<this.slides.items.length-1&&this.goToSlide(e+1)}clear(){this.slides=null,this.realtimeSlides=[],this.currentSlide=null,this.previousSlide=null,this.lastSyncTime=0,this.emit(B.CLEARED,this.createDisplayEvent(null,0))}onDisplayChange(e){this.displayChangeCallbacks.add(e)}offDisplayChange(e){this.displayChangeCallbacks.delete(e)}on(e,t){const l=this.eventListeners.get(e);l&&l.add(t)}off(e,t){const l=this.eventListeners.get(e);l&&l.delete(t)}emitDisplayChange(e,t,l=!1,a="auto"){const s=this.createDisplayEvent(e,t,l,a);this.emit(B.DISPLAY_CHANGE,s),this.displayChangeCallbacks.forEach(e=>{try{e(s)}catch(t){console.error("Display change callback error:",t)}})}emit(e,t){const l=this.eventListeners.get(e);l&&l.forEach(l=>{try{l(t)}catch(a){console.error(`Event ${e} callback error:`,a)}})}createDisplayEvent(e,t,l=!1,a="auto"){return{currentSlide:e,previousSlide:this.previousSlide,currentTime:t,timestamp:Date.now(),isManual:l,reason:a}}setSlides(e){this.slides=e,this.currentSlide=null,this.previousSlide=null}getTotalSlides(){return this.slides?.items.length||0}getCurrentSlideIndex(){return this.slides&&this.currentSlide?this.slides.items.findIndex(e=>e===this.currentSlide):-1}isPlaying(){return null!==this.syncIntervalId}destroy(){this.stopSync(),this.clear(),this.eventListeners.clear(),this.displayChangeCallbacks.clear()}}var V=(e=>(e.IDLE="idle",e.PLAYING="playing",e.PAUSED="paused",e.STOPPED="stopped",e.COMPLETED="completed",e))(V||{}),z=(e=>(e.AUTO="auto",e.MANUAL="manual",e.HYBRID="hybrid",e))(z||{}),$=(e=>(e.PLAYBACK_STATE_CHANGE="playback_state_change",e.SLIDE_CHANGE="slide_change",e.TIME_UPDATE="time_update",e.PLAY_START="play_start",e.PLAY_PAUSE="play_pause",e.PLAY_STOP="play_stop",e.PLAY_COMPLETE="play_complete",e.LOAD_START="load_start",e.LOAD_COMPLETE="load_complete",e.LOAD_ERROR="load_error",e.VOICE_RECOGNITION="voice_recognition",e.USER_INTERACTION="user_interaction",e.CONFIG_UPDATE="config_update",e))($||{});const F={controlMode:z.AUTO,slidesMode:U.PLAYER,syncConfig:{syncInterval:100,preloadTime:200,delayTime:0,smoothTransition:!0,defaultTransitionDuration:300},voiceSync:{enabled:!0,confidenceThreshold:.7,keywordMatching:"fuzzy",delayCompensation:0,realtimeRecognition:!0},loop:!1,showTransitions:!0,defaultSlideDuration:5e3,preloadResources:!0},G={totalPlays:0,totalPlayTime:0,averagePlayTime:0,slideChanges:0,voiceRecognitionSuccess:0,voiceRecognitionFailures:0,userInteractions:0},q=t("slides",{state:()=>({playbackState:V.IDLE,currentTime:0,totalDuration:0,currentSlideIndex:-1,isLoading:!1,error:null,lastUpdated:Date.now(),slides:null,currentSlide:null,previousSlide:null,config:{...F},stats:{...G},events:[],userInteractions:[],voiceRecognitionResults:[],_slidesHandler:null,_playbackInterval:null,_startTime:0,_pausedTime:0,_audioPlayer:null}),getters:{isPlaying:e=>e.playbackState===V.PLAYING,isPaused:e=>e.playbackState===V.PAUSED,isStopped:e=>e.playbackState===V.STOPPED,hasError:e=>null!==e.error,totalSlides:e=>e.slides?.items.length||0,slideProgress:e=>{const t=e.slides?.items.length||0;return t>0?(e.currentSlideIndex+1)/t:0},progressPercentage:e=>e.totalDuration>0?e.currentTime/e.totalDuration*100:0,timeRemaining:e=>e.totalDuration-e.currentTime},actions:{_initializeSlidesHandler(){this._slidesHandler&&this._slidesHandler.destroy(),this._slidesHandler=new Y({mode:this.config.slidesMode,syncConfig:this.config.syncConfig}),this._slidesHandler.onDisplayChange(e=>{this._handleSlideChange(e)})},_handleSlideChange(e){this.previousSlide=this.currentSlide,this.currentSlide=e.currentSlide,this.currentSlideIndex=this._getCurrentSlideIndex(),this.currentTime=e.currentTime,this._recordEvent($.SLIDE_CHANGE,{currentSlide:e.currentSlide,previousSlide:e.previousSlide,reason:e.reason}),this.stats.slideChanges++,this.lastUpdated=Date.now()},_recordEvent(e,t){const l={type:e,timestamp:Date.now(),data:t,state:{playbackState:this.playbackState,currentTime:this.currentTime,totalDuration:this.totalDuration,progress:this.progressPercentage,currentSlideIndex:this.currentSlideIndex,currentSlide:this.currentSlide,previousSlide:this.previousSlide,isLoading:this.isLoading,error:this.error,lastUpdated:this.lastUpdated}};this.events.push(l),this.events.length>100&&this.events.shift()},_getCurrentSlideIndex(){return this.slides&&this.currentSlide?this.slides.items.findIndex(e=>e.sequence===this.currentSlide?.sequence):-1},play(){this.playbackState!==V.PLAYING&&(this._slidesHandler||this._initializeSlidesHandler(),this.playbackState===V.PAUSED?(this.playbackState=V.PLAYING,this._startPlaybackTimer()):(this.playbackState=V.PLAYING,this.currentTime=0,this._startPlaybackTimer(),this._slidesHandler?.startSync(),this.stats.totalPlays++),this._recordEvent($.PLAY_START,{startTime:this.currentTime}))},pause(){this.playbackState===V.PLAYING&&(this.playbackState=V.PAUSED,this._stopPlaybackTimer(),this._slidesHandler?.stopSync(),this._recordEvent($.PLAY_PAUSE,{pauseTime:this.currentTime}))},stop(){this.playbackState!==V.STOPPED&&(this.playbackState=V.STOPPED,this._stopPlaybackTimer(),this._slidesHandler?.stopSync(),this.currentTime>0&&(this.stats.totalPlayTime+=this.currentTime,this.stats.averagePlayTime=this.stats.totalPlayTime/this.stats.totalPlays),this._recordEvent($.PLAY_STOP,{stopTime:this.currentTime}))},seek(e){e<0||e>this.totalDuration||(this.currentTime=e,this._slidesHandler&&this._slidesHandler.updatePlaybackTime(e),this._recordEvent($.TIME_UPDATE,{seekTime:e}))},_startPlaybackTimer(){this._stopPlaybackTimer(),this._playbackInterval=setInterval(()=>{this.playbackState===V.PLAYING&&(this.currentTime+=100,this.currentTime>=this.totalDuration&&(this.config.loop?this.currentTime=0:this._handlePlaybackComplete()),this._slidesHandler?.updatePlaybackTime(this.currentTime),this.lastUpdated=Date.now())},100)},_stopPlaybackTimer(){this._playbackInterval&&(clearInterval(this._playbackInterval),this._playbackInterval=null)},_handlePlaybackComplete(){this.playbackState=V.COMPLETED,this._stopPlaybackTimer(),this._slidesHandler?.stopSync(),this.stats.totalPlayTime+=this.currentTime,this.stats.averagePlayTime=this.stats.totalPlayTime/this.stats.totalPlays,this._recordEvent($.PLAY_COMPLETE,{totalDuration:this.totalDuration})},goToSlide(e){!this.slides||e<0||e>=this.slides.items.length||(this._slidesHandler?.goToSlide(e),this._recordUserInteraction("click",`slide-${e}`))},previousSlide(){this._slidesHandler?.goToPreviousSlide(),this._recordUserInteraction("click","previous-slide")},nextSlide(){this._slidesHandler?.goToNextSlide(),this._recordUserInteraction("click","next-slide")},_recordUserInteraction(e,t){const l={type:e,target:t,timestamp:Date.now()};this.userInteractions.push(l),this.stats.userInteractions++,this.userInteractions.length>50&&this.userInteractions.shift()},async loadSlides(e){this.isLoading=!0,this.error=null,this._recordEvent($.LOAD_START,{dataType:typeof e});try{let t;this._slidesHandler||this._initializeSlidesHandler(),"string"==typeof e?t=await this._slidesHandler.loadFromString(e):e instanceof File?t=await this._slidesHandler.loadFromFile(e):(t=e,this._slidesHandler.loadFromString(JSON.stringify(e))),this.slides=t,this.totalDuration=t.totalDuration||0,this.playbackState=V.IDLE,this.currentTime=0,this.currentSlideIndex=-1,this.currentSlide=null,this.previousSlide=null,this._recordEvent($.LOAD_COMPLETE,{slidesCount:t.items.length,totalDuration:this.totalDuration})}catch(t){throw this.error=t instanceof Error?t.message:"加载幻灯片失败",this._recordEvent($.LOAD_ERROR,{error:this.error}),t}finally{this.isLoading=!1}},clearSlides(){this.slides=null,this.currentSlide=null,this.previousSlide=null,this.currentSlideIndex=-1,this.totalDuration=0,this.currentTime=0,this.stop(),this._slidesHandler&&this._slidesHandler.clear()},updateConfig(e){Object.assign(this.config,e),this._slidesHandler&&this._initializeSlidesHandler(),this._recordEvent($.CONFIG_UPDATE,{config:this.config})},resetConfig(){this.config={...F},this._slidesHandler&&this._initializeSlidesHandler()},processVoiceRecognition(e){this.config.voiceSync.enabled&&(this.voiceRecognitionResults.push(e),this.voiceRecognitionResults.length>20&&this.voiceRecognitionResults.shift(),e.confidence>=this.config.voiceSync.confidenceThreshold?(this.stats.voiceRecognitionSuccess++,this._slidesHandler&&this._slidesHandler.processSpeechRecognition(e.text,e.confidence,e.timestamp)):this.stats.voiceRecognitionFailures++,this._recordEvent($.VOICE_RECOGNITION,{result:e,success:e.confidence>=this.config.voiceSync.confidenceThreshold}))},reset(){this.clearSlides(),this.resetConfig(),this.stats={...G},this.events=[],this.userInteractions=[],this.voiceRecognitionResults=[],this.error=null},destroy(){this.stop(),this._slidesHandler&&(this._slidesHandler.destroy(),this._slidesHandler=null),this._stopPlaybackTimer()}}}),j=R(l({__name:"sdkwork-swiper",props:{autoplay:{default:0},duration:{default:500},initialSwipe:{default:0},loop:{type:Boolean,default:!0},showIndicators:{type:Boolean,default:!0},indicatorColor:{default:"#1989fa"},vertical:{type:Boolean,default:!1},touchable:{type:Boolean,default:!0},stopPropagation:{type:Boolean,default:!1},lazyRender:{type:Boolean,default:!0},width:{default:""},height:{default:""},customClass:{default:""},themeMode:{default:"auto"}},emits:["change"],setup(e,{expose:t,emit:l}){const h=a(),p=e,m=l,y=s(()=>"dark"===p.themeMode||"light"!==p.themeMode&&(!("undefined"==typeof window||!window.matchMedia)&&window.matchMedia("(prefers-color-scheme: dark)").matches)),g=s(()=>y.value?"sdkwork-swiper--dark":"sdkwork-swiper--light"),S=i(null),f=e=>{m("change",e)};return t({prev:()=>{S.value?.prev()},next:()=>{S.value?.next()},swipeTo:(e,t)=>{S.value?.swipeTo(e,t)},resize:()=>{S.value?.resize()}}),o(()=>p.autoplay,e=>{S.value&&S.value.resize()}),o(()=>p.loop,()=>{S.value&&S.value.resize()}),(t,l)=>{const a=M;return r(),n(a,{ref_key:"swipeRef",ref:S,autoplay:e.autoplay,duration:e.duration,"initial-swipe":e.initialSwipe,loop:e.loop,"show-indicators":e.showIndicators,"indicator-color":e.indicatorColor,vertical:e.vertical,touchable:e.touchable,"stop-propagation":e.stopPropagation,"lazy-render":e.lazyRender,width:e.width,height:e.height,class:u([e.customClass,g.value]),onChange:f},d({default:c(()=>[v(t.$slots,"default",{},void 0,!0)]),_:2},[h.indicator?{name:"indicator",fn:c(()=>[v(t.$slots,"indicator",{},void 0,!0)]),key:"0"}:void 0]),1032,["autoplay","duration","initial-swipe","loop","show-indicators","indicator-color","vertical","touchable","stop-propagation","lazy-render","width","height","class"])}}}),[["__scopeId","data-v-9c71b7fd"]]),K=R(l({__name:"sdkwork-swiper-item",props:{customClass:{default:""},themeMode:{default:"auto"},width:{default:""},height:{default:""}},setup(e){const t=e,l=s(()=>"dark"===t.themeMode||"light"!==t.themeMode&&(!("undefined"==typeof window||!window.matchMedia)&&window.matchMedia("(prefers-color-scheme: dark)").matches)),a=s(()=>l.value?"sdkwork-swiper-item--dark":"sdkwork-swiper-item--light"),i=s(()=>{const e={};return t.width&&(e.width="number"==typeof t.width?`${t.width}px`:t.width),t.height&&(e.height="number"==typeof t.height?`${t.height}px`:t.height),e});return(t,l)=>{const s=O;return r(),n(s,{class:u([e.customClass,a.value]),style:h(i.value)},{default:c(()=>[v(t.$slots,"default",{},void 0,!0)]),_:3},8,["class","style"])}}}),[["__scopeId","data-v-67fbbc6b"]]),X=["src","autoplay","loop","muted","preload","crossorigin"],J={key:0,class:"audio-controls"},Q=["title"],W={key:0,class:"progress-container"},Z={class:"time-current"},ee={class:"progress-track"},te={class:"time-duration"},le={class:"volume-control"},ae=["title"],se={class:"volume-track"},ie={key:1,class:"audio-info"},oe={class:"audio-title"},ne={class:"audio-artist"},re={key:2,class:"loading-indicator"},ue={key:3,class:"error-display"},de=R(l({__name:"sdkwork-audio-player",props:{src:{},autoplay:{type:Boolean,default:!1},controls:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},muted:{type:Boolean,default:!1},preload:{default:"auto"},crossorigin:{default:void 0},currentTime:{default:0},volume:{default:1},playbackRate:{default:1},mode:{default:"card"},type:{default:"audio/mpeg"},showControls:{type:Boolean,default:!0},showProgress:{type:Boolean,default:!0},showInfo:{type:Boolean,default:!0},title:{},artist:{},album:{},streamMode:{type:Boolean,default:!1},streamSampleRate:{default:16e3},streamChannels:{default:1},themeMode:{default:"auto"}},emits:["loadstart","durationchange","loadedmetadata","loadeddata","progress","canplay","canplaythrough","play","pause","seeked","seeking","timeupdate","ended","ratechange","volumechange","waiting","stalled","suspend","abort","error","emptied","ready","autoplay-blocked","autoplay-status-change","state-change"],setup(e,{expose:t,emit:l}){const a=e,n=l,d=i(),c=i(),k=i(),_=i(),w=i(0),E=i(0),C=i(1),P=i(1),I=i(!1),D=i(!1),R=i(!1),M=i(null),O=s(()=>a.streamMode),H=s(()=>E.value<=0?0:w.value/E.value*100),U=s(()=>100*C.value),B=s(()=>M.value?.message||"播放错误");p(async()=>{await m(),O.value?(_.value=new N,n("ready",_.value),Y(),a.autoplay&&await z()):(k.value=new A({autoplay:a.autoplay,loop:a.loop,volume:a.volume,events:{onPlay:()=>{I.value=!0,n("play")},onPause:()=>{I.value=!1,n("pause")},onStop:()=>{I.value=!1,w.value=0},onEnd:()=>{I.value=!1,n("ended")},onError:e=>{M.value=e,n("error",e)},onTimeUpdate:(e,t)=>{w.value=e,E.value=t,n("timeupdate",e)},onVolumeChange:e=>{C.value=e,R.value=0===e,n("volumechange",e)},onAutoplayBlocked:e=>{n("autoplay-blocked",e)},onAutoplayStatusChange:e=>{n("autoplay-status-change",e)}}}),n("ready",k.value),a.src&&await V())});const Y=()=>{_.value},V=async()=>{if(k.value&&a.src)try{await k.value.play(a.src),n("loadstart")}catch(e){M.value=e instanceof Error?e:new Error(String(e)),n("error",M.value)}},z=async()=>{if(_.value)try{await _.value.start(a.streamSampleRate,a.streamChannels),I.value=!0,n("play")}catch(e){M.value=e instanceof Error?e:new Error(String(e)),n("error",M.value)}},$=()=>n("loadstart"),F=()=>{E.value=c.value?.duration||0,n("durationchange",E.value)},G=()=>{E.value=c.value?.duration||0,n("loadedmetadata")},q=()=>n("loadeddata"),j=e=>{const t=e.target,l=t.buffered.length>0?t.buffered.end(0):0;n("progress",l)},K=()=>{D.value=!1,n("canplay")},de=()=>n("canplaythrough"),ce=()=>{I.value=!0,n("play")},ve=()=>{I.value=!1,n("pause")},he=e=>{const t=e.target;n("seeked",t.currentTime)},pe=()=>n("seeking"),me=e=>{const t=e.target;w.value=t.currentTime,n("timeupdate",t.currentTime)},ye=()=>{I.value=!1,n("ended")},ge=e=>{const t=e.target;P.value=t.playbackRate,n("ratechange",t.playbackRate)},Se=e=>{const t=e.target;C.value=t.volume,R.value=t.muted,n("volumechange",t.volume)},fe=()=>{D.value=!0,n("waiting")},be=()=>n("stalled"),Te=()=>n("suspend"),ke=()=>n("abort"),_e=e=>{const t=e.target;M.value=new Error(`Audio error: ${t.error?.message||"Unknown error"}`),n("error",M.value)},we=()=>n("emptied"),Ee=async()=>{I.value?await Pe():await Ce()},Ce=async()=>{O.value?await(_.value?.resume()):await(k.value?.resume())},Pe=()=>{O.value?_.value?.pause():k.value?.pause()},Ie=()=>{if(O.value){const e=_.value?.getVolume()||0;_.value?.setVolume(0===e?C.value:0)}else{const e=k.value?.getVolume()||0;k.value?.setVolume(0===e?C.value:0)}},De=e=>{if(!a.showProgress||E.value<=0)return;const t=e.currentTarget.getBoundingClientRect(),l=(e.clientX-t.left)/t.width,s=E.value*l;Re(s)},Re=e=>{O.value?console.warn("Stream mode does not support seeking"):k.value?.seek(e)},Ae=e=>{const t=e.currentTarget.getBoundingClientRect(),l=(e.clientX-t.left)/t.width,a=Math.max(0,Math.min(1,l));Le(a)},Le=e=>{C.value=e,O.value?_.value?.setVolume(e):k.value?.setVolume(e)},Me=e=>{if(isNaN(e))return"00:00";const t=Math.floor(e/60),l=Math.floor(e%60);return`${t.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`};return o(()=>a.src,async e=>{e&&!O.value&&k.value&&await V()}),o(()=>a.volume,e=>{Le(e)}),o(()=>a.currentTime,e=>{Re(e)}),y(()=>{k.value&&k.value.destroy(),_.value&&_.value.destroy()}),t({play:Ce,pause:Pe,load:()=>{O.value?_.value?.stop():k.value?.stop()},get currentTime(){return w.value},get duration(){return E.value},get volume(){return C.value},get muted(){return R.value},get paused(){return!I.value},get ended(){return w.value>=E.value&&E.value>0},get playbackRate(){return P.value},get readyState(){return O.value||k.value?.getState()===L.READY?4:0},set currentTime(e){Re(e)},set volume(e){Le(e)},set muted(e){Le(e?0:a.volume||1)},set playbackRate(e){P.value=e,O.value||k.value?.setPlaybackRate(e)},togglePlay:Ee,toggleMute:Ie,seek:Re,appendStreamData:e=>{O.value&&_.value&&_.value.appendStreamData(e)},getPlayer:()=>O.value?_.value:k.value,getState:()=>O.value?null:k.value?.getState(),currentTimeRef:w,durationRef:E,volumeRef:C,isPlayingRef:I,isBufferingRef:D,isMutedRef:R,errorRef:M}),(t,l)=>{const s=x;return r(),g("div",{class:u(["sdkwork-audio-player",[`mode-${e.mode}`,{"enable-controls":a.showControls},{"enable-progress":a.showProgress}]])},[S("div",{ref_key:"audioContainer",ref:d,class:"audio-container"},[O.value?f("",!0):(r(),g("audio",{key:0,ref_key:"audioElement",ref:c,src:a.src,autoplay:a.autoplay,controls:!1,loop:a.loop,muted:a.muted,preload:a.preload,crossorigin:a.crossorigin,onLoadstart:$,onDurationchange:F,onLoadedmetadata:G,onLoadeddata:q,onProgress:j,onCanplay:K,onCanplaythrough:de,onPlay:ce,onPause:ve,onSeeked:he,onSeeking:pe,onTimeupdate:me,onEnded:ye,onRatechange:ge,onVolumechange:Se,onWaiting:fe,onStalled:be,onSuspend:Te,onAbort:ke,onError:_e,onEmptied:we},null,40,X))],512),a.showControls?(r(),g("div",J,[S("button",{class:u(["control-btn play-pause-btn",{playing:I.value}]),onClick:Ee,title:I.value?"暂停":"播放"},[b(s,{icon:I.value?"material-symbols:pause-rounded":"material-symbols:play-arrow-rounded",width:"20",height:"20"},null,8,["icon"])],10,Q),a.showProgress?(r(),g("div",W,[S("span",Z,T(Me(w.value)),1),S("div",{class:"progress-bar",onClick:De},[S("div",ee,[S("div",{class:"progress-fill",style:h({width:H.value+"%"})},null,4),S("div",{class:"progress-thumb",style:h({left:H.value+"%"})},null,4)])]),S("span",te,T(Me(E.value)),1)])):f("",!0),S("div",le,[S("button",{class:"control-btn volume-btn",onClick:Ie,title:R.value?"取消静音":"静音"},[b(s,{icon:R.value||0===C.value?"material-symbols:volume-off-rounded":C.value<.5?"material-symbols:volume-down-rounded":"material-symbols:volume-up-rounded",width:"18",height:"18"},null,8,["icon"])],8,ae),S("div",{class:"volume-slider",onClick:Ae},[S("div",se,[S("div",{class:"volume-fill",style:h({width:U.value+"%"})},null,4)])])]),v(t.$slots,"controls",{},void 0,!0)])):f("",!0),a.showInfo?(r(),g("div",ie,[v(t.$slots,"info",{},()=>[S("div",oe,T(a.title||"未知音频"),1),S("div",ne,T(a.artist||"未知艺术家"),1)],!0)])):f("",!0),D.value?(r(),g("div",re,[...l[0]||(l[0]=[S("div",{class:"loading-spinner"},null,-1),S("span",null,"加载中...",-1)])])):f("",!0),M.value?(r(),g("div",ue,[b(s,{icon:"material-symbols:error-rounded",width:"24",height:"24"}),S("span",null,T(B.value),1)])):f("",!0)],2)}}}),[["__scopeId","data-v-2b7618d3"]]),ce={class:"slides-container"},ve={class:"slide-content"},he=["src","alt"],pe=["innerHTML"],me={key:2,class:"slide-text"},ye={class:"slide-title"},ge={class:"slide-body"},Se={class:"slide-number"},fe={key:0,class:"media-container"},be={key:1,class:"control-bar"},Te={class:"control-left"},ke=["title"],_e=["disabled"],we=["disabled"],Ee={class:"time-display"},Ce={class:"control-right"},Pe=["title"],Ie=["title"],De=["title"],Re={key:2,class:"progress-container"},Ae={key:3,class:"loading-overlay"},Le={class:"loading-spinner"},Me={key:4,class:"error-overlay"},Oe={class:"error-content"},xe=R(l({__name:"sdkwork-player-slides",props:{slides:{default:null},autoplay:{type:Boolean,default:!1},loop:{type:Boolean,default:!1},showControls:{type:Boolean,default:!0},showProgress:{type:Boolean,default:!0},showIndicators:{type:Boolean,default:!0},showAudioControls:{type:Boolean,default:!0},showVideoControls:{type:Boolean,default:!0},enableAudio:{type:Boolean,default:!0},enableVideo:{type:Boolean,default:!0},enableSubtitles:{type:Boolean,default:!0},touchable:{type:Boolean,default:!0},mode:{default:"normal"},slidesMode:{default:U.PLAYER},customClass:{default:""}},emits:["slide-change","play","pause","ended","timeupdate","error","loaded"],setup(e,{expose:t,emit:l}){const a=e,d=l,v=q(),m=i(null),w=i(null),E=i(null),C=i(null),P=i(0),R=i(0),A=i(0),L=i(!1),M=i(!1),O=i(null),N=i(a.enableAudio),U=i(a.enableVideo),B=i(a.enableSubtitles),Y=i(!1),z=s(()=>a.slides?.items?.length||0),$=s(()=>a.slides?.items?.[P.value]||null),F=s(()=>P.value>0),G=s(()=>P.value<z.value-1),X=s(()=>A.value>0?R.value/A.value*100:0),J=s(()=>!(!a.slides?.audio&&!a.slides?.video)),Q=s(()=>["slides-swiper",a.customClass]),W=s(()=>a.autoplay?J.value?0:5e3:0),Z=s(()=>{if(a.slides?.items)return{entries:a.slides.items.map((e,t)=>({sequence:t+1,startTime:e.startTime||5e3*t,endTime:e.endTime||5e3*(t+1),text:e.content||e.title})),format:D.LRC,language:"zh-CN",duration:a.slides.totalDuration?a.slides.totalDuration/1e3:void 0}});o(()=>a.slides,e=>{e&&ee(e)},{immediate:!0}),o(()=>v.isPlaying,e=>{e!==L.value&&(L.value=e,e?re():ue())}),o(()=>v.currentSlideIndex,e=>{void 0!==e&&e!==P.value&&e>=0&&e<z.value&&le(e)}),o(()=>v.currentTime,e=>{void 0!==e&&Math.abs(e-R.value)>100&&(R.value=e,xe(e))});const ee=e=>{M.value=!1,O.value=null,A.value=e.totalDuration||e.items.reduce((e,t)=>e+(t.duration||5e3),0),e.items.length>0&&le(0),d("loaded")},te=e=>{if(P.value===e)return;P.value=e;const t=a.slides?.items?.[e];if(t){v.currentSlideIndex!==e&&(v.currentSlideIndex=e,v.currentSlide=t);const l=t.startTime||0;(R.value<l||R.value>(t.endTime||l+5e3))&&xe(l),d("slide-change",t,e)}},le=e=>{e>=0&&e<z.value&&(P.value=e,m.value&&m.value.swipeTo(e),te(e))},ae=()=>{F.value&&le(P.value-1)},se=()=>{G.value&&le(P.value+1)},ie=()=>{L.value?ne():oe()},oe=()=>{L.value||(L.value=!0,v.playbackState=V.PLAYING,re(),d("play"))},ne=()=>{L.value&&(L.value=!1,v.playbackState=V.PAUSED,ue(),d("pause"))},re=()=>{w.value&&N.value&&w.value.play(),E.value&&U.value&&E.value.play()},ue=()=>{w.value&&w.value.pause(),E.value&&E.value.pause()},xe=e=>{R.value=e,w.value&&w.value.seek(e/1e3),E.value&&(E.value.currentTime=e/1e3),v.currentTime=e,d("timeupdate",e)},Ne=e=>{const t=1e3*e;Math.abs(t-R.value)>100&&(R.value=t,v.currentTime=t,d("timeupdate",t),je(t))},He=()=>{L.value||(L.value=!0,v.playbackState=V.PLAYING)},Ue=()=>{L.value&&(L.value=!1,v.playbackState=V.PAUSED)},Be=()=>{G.value?se():(L.value=!1,v.playbackState=V.COMPLETED,d("ended"))},Ye=e=>{const t=1e3*e;Math.abs(t-R.value)>100&&(R.value=t,v.currentTime=t,d("timeupdate",t),je(t))},Ve=()=>{L.value||(L.value=!0,v.playbackState=V.PLAYING)},ze=()=>{L.value&&(L.value=!1,v.playbackState=V.PAUSED)},$e=()=>{G.value?se():(L.value=!1,v.playbackState=V.COMPLETED,d("ended"))},Fe=(e,t)=>{console.log("Subtitle entry changed:",e,"at time:",t),e&&e.text},Ge=e=>{console.log("Subtitles loaded successfully at time:",e)},qe=(e,t)=>{console.error("Subtitles load error:",e,"at time:",t)},je=e=>{if(!a.slides?.items||!L.value)return;const t=a.slides.items;let l=-1;for(let a=0;a<t.length;a++){const s=t[a],i=s.startTime||5e3*a,o=s.endTime||i+(s.duration||5e3);if(e>=i&&e<o){l=a;break}}if(l>=0&&l!==P.value){const e=R.value;le(l),R.value=e}},Ke=e=>{const t=e.currentTarget.getBoundingClientRect(),l=(e.clientX-t.left)/t.width*A.value;xe(l)},Xe=()=>{console.log("Slide image loaded")},Je=()=>{console.error("Slide image load error")},Qe=()=>{const e=document.querySelector(".sdkwork-player-slides");document.fullscreenElement?(document.exitFullscreen?.(),Y.value=!1):(e.requestFullscreen?.(),Y.value=!0)},We=()=>{O.value=null,a.slides&&ee(a.slides)},Ze=e=>{const t=Math.floor(e/1e3),l=t%60;return`${Math.floor(t/60).toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`};return p(()=>{a.slides&&(v.slides=a.slides,v.totalDuration=A.value)}),y(()=>{ue()}),t({play:oe,pause:ne,stop:()=>{L.value=!1,v.playbackState=V.STOPPED,R.value=0,le(0),ue(),v.stop()},goToSlide:le,goToPreviousSlide:ae,goToNextSlide:se,toggleFullscreen:Qe,currentSlideIndex:P,isPlaying:L,currentMediaTime:R,totalDuration:A,currentSlide:$}),(t,l)=>(r(),g("div",{class:u(["sdkwork-player-slides",[`mode-${e.mode}`,{"has-video":U.value},{"has-subtitles":B.value}]])},[S("div",ce,[b(j,{ref_key:"swiperRef",ref:m,autoplay:W.value,"initial-swipe":P.value,loop:!1,"show-indicators":e.showIndicators,touchable:e.touchable,class:u(Q.value),onChange:te},{default:c(()=>[(r(!0),g(k,null,_(e.slides?.items||[],(e,t)=>(r(),n(K,{key:e.sequence||t,class:u(["slide-item",{active:t===P.value}])},{default:c(()=>[S("div",ve,[e.image?(r(),g("img",{key:0,src:e.image.url,alt:e.title,class:"slide-image",onLoad:Xe,onError:Je},null,40,he)):e.html?(r(),g("div",{key:1,innerHTML:e.html,class:"slide-html"},null,8,pe)):(r(),g("div",me,[S("h3",ye,T(e.title),1),S("div",ge,T(e.content),1)])),S("div",Se,T(t+1)+" / "+T(z.value),1)])]),_:2},1032,["class"]))),128))]),_:1},8,["autoplay","initial-swipe","show-indicators","touchable","class"])]),J.value?(r(),g("div",fe,[e.slides?.audio&&N.value?(r(),n(de,{key:0,ref_key:"audioPlayerRef",ref:w,src:e.slides.audio.url,autoplay:e.autoplay,loop:!1,"show-controls":e.showAudioControls,"show-progress":e.showProgress,class:u(["audio-player",{hidden:!N.value}]),onTimeupdate:Ne,onPlay:He,onPause:Ue,onEnded:Be},null,8,["src","autoplay","show-controls","show-progress","class"])):f("",!0),e.slides?.video&&U.value?(r(),n(H,{key:1,ref_key:"videoPlayerRef",ref:E,src:e.slides.video.url,autoplay:e.autoplay,loop:!1,controls:e.showVideoControls,class:u(["video-player",{hidden:!U.value}]),onTimeupdate:Ye,onPlay:Ve,onPause:ze,onEnded:$e},null,8,["src","autoplay","controls","class"])):f("",!0),B.value?(r(),n(I,{key:2,ref_key:"subtitlesRef",ref:C,"current-time":R.value,subtitles:Z.value,"is-playing":L.value,"show-controls":!1,class:u(["subtitles",{hidden:!B.value}]),onEntryChange:Fe,onLoadComplete:Ge,onLoadError:qe},null,8,["current-time","subtitles","is-playing","class"])):f("",!0)])):f("",!0),e.showControls?(r(),g("div",be,[S("div",Te,[S("button",{class:u(["control-btn play-pause-btn",{playing:L.value}]),onClick:ie,title:L.value?"暂停":"播放"},[b(x,{icon:L.value?"material-symbols:pause-rounded":"material-symbols:play-arrow-rounded",size:"24"},null,8,["icon"])],10,ke),S("button",{class:"control-btn prev-btn",disabled:!F.value,onClick:ae,title:"上一页"},[b(x,{icon:"material-symbols:skip-previous-rounded",size:"24"})],8,_e),S("button",{class:"control-btn next-btn",disabled:!G.value,onClick:se,title:"下一页"},[b(x,{icon:"material-symbols:skip-next-rounded",size:"24"})],8,we),S("div",Ee,T(Ze(R.value))+" / "+T(Ze(A.value)),1)]),S("div",Ce,[e.slides?.audio?(r(),g("button",{key:0,class:u(["control-btn audio-toggle",{active:N.value}]),onClick:l[0]||(l[0]=e=>N.value=!N.value),title:N.value?"关闭音频":"开启音频"},[b(x,{icon:N.value?"material-symbols:volume-up-rounded":"material-symbols:volume-off-rounded",size:"20"},null,8,["icon"])],10,Pe)):f("",!0),e.slides?.video?(r(),g("button",{key:1,class:u(["control-btn video-toggle",{active:U.value}]),onClick:l[1]||(l[1]=e=>U.value=!U.value),title:U.value?"关闭视频":"开启视频"},[b(x,{icon:U.value?"material-symbols:videocam-rounded":"material-symbols:videocam-off-rounded",size:"20"},null,8,["icon"])],10,Ie)):f("",!0),S("button",{class:u(["control-btn subtitles-toggle",{active:B.value}]),onClick:l[2]||(l[2]=e=>B.value=!B.value),title:B.value?"关闭字幕":"开启字幕"},[b(x,{icon:B.value?"material-symbols:subtitles-rounded":"material-symbols:subtitles-off-rounded",size:"20"},null,8,["icon"])],10,De),S("button",{class:"control-btn fullscreen-btn",onClick:Qe,title:"全屏"},[b(x,{icon:"material-symbols:fullscreen-rounded",size:"20"})])])])):f("",!0),e.showProgress?(r(),g("div",Re,[S("div",{class:"progress-bar",onClick:Ke},[S("div",{class:"progress-fill",style:h({width:X.value+"%"})},null,4),S("div",{class:"progress-thumb",style:h({left:X.value+"%"})},null,4)])])):f("",!0),M.value?(r(),g("div",Ae,[S("div",Le,[b(x,{icon:"material-symbols:progress-activity-rounded",size:"32"}),l[3]||(l[3]=S("span",null,"加载中...",-1))])])):f("",!0),O.value?(r(),g("div",Me,[S("div",Oe,[b(x,{icon:"material-symbols:error-outline-rounded",size:"48"}),S("p",null,T(O.value),1),S("button",{class:"retry-btn",onClick:We},"重试")])])):f("",!0)],2))}}),[["__scopeId","data-v-86c1c8a4"]]),Ne={class:"demo-content"},He={class:"config-panel"},Ue={class:"config-group"},Be={class:"config-group"},Ye={class:"config-group"},Ve={class:"config-group"},ze={class:"player-container"},$e={class:"status-panel"},Fe={class:"status-grid"},Ge={class:"status-item"},qe={class:"status-item"},je={class:"value"},Ke={class:"status-item"},Xe={class:"value"},Je={class:"status-item"},Qe={class:"value"},We={class:"current-slide-info"},Ze={key:0,class:"slide-details"},et={key:1,class:"no-slide"},tt={class:"control-panel"},lt=["disabled"],at=["disabled"],st=["disabled"],it=["disabled"],ot={class:"events-panel"},nt={class:"events-list"},rt={class:"event-time"},ut={class:"event-type"},dt={class:"event-data"},ct=R(l({__name:"slides-player-demo",setup(t){const l=i(),a=i({autoplay:!1,showControls:!0,showProgress:!0,showIndicators:!0,enableAudio:!0,enableVideo:!0,enableSubtitles:!0,mode:"normal",slidesMode:U.PLAYER}),d=i(null),v=i(!1),h=i(0),m=i(0),y=i(0),f=i(null),I=i([]),D=s(()=>d.value?.items?.length||0),R=s(()=>y.value>0?m.value/y.value*100:0),A=s(()=>h.value>0),L=s(()=>h.value<D.value-1),M=s(()=>v.value?"播放中":"已暂停");o(()=>l.value?.currentSlideIndex,e=>{void 0!==e&&e!==h.value&&(h.value=e,d.value?.items&&e>=0&&e<d.value.items.length&&(f.value=d.value.items[e]))}),o(()=>l.value?.isPlaying,e=>{void 0!==e&&(v.value=e)}),o(()=>l.value?.currentMediaTime,e=>{void 0!==e&&(m.value=e)}),o(()=>l.value?.totalDuration,e=>{void 0!==e&&(y.value=e)});const O={basic:{title:"基础演示文稿",items:[{sequence:1,title:"欢迎使用智能幻灯片播放器",content:"这是一个功能强大的幻灯片播放组件，支持多媒体同步播放。",startTime:0,endTime:5e3,duration:5e3},{sequence:2,title:"丰富的功能特性",content:"支持音频、视频、字幕同步，响应式设计，多种播放模式。",startTime:5e3,endTime:1e4,duration:5e3},{sequence:3,title:"易于集成和使用",content:"提供完整的API文档和示例代码，快速上手。",startTime:1e4,endTime:15e3,duration:5e3}],totalDuration:15e3},audio:{title:"音频演示文稿",audio:{url:"https://example.com/audio/presentation.mp3"},items:[{sequence:1,title:"音频同步演示",content:"幻灯片与音频播放时间精准同步。",startTime:0,endTime:8e3,duration:8e3},{sequence:2,title:"智能切换",content:"根据音频播放进度自动切换幻灯片。",startTime:8e3,endTime:16e3,duration:8e3}],totalDuration:16e3},video:{title:"视频演示文稿",video:{url:"https://example.com/video/presentation.mp4"},items:[{sequence:1,title:"视频同步演示",content:"幻灯片与视频播放时间精准同步。",startTime:0,endTime:1e4,duration:1e4},{sequence:2,title:"多媒体集成",content:"支持视频播放与幻灯片切换的完美结合。",startTime:1e4,endTime:2e4,duration:1e4}],totalDuration:2e4},full:{title:"完整功能演示",audio:{url:"https://example.com/audio/full-presentation.mp3"},video:{url:"https://example.com/video/full-presentation.mp4"},items:[{sequence:1,title:"完整功能展示",content:"展示所有功能的完整演示文稿。",startTime:0,endTime:6e3,duration:6e3,image:{url:"https://example.com/images/slide1.jpg"}},{sequence:2,title:"高级特性",content:"包括字幕同步、多种播放模式等高级功能。",startTime:6e3,endTime:12e3,duration:6e3,html:'<div style="padding: 2rem; text-align: center;"><h2>自定义HTML内容</h2><p>支持丰富的HTML内容展示</p></div>'},{sequence:3,title:"响应式设计",content:"完美适配各种屏幕尺寸和设备。",startTime:12e3,endTime:18e3,duration:6e3}],totalDuration:18e3}},x=e=>{d.value=O[e],$("slides_loaded",`加载 ${e} 示例幻灯片`)},N=()=>{l.value&&(l.value.play(),v.value=!0,$("play","开始播放"))},H=()=>{l.value&&(l.value.pause(),v.value=!1,$("pause","暂停播放"))},B=()=>{l.value&&(l.value.stop(),v.value=!1,$("stop","停止播放"))},Y=()=>{l.value&&(l.value.goToPreviousSlide(),$("slide_change","切换到上一页"))},V=()=>{l.value&&(l.value.goToNextSlide(),$("slide_change","切换到下一页"))},z=()=>{l.value&&(l.value.toggleFullscreen(),$("fullscreen","切换全屏模式"))},$=(e,t)=>{I.value.unshift({type:e,timestamp:Date.now(),data:t}),I.value.length>50&&(I.value=I.value.slice(0,50))},F=()=>{I.value=[]},G=e=>{const t=Math.floor(e/1e3),l=t%60;return`${Math.floor(t/60).toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`};return p(()=>{x("basic"),$("mounted","演示页面加载完成")}),(t,s)=>{const i=e;return r(),n(i,{class:"slides-player-demo"},{default:c(()=>[s[37]||(s[37]=S("div",{class:"demo-header"},[S("h1",null,"智能幻灯片播放器演示"),S("p",null,"展示 sdkwork-player-slides 组件的完整功能")],-1)),S("div",Ne,[S("div",He,[s[25]||(s[25]=S("h3",null,"配置选项",-1)),S("div",Ue,[S("label",null,[w(S("input",{type:"checkbox","onUpdate:modelValue":s[0]||(s[0]=e=>a.value.autoplay=e)},null,512),[[C,a.value.autoplay]]),s[14]||(s[14]=E(" 自动播放 ",-1))]),S("label",null,[w(S("input",{type:"checkbox","onUpdate:modelValue":s[1]||(s[1]=e=>a.value.showControls=e)},null,512),[[C,a.value.showControls]]),s[15]||(s[15]=E(" 显示控制栏 ",-1))]),S("label",null,[w(S("input",{type:"checkbox","onUpdate:modelValue":s[2]||(s[2]=e=>a.value.showProgress=e)},null,512),[[C,a.value.showProgress]]),s[16]||(s[16]=E(" 显示进度条 ",-1))]),S("label",null,[w(S("input",{type:"checkbox","onUpdate:modelValue":s[3]||(s[3]=e=>a.value.showIndicators=e)},null,512),[[C,a.value.showIndicators]]),s[17]||(s[17]=E(" 显示指示器 ",-1))])]),S("div",Be,[S("label",null,[w(S("input",{type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=e=>a.value.enableAudio=e)},null,512),[[C,a.value.enableAudio]]),s[18]||(s[18]=E(" 启用音频 ",-1))]),S("label",null,[w(S("input",{type:"checkbox","onUpdate:modelValue":s[5]||(s[5]=e=>a.value.enableVideo=e)},null,512),[[C,a.value.enableVideo]]),s[19]||(s[19]=E(" 启用视频 ",-1))]),S("label",null,[w(S("input",{type:"checkbox","onUpdate:modelValue":s[6]||(s[6]=e=>a.value.enableSubtitles=e)},null,512),[[C,a.value.enableSubtitles]]),s[20]||(s[20]=E(" 启用字幕 ",-1))])]),S("div",Ye,[S("label",null,[s[22]||(s[22]=E(" 播放模式： ",-1)),w(S("select",{"onUpdate:modelValue":s[7]||(s[7]=e=>a.value.mode=e)},[...s[21]||(s[21]=[S("option",{value:"normal"},"普通模式",-1),S("option",{value:"presentation"},"演示模式",-1),S("option",{value:"preview"},"预览模式",-1)])],512),[[P,a.value.mode]])]),S("label",null,[s[24]||(s[24]=E(" 幻灯片模式： ",-1)),w(S("select",{"onUpdate:modelValue":s[8]||(s[8]=e=>a.value.slidesMode=e)},[...s[23]||(s[23]=[S("option",{value:"player"},"播放器模式",-1),S("option",{value:"realtime"},"实时模式",-1)])],512),[[P,a.value.slidesMode]])])]),S("div",Ve,[S("button",{onClick:s[9]||(s[9]=e=>x("basic")),class:"sample-btn"},"基础示例"),S("button",{onClick:s[10]||(s[10]=e=>x("audio")),class:"sample-btn"},"音频示例"),S("button",{onClick:s[11]||(s[11]=e=>x("video")),class:"sample-btn"},"视频示例"),S("button",{onClick:s[12]||(s[12]=e=>x("full")),class:"sample-btn"},"完整示例")])]),S("div",ze,[b(xe,{ref_key:"slidesPlayer",ref:l,slides:d.value,autoplay:a.value.autoplay,"show-controls":a.value.showControls,"show-progress":a.value.showProgress,"show-indicators":a.value.showIndicators,"enable-audio":a.value.enableAudio,"enable-video":a.value.enableVideo,"enable-subtitles":a.value.enableSubtitles,mode:a.value.mode,"slides-mode":a.value.slidesMode,"custom-class":"demo-slides-player"},null,8,["slides","autoplay","show-controls","show-progress","show-indicators","enable-audio","enable-video","enable-subtitles","mode","slides-mode"])]),S("div",$e,[s[35]||(s[35]=S("h3",null,"状态信息",-1)),S("div",Fe,[S("div",Ge,[s[26]||(s[26]=S("span",{class:"label"},"播放状态：",-1)),S("span",{class:u(["value",{playing:v.value}])},T(M.value),3)]),S("div",qe,[s[27]||(s[27]=S("span",{class:"label"},"当前页面：",-1)),S("span",je,T(h.value+1)+" / "+T(D.value),1)]),S("div",Ke,[s[28]||(s[28]=S("span",{class:"label"},"播放时间：",-1)),S("span",Xe,T(G(m.value))+" / "+T(G(y.value)),1)]),S("div",Je,[s[29]||(s[29]=S("span",{class:"label"},"进度：",-1)),S("span",Qe,T(R.value.toFixed(1))+"%",1)])]),S("div",We,[s[34]||(s[34]=S("h4",null,"当前幻灯片信息",-1)),f.value?(r(),g("div",Ze,[S("p",null,[s[30]||(s[30]=S("strong",null,"标题：",-1)),E(T(f.value.title),1)]),S("p",null,[s[31]||(s[31]=S("strong",null,"内容：",-1)),E(T(f.value.content),1)]),S("p",null,[s[32]||(s[32]=S("strong",null,"开始时间：",-1)),E(T(G(f.value.startTime||0)),1)]),S("p",null,[s[33]||(s[33]=S("strong",null,"结束时间：",-1)),E(T(G(f.value.endTime||0)),1)])])):(r(),g("div",et," 暂无幻灯片信息 "))])]),S("div",tt,[S("button",{onClick:N,disabled:v.value,class:"control-btn"},"播放",8,lt),S("button",{onClick:H,disabled:!v.value,class:"control-btn"},"暂停",8,at),S("button",{onClick:B,class:"control-btn"},"停止"),S("button",{onClick:Y,disabled:!A.value,class:"control-btn"},"上一页",8,st),S("button",{onClick:V,disabled:!L.value,class:"control-btn"},"下一页",8,it),S("button",{onClick:z,class:"control-btn"},"全屏"),S("button",{onClick:s[13]||(s[13]=e=>{return t=0,void(l.value&&(l.value.goToSlide(t),$("slide_change",`切换到第${t+1}页`)));var t}),class:"control-btn"},"回到首页")])]),S("div",ot,[s[36]||(s[36]=S("h3",null,"事件日志",-1)),S("div",nt,[(r(!0),g(k,null,_(I.value,(e,t)=>{return r(),g("div",{key:t,class:u(["event-item",e.type])},[S("span",rt,T((l=e.timestamp,new Date(l).toLocaleTimeString())),1),S("span",ut,T(e.type),1),S("span",dt,T(e.data),1)],2);var l}),128))]),S("button",{onClick:F,class:"clear-btn"},"清空日志")])]),_:1})}}}),[["__scopeId","data-v-eb050ece"]]);export{ct as default};
