import{S as e}from"./sdkwork-page-container-5d58390b.js";import{k as a,r as t,Q as o,R as s,j as l,a0 as i,S as c,$ as r,F as n,Y as u,Z as d,U as p,a4 as v,c as m,X as g,a3 as h,b as f}from"./vue-vendor-a2672387.js";import{I as b,_ as k,s as w,B as y,P as _}from"./index-5affcab4.js";/* empty css              */import{S,a as B}from"./index-63936d32.js";import{T as P}from"./index-7bca35b2.js";/* empty css              */import{a as T,_ as C}from"./sdkwork-cell-group-c8f6555d.js";/* empty css              */import{E as A}from"./index-ccee2c65.js";import{T as x,a as M}from"./index-a1493906.js";import"./utils-vendor-b5712723.js";import"./sdkwork-icon-2d6efb98.js";import"./use-id-82312033.js";import"./use-tab-status-aca7131d.js";import"./use-refs-ac90b301.js";const F={class:"sdkwork-product-swiper"},j={class:"product-image-container"},I=["src","alt"],G={class:"custom-indicator"},N=k(a({__name:"sdkwork-product-swiper",props:{images:{default:()=>[]},productName:{default:""},autoplay:{default:3e8},showIndicators:{type:Boolean,default:!0},height:{default:"300"},themeMode:{default:"auto"},isFavorite:{type:Boolean,default:!1}},emits:["change","favorite-change","image-load","image-error"],setup(e,{expose:a,emit:p}){const v=e,m=p,g=t(0),h=t(),f=e=>{g.value=e,m("change",e)},k=e=>{m("image-load",e)},w=e=>{m("image-error",e)},y=()=>{const e=!v.isFavorite;m("favorite-change",e)};return a({prev:()=>h.value?.prev(),next:()=>h.value?.next(),swipeTo:(e,a)=>h.value?.swipeTo(e,a),getCurrentIndex:()=>g.value}),(a,t)=>{const p=S,v=B,m=b;return o(),s("div",F,[l(v,{ref_key:"swiperRef",ref:h,autoplay:e.autoplay,"show-indicators":e.showIndicators,height:e.height,"theme-mode":e.themeMode,onChange:f},{indicator:i(()=>[c("div",G,r(g.value+1)+" / "+r(e.images?.length||0),1)]),default:i(()=>[(o(!0),s(n,null,u(e.images,(a,t)=>(o(),d(p,{key:t},{default:i(()=>[c("div",j,[c("img",{src:a,alt:e.productName,class:"product-image",onLoad:k,onError:w},null,40,I)])]),_:2},1024))),128))]),_:1},8,["autoplay","show-indicators","height","theme-mode"]),c("div",{class:"favorite-btn",onClick:y},[l(m,{name:e.isFavorite?"star":"star-o",color:e.isFavorite?"#ff6b6b":"#ccc",size:"24"},null,8,["name","color"])])])}}}),[["__scopeId","data-v-fba427c7"]]),H={class:"sdkwork-product-info"},z={class:"product-header"},R={class:"product-title"},D={class:"product-subtitle"},q={class:"price-section"},L={class:"current-price"},Z={key:0,class:"original-price"},E={key:1,class:"discount"},U={class:"meta-info"},X={key:0,class:"tags-section"},O=k(a({__name:"sdkwork-product-info",props:{product:{}},setup(e,{expose:a}){const t=e,l=(e,a)=>Math.round(e/a*100)/10;return a({getProductInfo:()=>t.product,getDiscountInfo:()=>t.product.originalPrice?{discount:l(t.product.price,t.product.originalPrice),saveAmount:t.product.originalPrice-t.product.price}:null}),(a,t)=>{const m=P;return o(),s("div",H,[c("div",z,[c("div",R,r(e.product.name),1),c("div",D,r(e.product.description),1)]),c("div",q,[c("div",L,"¥"+r(e.product.price),1),e.product.originalPrice?(o(),s("div",Z,"¥"+r(e.product.originalPrice),1)):p("",!0),e.product.originalPrice?(o(),s("div",E,r(l(e.product.price,e.product.originalPrice))+"折 ",1)):p("",!0)]),c("div",U,[e.product.rating?(o(),d(m,{key:0,type:"primary",class:"rating-tag"},{default:i(()=>[v(" ★ "+r(e.product.rating),1)]),_:1})):p("",!0),e.product.sales?(o(),d(m,{key:1,type:"success",class:"sales-tag"},{default:i(()=>[v(" 销量 "+r(e.product.sales),1)]),_:1})):p("",!0),e.product.stock?(o(),d(m,{key:2,type:e.product.stock>10?"success":"danger",class:"stock-tag"},{default:i(()=>[v(" 库存 "+r(e.product.stock),1)]),_:1},8,["type"])):p("",!0)]),e.product.tags&&e.product.tags.length>0?(o(),s("div",X,[(o(!0),s(n,null,u(e.product.tags,e=>(o(),d(m,{key:e,plain:"",type:"primary",class:"product-tag"},{default:i(()=>[v(r(e),1)]),_:2},1024))),128))])):p("",!0)])}}}),[["__scopeId","data-v-daeb09b9"]]),Q={class:"sdkwork-product-spec"},$={class:"spec-popup"},V={class:"popup-header"},W={class:"popup-content"},Y={class:"spec-options"},J=["onClick"],K={class:"popup-footer"},ee=k(a({__name:"sdkwork-product-spec",props:{availableSpecs:{default:()=>[{label:"黑色",value:"black"},{label:"白色",value:"white"},{label:"红色",value:"red"},{label:"64GB",value:"64gb"},{label:"128GB",value:"128gb"},{label:"256GB",value:"256gb"}]},defaultSpecs:{default:()=>[]}},emits:["specs-change","specs-confirm"],setup(e,{expose:a,emit:d}){const p=e,h=d,f=t(!1),k=t([]),S=m(()=>{if(0===k.value.length)return"请选择规格";return k.value.map(e=>{const a=p.availableSpecs.find(a=>a.value===e);return a?.label||e}).join(", ")}),B=()=>{0!==k.value.length?(f.value=!1,h("specs-confirm",k.value),w("规格选择成功")):w("请选择至少一个规格")};return p.defaultSpecs.length>0?k.value=[...p.defaultSpecs]:p.availableSpecs.length>0&&(k.value=[p.availableSpecs[0].value]),a({getSelectedSpecs:()=>k.value,setSelectedSpecs:e=>{k.value=e,h("specs-change",e)},openSpecPopup:()=>{f.value=!0},closeSpecPopup:()=>{f.value=!1},clearSelectedSpecs:()=>{k.value=[],h("specs-change",[])}}),(a,t)=>{const d=b,p=y,m=_;return o(),s("div",Q,[l(C,{title:"规格选择"},{default:i(()=>[l(T,{title:"已选",value:S.value,"is-link":"",onClick:t[0]||(t[0]=e=>f.value=!0)},null,8,["value"])]),_:1}),l(m,{show:f.value,"onUpdate:show":t[2]||(t[2]=e=>f.value=e),position:"bottom",round:"",style:{height:"60%"}},{default:i(()=>[c("div",$,[c("div",V,[t[3]||(t[3]=c("div",{class:"popup-title"},"选择规格",-1)),l(d,{name:"cross",onClick:t[1]||(t[1]=e=>f.value=!1)})]),c("div",W,[c("div",Y,[(o(!0),s(n,null,u(e.availableSpecs,e=>(o(),s("div",{key:e.value,class:g(["spec-option",{active:k.value.includes(e.value)}]),onClick:a=>(e=>{const a=k.value.indexOf(e);a>-1?k.value.splice(a,1):k.value.push(e),h("specs-change",k.value)})(e.value)},r(e.label),11,J))),128))])]),c("div",K,[l(p,{type:"primary",block:"",onClick:B},{default:i(()=>[...t[4]||(t[4]=[v(" 确定 ",-1)])]),_:1})])])]),_:1},8,["show"])])}}}),[["__scopeId","data-v-1d53432f"]]),ae={class:"sdkwork-product-tabs"},te={class:"detail-content"},oe=["innerHTML"],se={key:1,class:"no-detail"},le={class:"spec-content"},ie={key:0,class:"no-spec"},ce={class:"review-content"},re={key:0,class:"reviews-list"},ne={class:"review-header"},ue={class:"review-user"},de={class:"review-rating"},pe={class:"review-content"},ve={class:"review-time"},me={key:1,class:"no-reviews"},ge={class:"service-content"},he=k(a({__name:"sdkwork-product-tabs",props:{product:{},themeMode:{default:"auto"},defaultActiveTab:{default:0}},emits:["tab-change"],setup(e,{expose:a,emit:v}){const m=v,g=t(e.defaultActiveTab),h=["商品详情","规格参数","用户评价","售后服务"];return a({switchTab:e=>{var a;e>=0&&e<=3&&(g.value=e,m("tab-change",a=e,h[a]))},getActiveTab:()=>({index:g.value,name:h[g.value]}),getTabCount:()=>h.length}),(a,t)=>{const v=A,m=x,h=M;return o(),s("div",ae,[l(h,{active:g.value,"onUpdate:active":t[0]||(t[0]=e=>g.value=e),sticky:"",animated:"",color:(e.themeMode,"#1989fa")},{default:i(()=>[l(m,{title:"商品详情"},{default:i(()=>[c("div",te,[e.product.detailHtml?(o(),s("div",{key:0,innerHTML:e.product.detailHtml},null,8,oe)):(o(),s("div",se,[l(v,{description:"暂无商品详情"})]))])]),_:1}),l(m,{title:"规格参数"},{default:i(()=>[c("div",le,[l(C,null,{default:i(()=>[(o(!0),s(n,null,u(e.product.specifications,e=>(o(),d(T,{key:e.name,title:e.name,value:e.value},null,8,["title","value"]))),128))]),_:1}),e.product.specifications&&0!==e.product.specifications.length?p("",!0):(o(),s("div",ie,[l(v,{description:"暂无规格参数"})]))])]),_:1}),l(m,{title:"用户评价"},{default:i(()=>[c("div",ce,[e.product.reviews&&e.product.reviews.length>0?(o(),s("div",re,[(o(!0),s(n,null,u(e.product.reviews,e=>{return o(),s("div",{key:e.id,class:"review-item"},[c("div",ne,[c("div",ue,r(e.userName),1),c("div",de,"★ "+r(e.rating),1)]),c("div",pe,r(e.content),1),c("div",ve,r((a=e.createTime,new Date(a).toLocaleDateString())),1)]);var a}),128))])):(o(),s("div",me,[l(v,{description:"暂无用户评价"})]))])]),_:1}),l(m,{title:"售后服务"},{default:i(()=>[c("div",ge,[l(C,null,{default:i(()=>[l(T,{title:"七天无理由退货",value:"支持"}),l(T,{title:"质量问题包退换",value:"支持"}),l(T,{title:"全国联保",value:"支持"}),l(T,{title:"上门安装",value:"部分地区支持"})]),_:1})])]),_:1})]),_:1},8,["active","color"])])}}}),[["__scopeId","data-v-b673c4c3"]]),fe={class:"sdkwork-product-actions"},be={class:"action-left"},ke={class:"action-right"},we=k(a({__name:"sdkwork-product-actions",props:{isFavorite:{type:Boolean,default:!1},showCartButton:{type:Boolean,default:!0},showBuyButton:{type:Boolean,default:!0},showServiceButton:{type:Boolean,default:!0},showFavoriteButton:{type:Boolean,default:!0},showShareButton:{type:Boolean,default:!0}},emits:["add-to-cart","buy-now","favorite-change","share","customer-service"],setup(e,{expose:a,emit:r}){const n=r,u=t(e.isFavorite),d=()=>{u.value=!u.value,n("favorite-change",u.value)},p=()=>{n("add-to-cart")},m=()=>{n("buy-now")},g=()=>{n("share")},h=()=>{n("customer-service")};return a({setFavorite:e=>{u.value=e},getFavorite:()=>u.value,triggerAddToCart:()=>p(),triggerBuyNow:()=>m()}),(e,a)=>{const t=b,r=y;return o(),s("div",fe,[c("div",be,[l(r,{square:"",size:"small",type:"default",class:"action-btn",onClick:h},{default:i(()=>[l(t,{name:"service-o",size:"20"})]),_:1}),l(r,{square:"",size:"small",type:"default",class:"action-btn",onClick:d},{default:i(()=>[l(t,{name:u.value?"star":"star-o",size:"20"},null,8,["name"])]),_:1}),l(r,{square:"",size:"small",type:"default",class:"action-btn",onClick:g},{default:i(()=>[l(t,{name:"share-o",size:"20"})]),_:1})]),c("div",ke,[l(r,{type:"warning",size:"small",class:"cart-btn",onClick:p},{default:i(()=>[...a[0]||(a[0]=[v(" 加购物车 ",-1)])]),_:1}),l(r,{type:"danger",size:"small",class:"buy-btn",onClick:m},{default:i(()=>[...a[1]||(a[1]=[v(" 立即购买 ",-1)])]),_:1})])])}}}),[["__scopeId","data-v-4ccdb07e"]]),ye=k(a({__name:"sdkwork-product-detail",props:{product:{},themeMode:{default:"auto"},swiperHeight:{default:"300"},defaultActiveTab:{default:0},defaultSpecs:{default:()=>[]}},emits:["add-to-cart","buy-now","favorite-change","share","customer-service","tab-change","specs-change","specs-confirm"],setup(e,{expose:a,emit:i}){const c=e,r=i,n=t(!1),u=t(),d=t(),p=t(),v=t(),h=m(()=>"dark"===c.themeMode||"light"!==c.themeMode&&(!("undefined"==typeof window||!window.matchMedia)&&window.matchMedia("(prefers-color-scheme: dark)").matches)),f=m(()=>h.value?"sdkwork-product-detail--dark":"sdkwork-product-detail--light"),b=t([{label:"黑色",value:"black"},{label:"白色",value:"white"},{label:"红色",value:"red"},{label:"64GB",value:"64gb"},{label:"128GB",value:"128gb"},{label:"256GB",value:"256gb"}]),k=e=>{console.log("轮播图切换到第",e+1,"张")},y=e=>{console.log("图片加载成功")},_=e=>{console.error("图片加载失败")},S=e=>{n.value=e,r("favorite-change",c.product,n.value),w(n.value?"已收藏":"已取消收藏")},B=e=>{r("specs-change",e)},P=e=>{r("specs-confirm",e)},T=(e,a)=>{r("tab-change",e,a)},C=()=>{const e=d.value?.getSelectedSpecs()||[];0!==e.length?(r("add-to-cart",c.product,1,e),w("已加入购物车")):w("请先选择规格")},A=()=>{const e=d.value?.getSelectedSpecs()||[];0!==e.length?r("buy-now",c.product,1,e):w("请先选择规格")},x=()=>{r("share",c.product),w("分享功能已触发")},M=()=>{r("customer-service",c.product),w("正在联系客服...")};return a({refresh:()=>{console.log("刷新商品详情")},getSelectedSpecs:()=>d.value?.getSelectedSpecs()||[],setSelectedSpecs:e=>{d.value?.setSelectedSpecs(e)},switchTab:e=>{p.value?.switchTab(e)},setFavorite:e=>{n.value=e,v.value?.setFavorite(e)},getFavorite:()=>n.value,triggerAddToCart:()=>{v.value?.triggerAddToCart()},triggerBuyNow:()=>{v.value?.triggerBuyNow()},openSpecPopup:()=>{d.value?.openSpecPopup()},getActiveTab:()=>p.value?.getActiveTab()}),(a,t)=>(o(),s("div",{class:g(["sdkwork-product-detail",f.value])},[l(N,{ref_key:"swiperRef",ref:u,images:e.product.images,"product-name":e.product.name,height:e.swiperHeight,"theme-mode":e.themeMode,"is-favorite":n.value,onChange:k,onFavoriteChange:S,onImageLoad:y,onImageError:_},null,8,["images","product-name","height","theme-mode","is-favorite"]),l(O,{product:e.product},null,8,["product"]),l(ee,{ref_key:"specRef",ref:d,"available-specs":b.value,"default-specs":e.defaultSpecs,onSpecsChange:B,onSpecsConfirm:P},null,8,["available-specs","default-specs"]),l(he,{ref_key:"tabsRef",ref:p,product:e.product,"theme-mode":e.themeMode,"default-active-tab":e.defaultActiveTab,onTabChange:T},null,8,["product","theme-mode","default-active-tab"]),l(we,{ref_key:"actionsRef",ref:v,"is-favorite":n.value,onAddToCart:C,onBuyNow:A,onFavoriteChange:S,onShare:x,onCustomerService:M},null,8,["is-favorite"])],2))}}),[["__scopeId","data-v-84cd1d47"]]),_e=k(a({__name:"[id]",setup(a){const s=h(),c=m(()=>{const e=s.params.id;return Array.isArray(e)?e[0]:e||"1"}),r=t("auto"),n=m(()=>{const e={1:{id:1,name:"iPhone 15 Pro",description:"最新款iPhone，搭载A17 Pro芯片，钛金属机身",price:7999,originalPrice:8999,images:["https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=600&h=600&fit=crop","https://images.unsplash.com/photo-1510557880182-3d4d3cba35a5?w=600&h=600&fit=crop","https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?w=600&h=600&fit=crop","https://images.unsplash.com/photo-1556656793-08538906a9f8?w=600&h=600&fit=crop"],rating:4.8,sales:12500,stock:150,tags:["新品","热销","官方旗舰"],detailHtml:'\n        <div style="padding: 16px;">\n          <h3>商品详情</h3>\n          <p>iPhone 15 Pro 采用航空级钛金属设计，iPhone 上迄今最轻的 Pro 机型。新的操作按钮让你能快速操作相机、手电筒、语音备忘录、专注模式、翻译 app 以及辅助功能等。</p>\n          \n          <h4>主要特性：</h4>\n          <ul>\n            <li>A17 Pro 芯片，性能大幅提升</li>\n            <li>钛金属机身，更轻更坚固</li>\n            <li>4800 万像素主摄像头</li>\n            <li>USB-C 接口，充电更快</li>\n            <li>全天候显示屏</li>\n          </ul>\n          \n          <img src="https://via.placeholder.com/600x400?text=iPhone+15+Pro+Detail" style="width: 100%; margin: 16px 0;" />\n          \n          <h4>技术规格：</h4>\n          <p>屏幕：6.1 英寸超视网膜 XDR 显示屏</p>\n          <p>芯片：A17 Pro 芯片</p>\n          <p>摄像头：4800 万像素主摄 + 1200 万像素超广角 + 1200 万像素长焦</p>\n          <p>电池：视频播放最长可达 23 小时</p>\n        </div>\n      ',specifications:[{name:"品牌",value:"Apple"},{name:"型号",value:"iPhone 15 Pro"},{name:"屏幕尺寸",value:"6.1英寸"},{name:"分辨率",value:"2556x1179像素"},{name:"处理器",value:"A17 Pro芯片"},{name:"内存",value:"8GB"},{name:"存储",value:"128GB/256GB/512GB/1TB"},{name:"摄像头",value:"4800万像素三摄"},{name:"电池容量",value:"3274mAh"},{name:"操作系统",value:"iOS 17"}],reviews:[{id:1,userName:"数码爱好者",rating:5,content:"手机非常流畅，拍照效果很棒，电池续航也很满意！",createTime:"2024-01-15T10:30:00Z"},{id:2,userName:"科技达人",rating:4,content:"钛金属手感很好，就是价格有点高，但性能确实强大。",createTime:"2024-01-14T16:45:00Z"},{id:3,userName:"果粉",rating:5,content:"一如既往的优秀，iOS系统用起来很舒服，推荐购买！",createTime:"2024-01-13T09:20:00Z"}]},2:{id:2,name:"MacBook Pro 14英寸",description:"搭载M3芯片的MacBook Pro，性能强劲，专业之选",price:12999,originalPrice:14999,images:["https://images.unsplash.com/photo-1541807084-5c52b6b3adef?w=600&h=600&fit=crop","https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=600&h=600&fit=crop","https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=600&h=600&fit=crop"],rating:4.9,sales:8500,stock:80,tags:["专业","高性能","创意工作"],detailHtml:'\n        <div style="padding: 16px;">\n          <h3>MacBook Pro 14英寸</h3>\n          <p>为专业工作流程打造的强大笔记本电脑，配备M3芯片， Liquid 视网膜 XDR 显示屏。</p>\n          \n          <h4>主要特性：</h4>\n          <ul>\n            <li>M3芯片，性能提升最高达2.5倍</li>\n            <li>Liquid 视网膜 XDR 显示屏</li>\n            <li>最长22小时电池续航</li>\n            <li>1080p FaceTime 高清摄像头</li>\n            <li>六扬声器音响系统</li>\n          </ul>\n        </div>\n      ',specifications:[{name:"品牌",value:"Apple"},{name:"型号",value:"MacBook Pro 14英寸"},{name:"屏幕尺寸",value:"14.2英寸"},{name:"芯片",value:"Apple M3芯片"},{name:"内存",value:"8GB/16GB/24GB"},{name:"存储",value:"512GB/1TB/2TB"},{name:"重量",value:"1.55千克"}],reviews:[{id:1,userName:"设计师",rating:5,content:"做设计工作非常流畅，屏幕色彩准确，强烈推荐！",createTime:"2024-01-12T14:20:00Z"}]},3:{id:3,name:"AirPods Pro (第2代)",description:"主动降噪，空间音频，MagSafe充电盒",price:1899,originalPrice:1999,images:["https://images.unsplash.com/photo-1606220588913-b3aacb4d2f46?w=600&h=600&fit=crop","https://images.unsplash.com/photo-1572569511254-d8f925fe2cbb?w=600&h=600&fit=crop"],rating:4.7,sales:35600,stock:250,tags:["无线","降噪","苹果生态"],detailHtml:'\n        <div style="padding: 16px;">\n          <h3>AirPods Pro (第2代)</h3>\n          <p>升级的H2芯片带来更出色的音频体验，主动降噪效果提升2倍。</p>\n        </div>\n      ',specifications:[{name:"品牌",value:"Apple"},{name:"型号",value:"AirPods Pro (第2代)"},{name:"类型",value:"真无线耳机"},{name:"降噪",value:"主动降噪"},{name:"续航",value:"最长30小时"},{name:"充电",value:"MagSafe充电"}],reviews:[{id:1,userName:"音乐爱好者",rating:5,content:"降噪效果非常好，音质也很棒，佩戴舒适！",createTime:"2024-01-10T11:15:00Z"}]}};return e[c.value]||e[1]}),u=(e,a,t)=>{console.log("加入购物车:",{product:e,quantity:a,specs:t}),w(`已添加 ${a} 件商品到购物车`)},p=(e,a,t)=>{console.log("立即购买:",{product:e,quantity:a,specs:t}),w("跳转到订单确认页面")},v=(e,a)=>{console.log("收藏状态变更:",{product:e,isFavorite:a})},g=e=>{console.log("分享商品:",e),w("分享功能已触发")},b=e=>{console.log("联系客服:",e),w("正在联系客服...")},k=(e,a)=>{console.log("Tab切换:",e,a)},y=e=>{console.log("规格变更:",e)},_=e=>{console.log("规格确认:",e)};return f(()=>{console.log("商品详情页面加载完成，商品ID:",c.value)}),(a,t)=>{const s=e;return o(),d(s,{"safe-area":"",scrollable:"","theme-mode":"auto"},{default:i(()=>[l(ye,{product:n.value,"theme-mode":r.value,onAddToCart:u,onBuyNow:p,onFavoriteChange:v,onShare:g,onCustomerService:b,onTabChange:k,onSpecsChange:y,onSpecsConfirm:_},null,8,["product","theme-mode"])]),_:1})}}}),[["__scopeId","data-v-2879c1b6"]]);export{_e as default};
