import{k as e,r as a,w as l,Q as t,R as o,j as s,a0 as u,c as i,S as n,X as d,U as r,$ as m,F as c,Y as v,Z as p,a4 as g,a1 as V,u as f,ak as y}from"./vue-vendor-a2672387.js";import{_ as h,s as b,I as k,a as _,h as x,r as C,B as j}from"./index-5affcab4.js";/* empty css              *//* empty css              */import{T as w,a as U}from"./index-a1493906.js";/* empty css              */import"./index-5d6825eb.js";import{U as I}from"./index-fa879ae6.js";import{T as B}from"./index-7bca35b2.js";/* empty css              *//* empty css              */import{F as S}from"./index-dee6a080.js";import{_ as z,a as D}from"./sdkwork-grid-item-880db20b.js";import{s as T}from"./function-call-e02e5da4.js";/* empty css              */import{u as q}from"./generation-15185035.js";const F={class:"video-tabs"},P=h(e({__name:"VideoTabs",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:i}){const n=e,d=i,r=a(n.modelValue),m=e=>{d("update:modelValue",e)};return l(()=>n.modelValue,e=>{r.value=e}),(e,a)=>{const l=w,i=U;return t(),o("div",F,[s(i,{active:r.value,"onUpdate:active":a[0]||(a[0]=e=>r.value=e),onChange:m},{default:u(()=>[s(l,{title:"文生视频",name:"text"}),s(l,{title:"图生视频",name:"image"})]),_:1},8,["active"])])}}}),[["__scopeId","data-v-592dbd49"]]),$={class:"image-uploader"},E={class:"upload-mode"},G={class:"mode-selection"},J={class:"upload-area"},K={key:0,class:"single-upload"},L={key:1,class:"first-last-upload"},M={class:"upload-item"},O={class:"upload-item"},Q=h(e({__name:"ImageUploader",props:{modelValue:{},mode:{default:"single"}},emits:["update:modelValue","update:mode"],setup(e,{emit:u}){const m=e,c=u,v=a(m.mode),p=a([]),g=a([]),V=a([]),f=i(()=>"single"===v.value?p.value:[...g.value,...V.value]);i(()=>f.value.length>0);const y=e=>e.type.startsWith("image/")?!(e.size>10485760)||(b("图片大小不能超过10MB"),!1):(b("请上传图片文件"),!1),h=e=>{_(),b("上传成功")},_=()=>{const e=[];"single"===v.value?e.push(...p.value.map(e=>e.file)):(e.push(...g.value.map(e=>e.file)),e.push(...V.value.map(e=>e.file))),c("update:modelValue",e)};return l(v,e=>{c("update:mode",e),p.value=[],g.value=[],V.value=[],c("update:modelValue",[])}),l(()=>m.modelValue,e=>{0===e.length&&(p.value=[],g.value=[],V.value=[])}),(e,a)=>{const l=k,u=I;return t(),o("div",$,[n("div",E,[n("div",G,[n("div",{class:d(["mode-option",{active:"single"===v.value}]),onClick:a[0]||(a[0]=e=>v.value="single")},[s(l,{name:"photo"}),a[5]||(a[5]=n("span",null,"单图参考",-1))],2),n("div",{class:d(["mode-option",{active:"first-last"===v.value}]),onClick:a[1]||(a[1]=e=>v.value="first-last")},[s(l,{name:"photo-o"}),a[6]||(a[6]=n("span",null,"首位帧",-1))],2)])]),n("div",J,["single"===v.value?(t(),o("div",K,[s(u,{modelValue:p.value,"onUpdate:modelValue":a[2]||(a[2]=e=>p.value=e),"max-count":1,"after-read":h,"before-read":y,"upload-text":"上传图片"},null,8,["modelValue"])])):r("",!0),"first-last"===v.value?(t(),o("div",L,[n("div",M,[a[7]||(a[7]=n("p",null,"首帧图片",-1)),s(u,{modelValue:g.value,"onUpdate:modelValue":a[3]||(a[3]=e=>g.value=e),"max-count":1,"after-read":h,"before-read":y,"upload-text":"上传首帧"},null,8,["modelValue"])]),n("div",O,[a[8]||(a[8]=n("p",null,"尾帧图片",-1)),s(u,{modelValue:V.value,"onUpdate:modelValue":a[4]||(a[4]=e=>V.value=e),"max-count":1,"after-read":h,"before-read":y,"upload-text":"上传尾帧"},null,8,["modelValue"])])])):r("",!0)])])}}}),[["__scopeId","data-v-27f8ce19"]]),R={class:"prompt-input"},W={class:"input-header"},X={class:"char-count"},Y={key:0,class:"prompt-suggestions"},Z={class:"suggestion-list"},A=h(e({__name:"PromptInput",props:{modelValue:{},placeholder:{default:"请输入视频描述..."}},emits:["update:modelValue"],setup(e,{emit:d}){const V=e,f=d,y=a(V.modelValue),h=a(["一只可爱的小猫在草地上玩耍","美丽的日落海滩风景","城市夜景，灯光璀璨","宇航员在太空漫步","绚丽的烟花表演"]),b=i(()=>y.value.length);return l(y,e=>{f("update:modelValue",e)}),l(()=>V.modelValue,e=>{y.value=e}),(a,l)=>{const i=S,d=B;return t(),o("div",R,[n("div",W,[l[1]||(l[1]=n("h4",null,"提示词",-1)),n("div",X,m(b.value)+"/"+m(500),1)]),s(i,{modelValue:y.value,"onUpdate:modelValue":l[0]||(l[0]=e=>y.value=e),type:"textarea",placeholder:e.placeholder,maxlength:500,rows:4,autosize:"","show-word-limit":"",class:"prompt-field"},null,8,["modelValue","placeholder"]),h.value.length>0?(t(),o("div",Y,[l[2]||(l[2]=n("h5",null,"提示词建议",-1)),n("div",Z,[(t(!0),o(c,null,v(h.value,e=>(t(),p(d,{key:e,type:"primary",size:"medium",onClick:a=>(e=>{y.value?y.value+=", "+e:y.value=e})(e),class:"suggestion-tag"},{default:u(()=>[g(m(e),1)]),_:2},1032,["onClick"]))),128))])])):r("",!0)])}}}),[["__scopeId","data-v-cbea773f"]]),H={class:"video-style"},N={class:"style-header"},ee=["src","alt","onClick"],ae={key:0,class:"selected-description"},le={class:"style-description"},te=h(e({__name:"VideoStyle",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:g}){const y=e,h=g,b=a(y.modelValue),C=[{value:"realistic",name:"写实风格",description:"真实感强，细节丰富",icon:"material-symbols:photo-camera-outline"},{value:"anime",name:"动漫风格",description:"二次元动画效果",icon:"material-symbols:face-6"},{value:"cinematic",name:"电影风格",description:"电影级质感",icon:"material-symbols:movie-outline"},{value:"artistic",name:"艺术风格",description:"油画、水彩等艺术效果",icon:"material-symbols:palette-outline"},{value:"minimal",name:"简约风格",description:"简洁现代的设计",icon:"material-symbols:grid-view-outline"},{value:"fantasy",name:"奇幻风格",description:"梦幻、超现实的视觉效果",icon:"material-symbols:auto-awesome-outline"}],j=i(()=>C.find(e=>e.value===b.value)),w=()=>{x({title:"视频风格说明",message:"不同的风格会影响视频的整体视觉效果：\n\n• 写实风格：追求真实感，适合自然场景\n• 动漫风格：二次元动画效果，适合创意内容\n• 电影风格：具有电影质感的视觉效果\n• 艺术风格：油画、水彩等艺术表现形式\n• 简约风格：现代简洁的设计风格\n• 奇幻风格：梦幻、超现实的视觉效果",confirmButtonText:"知道了"})};return l(b,e=>{h("update:modelValue",e)}),l(()=>y.modelValue,e=>{b.value=e}),(e,a)=>{const l=k;return t(),o("div",H,[n("div",N,[a[0]||(a[0]=n("h4",null,"视频风格",-1)),s(l,{name:"question-o",onClick:w})]),s(D,{columns:3,gutter:5,class:"style-grid",clickable:""},{default:u(()=>[(t(),o(c,null,v(C,e=>s(z,{key:e.value,text:e.name,badge:b.value===e.value?"✓":"",class:d({"style-item-active":b.value===e.value}),clickable:"",onClick:a=>{return l=e.value,void(b.value=l);var l}},{icon:u(()=>[e.image&&e.image.url?(t(),o("img",{key:0,src:e.image.url,alt:e.name,class:"style-image",onClick:V(a=>{return l=e.image.url,void T({images:[l],closeable:!0,closeIcon:"cross",showIndex:!1});var l},["stop"])},null,8,ee)):(t(),p(f(_),{key:1,icon:e.icon,class:"style-icon"},null,8,["icon"]))]),_:2},1032,["text","badge","class","onClick"])),64))]),_:1}),j.value?(t(),o("div",ae,[n("div",le,[n("h5",null,m(j.value.name),1),n("p",null,m(j.value.description),1)])])):r("",!0)])}}}),[["__scopeId","data-v-15215c7d"]]),oe={class:"video-duration"},se={class:"duration-header"},ue={class:"duration-value"},ie={class:"duration-slider"},ne={class:"duration-marks"},de={class:"quick-selection"},re={class:"quick-buttons"},me=h(e({__name:"VideoDuration",props:{modelValue:{}},emits:["update:modelValue"],setup(e,{emit:d}){const r=e,p=d,V=a(r.modelValue),f=[{value:5,label:"5秒"},{value:10,label:"10秒"},{value:15,label:"15秒"},{value:20,label:"20秒"},{value:25,label:"25秒"}],y=i(()=>{const e=[];for(let a=3;a<=30;a+=5)e.push(a);return e}),h=e=>{p("update:modelValue",e)};return l(()=>r.modelValue,e=>{V.value=e}),(e,a)=>{const l=C,i=j;return t(),o("div",oe,[n("div",se,[a[1]||(a[1]=n("h4",null,"视频时长",-1)),n("span",ue,m(V.value)+"秒",1)]),n("div",ie,[s(l,{modelValue:V.value,"onUpdate:modelValue":a[0]||(a[0]=e=>V.value=e),min:3,max:30,step:1,"bar-height":"4px","active-color":"#007bff",onChange:h},null,8,["modelValue"]),n("div",ne,[(t(!0),o(c,null,v(y.value,e=>(t(),o("span",{key:e,class:"mark"},m(e)+"s ",1))),128))])]),n("div",de,[a[2]||(a[2]=n("h5",null,"快速选择",-1)),n("div",re,[(t(),o(c,null,v(f,e=>s(i,{key:e.value,type:V.value===e.value?"primary":"default",size:"small",onClick:a=>{return l=e.value,V.value=l,void p("update:modelValue",l);var l},class:"quick-btn"},{default:u(()=>[g(m(e.label),1)]),_:2},1032,["type","onClick"])),64))])])])}}}),[["__scopeId","data-v-e6398dce"]]),ce={class:"generate-button"},ve={key:0,class:"points-cost"},pe={key:0,class:"generate-hint"},ge=h(e({__name:"GenerateButton",props:{disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},pointsCost:{default:100}},emits:["click"],setup(e,{emit:a}){const l=e,d=a,v=i(()=>l.disabled?"default":"primary"),p=i(()=>l.disabled?"请填写完整信息":"生成视频"),V=i(()=>"正在生成视频..."),f=i(()=>l.disabled&&!l.loading),y=i(()=>l.disabled?"请填写提示词和必要信息":""),h=()=>{l.disabled||l.loading||d("click")};return(a,l)=>{const i=k,d=j;return t(),o("div",ce,[s(d,{type:v.value,loading:e.loading,disabled:e.disabled,"loading-text":V.value,block:"",round:"",size:"large",onClick:h,class:"generate-btn"},{default:u(()=>[e.loading?r("",!0):(t(),o(c,{key:0},[s(i,{name:"play",class:"btn-icon"}),g(" "+m(p.value)+" ",1),!e.disabled&&e.pointsCost>0?(t(),o("span",ve," 消耗 "+m(e.pointsCost)+" 积分 ",1)):r("",!0)],64))]),_:1},8,["type","loading","disabled","loading-text"]),f.value?(t(),o("div",pe,[s(i,{name:"info",class:"hint-icon"}),n("span",null,m(y.value),1)])):r("",!0)])}}}),[["__scopeId","data-v-fb9dfa0f"]]),Ve={class:"mobile-video-generation"},fe=h(e({__name:"sdkwork-generation-video",props:{initialPrompt:{default:""},initialStyle:{default:""},initialDuration:{default:5},showDuration:{type:Boolean,default:!0},showStyle:{type:Boolean,default:!0},allowImageUpload:{type:Boolean,default:!0}},emits:["generate-start","generate-success","generate-error"],setup(e,{emit:u}){const n=e,d=u,m=q(),{currentTask:c}=y(m),v=a("text"),g=a([]),V=a("single"),f=a(n.initialPrompt),h=a(n.initialStyle),b=a(n.initialDuration),k=i(()=>"generating"===c.value?.status),_=i(()=>("text"===v.value||g.value.length>0)&&f.value.trim().length>0),x=async()=>{if(_.value&&!k.value){d("generate-start");try{const e={prompt:f.value,style:h.value||void 0,n:1,width:1280,height:720,responseFormat:"url"};"image"===v.value&&g.value.length;const a=await m.generateVideo(e);console.log("视频生成成功:",a),d("generate-success",a)}catch(e){console.error("视频生成失败:",e),d("generate-error",e)}}};return l(v,e=>{"text"===e&&(g.value=[])}),(e,a)=>(t(),o("div",Ve,[s(P,{modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=e=>v.value=e)},null,8,["modelValue"]),n.allowImageUpload&&"image"===v.value?(t(),p(Q,{key:0,modelValue:g.value,"onUpdate:modelValue":a[1]||(a[1]=e=>g.value=e),mode:V.value},null,8,["modelValue","mode"])):r("",!0),s(A,{modelValue:f.value,"onUpdate:modelValue":a[2]||(a[2]=e=>f.value=e),placeholder:"text"===v.value?"请输入视频描述，详细描述能生成更好的效果...":"描述您希望基于图片生成的视频内容..."},null,8,["modelValue","placeholder"]),n.showDuration?(t(),p(me,{key:1,modelValue:b.value,"onUpdate:modelValue":a[3]||(a[3]=e=>b.value=e)},null,8,["modelValue"])):r("",!0),n.showStyle?(t(),p(te,{key:2,modelValue:h.value,"onUpdate:modelValue":a[4]||(a[4]=e=>h.value=e)},null,8,["modelValue"])):r("",!0),s(ge,{disabled:k.value||!_.value,onClick:x},null,8,["disabled"])]))}}),[["__scopeId","data-v-4f7714d0"]]);export{fe as S};
