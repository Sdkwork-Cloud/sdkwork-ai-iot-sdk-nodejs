import{_ as e}from"./sdkwork-scroll-video-DjJc03CD.js";import{k as t,r as o,b as s,o as a,P as i,Q as p,j as g,W as l,S as m,$ as r}from"./vue-vendor-CnVaDBlt.js";import{s as n,_ as c}from"./index-DS3FT4GI.js";import{b as u}from"./route-block-B_A1xBdJ.js";import"./sdkwork-popup-BvExtb7p.js";import"./sdkwork-video-player-SpFHLcYJ.js";import"./utils-vendor-WEzSe-CR.js";/* empty css              *//* empty css              *//* empty css              */import"./index-CpHSUcX0.js";import"./sdkwork-api-list-Y-R4jWTT.js";import"./shared-BOBKNwVB.js";import"./sdkwork-search-bar-BRXsRgH8.js";import"./sdkwork-icon-JBBTW6q4.js";import"./ListItem-CYbH_EmH.js";import"./index-CxAp-bNZ.js";import"./index-BJXTf1ZV.js";import"./use-id-CkVbEcjv.js";import"./index-DurQyno_.js";const d={class:"video-demo"},v={key:0,class:"debug-panel"},h={class:"debug-info"},k={class:"info-item"},b={class:"info-item"},w={class:"info-item"},f={class:"info-item"},y={class:"info-item"},B={class:"info-item"},$={class:"info-item"},F={key:0,class:"info-item"},j={key:1,class:"info-item"},S=t({__name:"video-demo",setup(t){const c=o(),u=o(!1),S=o(0),C=o(null),R=o(null),x=o(0),M=o({tags:["推荐"],sort:"recommend"}),T=(e,t)=>{const o={"9:16":["https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/SubaruOutback.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/VolkswagenGTIReview.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/WhatCarCanYouGetForAGrand.mp4"],"16:9":["https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/SubaruOutback.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/VolkswagenGTIReview.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/WhatCarCanYouGetForAGrand.mp4"],"1:1":["https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4"],"4:3":["https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4"],"21:9":["https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/SubaruOutback.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/VolkswagenGTIReview.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/WhatCarCanYouGetForAGrand.mp4"],"3:4":["https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4"]},s=o[e]||o["16:9"];return s[t%s.length]},E=async e=>{const t=500*Math.random()+300;await new Promise(e=>setTimeout(e,t));const o=e.pageNumber||1,s=e.pageSize||10,a=[{aspectRatio:"9:16",width:720,height:1280,type:"手机竖屏"},{aspectRatio:"9:16",width:1080,height:1920,type:"高清竖屏"},{aspectRatio:"9:16",width:540,height:960,type:"标准竖屏"},{aspectRatio:"16:9",width:1280,height:720,type:"横屏视频"},{aspectRatio:"1:1",width:1080,height:1080,type:"正方形"},{aspectRatio:"3:4",width:750,height:1e3,type:"竖屏传统"}],i=30,p=((e,t)=>{const o=[{name:"自然风光",tags:["自然","风光","日出","日落","山水"]},{name:"城市生活",tags:["城市","夜景","现代","建筑","街道"]},{name:"动物世界",tags:["动物","野生动物","宠物","鸟类","海洋"]},{name:"美食制作",tags:["美食","甜点","制作","烹饪","食谱"]},{name:"旅行探险",tags:["旅行","探险","户外","冒险","风景"]},{name:"音乐舞蹈",tags:["音乐","舞蹈","表演","艺术","文化"]}],s=[];for(let i=0;i<t;i++){const t=e+i,p=o[t%o.length],g=p.tags[t%p.tags.length];let l;l=t%10<6?a[0]:t%10<7?a[1]:t%10<8?a[2]:a[t%a.length];const m=`https://picsum.photos/${Math.min(l.width,800)}/${Math.min(l.height,800)}?random=${t}`;s.push({id:`video_${t}`,title:`${p.name} - ${g} [${l.type}]`,description:`精彩的${p.name}视频，${l.type}比例，展现${g}的魅力。视频尺寸：${l.width}x${l.height} (${l.aspectRatio})`,videoUrl:T(l.aspectRatio,t),coverUrl:m,duration:30+t%120,aspectRatio:l.aspectRatio,videoType:l.type,videoWidth:l.width,videoHeight:l.height,author:{id:`author_${t}`,username:`${p.name}达人${t}`,avatar:`https://picsum.photos/100/100?random=${t+100}`,verified:t%3==0,followed:t%4==0,followerCount:1e3+123*t%1e4,videoCount:10+t%50},music:{id:`music_${t}`,name:`${p.name}旋律${t}`,author:`${p.name}之声`,coverUrl:`https://picsum.photos/100/100?random=${t+200}`,musicUrl:"",duration:180+t%120},likeCount:100+456*t%5e3,commentCount:10+78*t%500,shareCount:5+23*t%200,makeSameCount:1+t%50,liked:t%5==0,muted:!1,progress:0,currentTime:0,playing:!1,loading:!0,preloaded:!1,createTime:new Date(Date.now()-t%30*24*60*60*1e3).toISOString(),tags:[p.name,g,l.type,...p.tags.slice(0,2)]})}return s})(1,i),g=(o-1)*s,l=g+s;if(1===o&&Math.random()<.1)throw new Error("网络连接失败，请检查网络后重试");if(o>1&&Math.random()<.05)throw new Error("加载更多失败，请稍后重试");if(g>=i)return{records:[],total:i,size:s,current:o,pages:Math.ceil(i/s)};return{records:p.slice(g,l),total:i,size:s,current:o,pages:Math.ceil(i/s)}},I=(e,t)=>{S.value=t,C.value=e,c.value&&(R.value=c.value.getComponentInfo())},_=e=>{},z=e=>{},G=e=>{},O=e=>{},V=e=>{},W=e=>{n(e.message||"网络请求失败")},D=()=>{if(!c.value)return"未初始化";const e=c.value.getVideoList(),t=c.value.getCurrentVideo();return 0===e.length?"无数据":t?.loading?"加载中":`已加载${e.length}个视频`},L=()=>{if("memory"in performance){const e=performance.memory;x.value=Math.round(e.usedJSHeapSize/1024/1024)}};let J=null;return s(()=>{J=window.setInterval(L,1e3)}),a(()=>{J&&(clearInterval(J),J=null)}),(t,o)=>{const s=e;return p(),i("div",d,[g(s,{api:E,params:M.value,"page-size":5,"preload-count":3,autoplay:"",enableLoading:!1,onVideoChange:I,onLike:_,onComment:z,onShare:G,onFollow:O,onLoad:V,onError:W,ref_key:"videoRef",ref:c},null,8,["params"]),u.value?(p(),i("div",v,[m("div",h,[o[9]||(o[9]=m("h3",null,"视频滚动组件监控",-1)),m("div",k,[o[0]||(o[0]=m("span",null,"当前视频索引:",-1)),m("span",null,r(S.value),1)]),m("div",b,[o[1]||(o[1]=m("span",null,"总视频数:",-1)),m("span",null,r(R.value?.totalVideos||0),1)]),m("div",w,[o[2]||(o[2]=m("span",null,"当前索引:",-1)),m("span",null,r(R.value?.currentIndex||0),1)]),m("div",f,[o[3]||(o[3]=m("span",null,"切换状态:",-1)),m("span",null,r(R.value?.isSwitching?"切换中":"正常"),1)]),m("div",y,[o[4]||(o[4]=m("span",null,"内存使用:",-1)),m("span",null,r(x.value)+" MB",1)]),o[10]||(o[10]=m("div",{class:"info-item"},[m("span",null,"分页信息:"),m("span",null,"每页5条，共6页")],-1)),m("div",B,[o[5]||(o[5]=m("span",null,"加载状态:",-1)),m("span",null,r(D()),1)]),m("div",$,[o[6]||(o[6]=m("span",null,"触摸方向:",-1)),m("span",null,r("等待触摸事件"),1)]),C.value?(p(),i("div",F,[o[7]||(o[7]=m("span",null,"视频尺寸:",-1)),m("span",null,r(C.value.videoWidth)+"x"+r(C.value.videoHeight)+" ("+r(C.value.aspectRatio)+")",1)])):l("",!0),C.value?(p(),i("div",j,[o[8]||(o[8]=m("span",null,"视频类型:",-1)),m("span",null,r(C.value.videoType),1)])):l("",!0)])])):l("",!0)])}}});"function"==typeof u&&u(S);const C=c(S,[["__scopeId","data-v-e8f7f86e"]]);export{C as default};
