import{f as e,F as a}from"./index-dee6a080.js";import{u as o}from"./use-id-82312033.js";import{k as l,K as c,o as t,t as s,H as n,T as r,$ as i,w as u}from"./index-5affcab4.js";import{k as d,r as b,j as f,q as p}from"./vue-vendor-a2672387.js";const[m,h,k]=l("search");const v=u(d({name:m,props:c({},e,{label:String,shape:t("square"),leftIcon:t("search"),clearable:s,actionText:String,background:String,showAction:Boolean}),emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(l,{emit:t,slots:s,attrs:u}){const d=o(),m=b(),v=()=>{s.action||(t("update:modelValue",""),t("cancel"))},g=e=>{13===e.keyCode&&(i(e),t("search",l.modelValue))},I=()=>l.id||`${d}-input`,w=()=>{if(s.label||l.label)return f("label",{class:h("label"),for:I(),"data-allow-mismatch":"attribute"},[s.label?s.label():l.label])},j=()=>{if(l.showAction){const e=l.actionText||k("cancel");return f("div",{class:h("action"),role:"button",tabindex:0,onClick:v},[s.action?s.action():e])}},x=e=>t("blur",e),C=e=>t("focus",e),y=e=>t("clear",e),V=e=>t("clickInput",e),S=e=>t("clickLeftIcon",e),A=e=>t("clickRightIcon",e),L=Object.keys(e),R=()=>{const e=c({},u,r(l,L),{id:I()});return f(a,p({ref:m,type:"search",class:h("field",{"with-message":e.errorMessage}),border:!1,onBlur:x,onFocus:C,onClear:y,onKeypress:g,onClickInput:V,onClickLeftIcon:S,onClickRightIcon:A,"onUpdate:modelValue":e=>t("update:modelValue",e)},e),r(s,["left-icon","right-icon"]))};return n({focus:()=>{var e;return null==(e=m.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=m.value)?void 0:e.blur()}}),()=>{var e;return f("div",{class:h({"show-action":l.showAction}),style:{background:l.background}},[null==(e=s.left)?void 0:e.call(s),f("div",{class:h("content",l.shape)},[w(),R()]),j()])}}}));export{v as S};
