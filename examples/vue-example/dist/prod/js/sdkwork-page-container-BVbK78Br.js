import{k as e,r as o,f as a,w as t,b as l,n as s,o as r,P as n,W as d,S as i,U as c,R as u,V as v,Q as k,$ as p}from"./vue-vendor-CnVaDBlt.js";import{_ as h}from"./index-Cw3XK0oB.js";const g={key:0,class:"sdkwork-page-container__navbar"},m={key:1,class:"sdkwork-page-container__header"},f={key:0,class:"sdkwork-page-container__title"},w={key:1,class:"sdkwork-page-container__description"},_={key:2,class:"sdkwork-page-container__footer"},b={key:3,class:"sdkwork-page-container__safe-area"},y=h(e({__name:"sdkwork-page-container",props:{title:{},description:{},fullscreen:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!0},safeArea:{type:Boolean,default:!0},transparent:{type:Boolean,default:!1},backgroundColor:{},contentBackgroundColor:{},customStyle:{},themeMode:{default:"auto"},onLoad:{},onShow:{},onHide:{},onScroll:{}},emits:["load","show","hide","scroll"],setup(e,{expose:h,emit:y}){const M=e,S=y,L=o(null),T=o(null),$=o(!1),B=o(0),H=o(!1),C=()=>{"dark"===M.themeMode?H.value=!0:"light"===M.themeMode?H.value=!1:"auto"===M.themeMode&&(H.value=!("undefined"==typeof window||!window.matchMedia)&&window.matchMedia("(prefers-color-scheme: dark)").matches)},E=a(()=>H.value?"sdkwork-page-container--dark":"sdkwork-page-container--light"),x=a(()=>({...M.customStyle,backgroundColor:M.backgroundColor||void 0,"--sdkwork-page-container-content-bg":M.contentBackgroundColor||void 0})),A=()=>{"visible"===document.visibilityState?($.value=!0,S("show"),M.onShow?.()):($.value=!1,S("hide"),M.onHide?.())},R=()=>{T.value&&M.scrollable&&(B.value=T.value.scrollTop,S("scroll",B.value),M.onScroll?.(B.value))},j=(e,o="smooth")=>{T.value&&T.value.scrollTo({top:e,behavior:o})};h({scrollTo:j,scrollToTop:(e="smooth")=>{j(0,e)},scrollToBottom:(e="smooth")=>{T.value&&j(T.value.scrollHeight,e)},getScrollTop:()=>B.value,getContentHeight:()=>T.value?.clientHeight||0,getScrollHeight:()=>T.value?.scrollHeight||0,isVisible:()=>$.value,getThemeMode:()=>M.themeMode,isDarkMode:()=>H.value}),t(()=>M.themeMode,C);let V=null;const D=()=>{"auto"===M.themeMode&&(H.value=V?.matches||!1)};return l(()=>{C(),s(()=>{S("load"),M.onLoad?.()}),"undefined"!=typeof document&&document.addEventListener("visibilitychange",A),T.value&&M.scrollable&&T.value.addEventListener("scroll",R),"auto"===M.themeMode&&"undefined"!=typeof window&&window.matchMedia&&(V=window.matchMedia("(prefers-color-scheme: dark)"),V.addEventListener("change",D))}),r(()=>{"undefined"!=typeof document&&document.removeEventListener("visibilitychange",A),T.value&&T.value.removeEventListener("scroll",R),V&&V.removeEventListener("change",D)}),(o,a)=>(k(),n("div",{ref_key:"rootRef",ref:L,class:u(["sdkwork-page-container",[{"sdkwork-page-container--fullscreen":e.fullscreen,"sdkwork-page-container--scrollable":e.scrollable,"sdkwork-page-container--safe-area":e.safeArea,"sdkwork-page-container--transparent":e.transparent},E.value]]),style:v(x.value)},[o.$slots.navbar?(k(),n("div",g,[c(o.$slots,"navbar",{},void 0,!0)])):d("",!0),o.$slots.header||e.title?(k(),n("div",m,[c(o.$slots,"header",{},()=>[e.title?(k(),n("h1",f,p(e.title),1)):d("",!0),e.description?(k(),n("p",w,p(e.description),1)):d("",!0)],!0)])):d("",!0),i("div",{ref_key:"contentRef",ref:T,class:u(["sdkwork-page-container__content",{"sdkwork-page-container__content--scrollable":e.scrollable}])},[c(o.$slots,"default",{},void 0,!0)],2),o.$slots.footer?(k(),n("div",_,[c(o.$slots,"footer",{},void 0,!0)])):d("",!0),e.safeArea?(k(),n("div",b)):d("",!0)],6))}}),[["__scopeId","data-v-7ab5604c"]]);export{y as S};
