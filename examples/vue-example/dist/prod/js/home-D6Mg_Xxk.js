import{L as e,_ as t}from"./index-Czm3MDyH.js";import{E as a}from"./index-DAOemCPB.js";import{k as s,r as n,c as i,O as r,Z as d,Q as o,a0 as p,j as m,a4 as c,S as l}from"./vue-vendor-CnVaDBlt.js";import{S as u}from"./sdkwork-conversation-list-H0VBuUdF.js";import{S as g}from"./sdkwork-page-container-CW_61NzG.js";import{b as f}from"./route-block-B_A1xBdJ.js";import"./utils-vendor-WEzSe-CR.js";import"./use-id-CkVbEcjv.js";import"./sdkwork-api-list-klcaLhLZ.js";import"./shared-Br1A_wtp.js";import"./sdkwork-search-bar-BXJYiKxA.js";import"./sdkwork-icon-CDfxWqAn.js";import"./ListItem-CMWkj5QP.js";/* empty css              */import"./index-fSkMW4vy.js";const y=s({__name:"home",setup(t){const s=n(),f=i({status:"active",keyword:"",agentId:"",pinned:void 0,muted:void 0}),y=[{id:"1",title:"技术支持",description:"与技术支持团队的对话",type:"text",status:"active",participants:[{id:"user-1",name:"用户",type:"user",online:!0},{id:"agent-1",name:"技术支持",avatar:"https://via.placeholder.com/300x300/007bff/ffffff?text=TS",type:"agent",online:!0}],lastMessage:{id:"msg-1",content:"您好，有什么可以帮助您的？",sender:"agent",timestamp:"2024-12-15T10:30:00Z",type:"text",read:!1},unreadCount:2,createdAt:"2024-12-15T09:00:00Z",updatedAt:"2024-12-15T10:30:00Z",agentId:"agent-1",agentName:"技术支持",tags:["技术支持","帮助"],pinned:!1,muted:!1},{id:"2",title:"智能家居群",description:"智能家居设备管理群聊",type:"text",status:"active",participants:[{id:"user-1",name:"用户",type:"user",online:!0},{id:"agent-2",name:"智能家居助手",avatar:"https://via.placeholder.com/300x300/28a745/ffffff?text=Home",type:"agent",online:!0}],lastMessage:{id:"msg-2",content:"小明：客厅温度已调整到25度",sender:"user",timestamp:"2024-12-15T09:15:00Z",type:"text",read:!0},unreadCount:5,createdAt:"2024-12-14T08:00:00Z",updatedAt:"2024-12-15T09:15:00Z",agentId:"agent-2",agentName:"智能家居助手",tags:["家居","设备"],pinned:!1,muted:!1},{id:"3",title:"智能音箱",description:"智能音箱设备对话",type:"text",status:"active",participants:[{id:"user-1",name:"用户",type:"user",online:!1},{id:"agent-3",name:"智能音箱",avatar:"https://via.placeholder.com/300x300/ffc107/ffffff?text=Speaker",type:"agent",online:!0}],lastMessage:{id:"msg-3",content:"设备运行正常",sender:"agent",timestamp:"2024-12-14T16:20:00Z",type:"text",read:!0},unreadCount:0,createdAt:"2024-12-13T10:00:00Z",updatedAt:"2024-12-14T16:20:00Z",agentId:"agent-3",agentName:"智能音箱",tags:["音箱","设备"],pinned:!1,muted:!1},{id:"4",title:"天气预报助手",description:"天气预报查询对话",type:"text",status:"active",participants:[{id:"user-1",name:"用户",type:"user",online:!0},{id:"agent-4",name:"天气预报助手",avatar:"https://via.placeholder.com/300x300/17a2b8/ffffff?text=Weather",type:"agent",online:!0}],lastMessage:{id:"msg-4",content:"今天晴转多云，气温18-25度",sender:"agent",timestamp:"2024-12-14T07:30:00Z",type:"text",read:!0},unreadCount:0,createdAt:"2024-12-12T09:00:00Z",updatedAt:"2024-12-14T07:30:00Z",agentId:"agent-4",agentName:"天气预报助手",tags:["天气","预报"],pinned:!0,muted:!1},{id:"5",title:"安防系统",description:"安防系统监控对话",type:"text",status:"active",participants:[{id:"user-1",name:"用户",type:"user",online:!0},{id:"agent-5",name:"安防系统",avatar:"https://via.placeholder.com/300x300/dc3545/ffffff?text=Security",type:"agent",online:!0}],lastMessage:{id:"msg-5",content:"门窗关闭状态正常",sender:"agent",timestamp:"2024-12-13T18:00:00Z",type:"text",read:!1},unreadCount:1,createdAt:"2024-12-11T14:00:00Z",updatedAt:"2024-12-13T18:00:00Z",agentId:"agent-5",agentName:"安防系统",tags:["安防","监控"],pinned:!1,muted:!0}],v=r(),h=async e=>{try{await new Promise(e=>setTimeout(e,500));const{pageNumber:t=0,pageSize:a=10,filters:s}=e;let n=[...y];if(s){if(s.keyword){const e=s.keyword.toLowerCase();n=n.filter(t=>t.title.toLowerCase().includes(e)||t.description?.toLowerCase().includes(e)||t.lastMessage?.content.toLowerCase().includes(e))}s.agentId&&(n=n.filter(e=>e.agentId===s.agentId)),void 0!==s.pinned&&(n=n.filter(e=>e.pinned===s.pinned)),void 0!==s.muted&&(n=n.filter(e=>e.muted===s.muted))}const i=t*a,r=i+a,d=n.slice(i,r);return{content:d,empty:0===d.length,first:0===t,last:r>=n.length,pageNumber:t,numberOfElements:d.length,pageSize:a,sort:{empty:!0,sorted:!1,unsorted:!0,orders:[]},totalElements:n.length,totalPages:Math.ceil(n.length/a)}}catch(t){return{content:[],empty:!0,first:!0,last:!0,pageNumber:0,numberOfElements:0,pageSize:e.pageSize||10,sort:{empty:!0,sorted:!1,unsorted:!0,orders:[]},totalElements:0,totalPages:0}}},x=e=>{v.push(`/chat/${e.id}`)},k=async e=>{},T=e=>{},b=e=>{};return(t,n)=>{const i=a,r=e;return o(),d(g,{"safe-area":"",scrollable:"","theme-mode":"auto"},{default:p(()=>[m(u,{api:h,params:f,selectable:!1,deletable:!1,searchable:!1,"pageNumber-size":10,onSelect:x,onDelete:k,onSearch:T,onLoad:b,ref_key:"conversationListRef",ref:s},{empty:p(()=>[m(i,{description:"暂无聊天会话",image:"search"},{description:p(()=>[...n[0]||(n[0]=[l("div",{class:"empty-description"},[l("p",null,"暂时没有聊天会话"),l("p",{class:"empty-tip"},"您可以开始新的对话")],-1)])]),_:1})]),loading:p(()=>[m(r,{size:"24px",vertical:""},{default:p(()=>[...n[1]||(n[1]=[c("加载会话数据...",-1)])]),_:1})]),_:1},8,["params"])]),_:1})}}});"function"==typeof f&&f(y);const v=t(y,[["__scopeId","data-v-14d22629"]]);export{v as default};
