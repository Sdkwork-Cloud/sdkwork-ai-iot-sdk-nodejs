import{I as e,B as l,P as a,_ as s}from"./index-34815b62.js";/* empty css              *//* empty css              */import{P as o}from"./index-e4d82c91.js";/* empty css              *//* empty css              *//* empty css              */import{k as t,r as n,c as u,Q as i,R as d,S as c,j as r,a0 as v,a4 as m,w as p,$ as g,F as y,Y as b,Z as h,U as f,u as k}from"./vue-vendor-905d75e5.js";import{F as V}from"./index-d9bf0347.js";import{T as _}from"./index-a1fe09a6.js";import{S as w}from"./index-224bf927.js";import"./utils-vendor-b5712723.js";import"./index-a966f53b.js";import"./use-id-350fcd7b.js";const x={class:"music-header"},C={class:"model-selector"},j=s(t({__name:"MusicHeader",props:{modelValue:{}},emits:["update:modelValue","showHistory"],setup(s,{emit:t}){const p=s,g=t,y=n(!1);n(!1);const b=[{text:"基础音乐模型 (music-gen-v1)",value:"music-gen-v1"},{text:"流行音乐模型 (pop-music-v2)",value:"pop-music-v2"},{text:"古典音乐模型 (classical-v1)",value:"classical-v1"},{text:"电子音乐模型 (electronic-v1)",value:"electronic-v1"},{text:"民谣音乐模型 (folk-music-v1)",value:"folk-music-v1"}],h=u(()=>{const e=b.find(e=>e.value===p.modelValue);return e?e.text:"选择音乐生成模型"}),f=u(()=>b.findIndex(e=>e.value===p.modelValue)),k=e=>{g("update:modelValue",e.value),y.value=!1};return(s,t)=>{const n=e,u=V,p=l,g=o,_=a;return i(),d("div",x,[c("div",C,[r(u,{readonly:"",clickable:"",value:h.value,placeholder:"选择音乐生成模型",onClick:t[0]||(t[0]=e=>y.value=!0),class:"model-field"},{"right-icon":v(()=>[r(n,{name:"arrow-down"})]),_:1},8,["value"])]),r(p,{type:"default",size:"small",onClick:t[1]||(t[1]=e=>s.$emit("showHistory")),class:"history-btn"},{default:v(()=>[r(n,{name:"clock-o"}),t[4]||(t[4]=m(" 生成历史 ",-1))]),_:1}),r(_,{show:y.value,"onUpdate:show":t[3]||(t[3]=e=>y.value=e),position:"bottom"},{default:v(()=>[r(g,{columns:b,onConfirm:k,onCancel:t[2]||(t[2]=e=>y.value=!1),"default-index":f.value},null,8,["default-index"])]),_:1},8,["show"])])}}}),[["__scopeId","data-v-8e436c30"]]),z={class:"song-input"},I={class:"input-header"},U={class:"char-count"},B={class:"input-footer"},L={class:"lyrics-toggle"},$={key:0,class:"song-suggestions"},P={class:"suggestion-list"},S=s(t({__name:"SongInput",props:{modelValue:{},showLyrics:{type:Boolean,default:!1}},emits:["update:modelValue","toggleLyrics","showConfig"],setup(a,{emit:s}){const o=a,t=s,k=n(o.modelValue),x=n(o.showLyrics),C=n(["一首轻快的流行歌曲","浪漫的钢琴曲","动感的电子音乐","治愈的民谣歌曲","激情的摇滚音乐","宁静的古典音乐"]),j=u(()=>k.value.length);return p(k,e=>{t("update:modelValue",e)}),p(()=>o.modelValue,e=>{k.value=e}),p(()=>o.showLyrics,e=>{x.value=e}),p(x,e=>{t("toggleLyrics",e)}),(a,s)=>{const o=V,t=e,n=l,u=w,p=_;return i(),d("div",z,[c("div",I,[s[4]||(s[4]=c("h4",null,"歌曲信息",-1)),c("div",U,g(j.value)+"/"+g(200),1)]),r(o,{modelValue:k.value,"onUpdate:modelValue":s[0]||(s[0]=e=>k.value=e),type:"textarea",placeholder:"请输入歌曲标题或描述，如：一首轻快的流行歌曲",maxlength:200,rows:3,autosize:"","show-word-limit":"",class:"song-field"},null,8,["modelValue"]),c("div",B,[r(n,{type:"default",size:"small",onClick:s[1]||(s[1]=e=>a.$emit("showConfig")),class:"config-btn"},{default:v(()=>[r(t,{name:"setting-o"}),s[5]||(s[5]=m(" 配置 ",-1))]),_:1}),c("div",L,[r(u,{modelValue:x.value,"onUpdate:modelValue":s[2]||(s[2]=e=>x.value=e),size:"20",onChange:s[3]||(s[3]=e=>a.$emit("toggleLyrics",x.value))},null,8,["modelValue"]),s[6]||(s[6]=c("span",{class:"toggle-label"},"歌词",-1))])]),C.value.length>0?(i(),d("div",$,[s[7]||(s[7]=c("h5",null,"歌曲类型建议",-1)),c("div",P,[(i(!0),d(y,null,b(C.value,e=>(i(),h(p,{key:e,type:"primary",size:"medium",onClick:l=>(e=>{k.value?k.value+=", "+e:k.value=e})(e),class:"suggestion-tag"},{default:v(()=>[m(g(e),1)]),_:2},1032,["onClick"]))),128))])])):f("",!0)])}}}),[["__scopeId","data-v-ada1796d"]]),F={class:"lyrics-editor"},G={class:"editor-header"},H={class:"char-count"},M={class:"format-tips"},T={key:0,class:"lyrics-templates"},R={class:"template-list"},A=s(t({__name:"LyricsEditor",props:{modelValue:{}},emits:["update:modelValue"],setup(l,{emit:a}){const s=l,o=a,t=n(s.modelValue),k=n([{name:"流行歌曲模板",content:"[主歌]\nVerse 1\nVerse 2\n\n[副歌]\nChorus 1\nChorus 2\n\n[桥段]\nBridge\n\n[尾奏]"},{name:"民谣模板",content:"[引子]\nIntro\n\n[主歌]\nVerse 1\nVerse 2\n\n[副歌]\nChorus\n\n[尾声]"},{name:"电子音乐模板",content:"[Intro]\n[Build up]\n[Drop]\n[Breakdown]\n[Outro]"}]),w=u(()=>t.value.length);return p(t,e=>{o("update:modelValue",e)}),p(()=>s.modelValue,e=>{t.value=e}),(l,a)=>{const s=V,o=e,n=_;return i(),d("div",F,[c("div",G,[a[1]||(a[1]=c("h4",null,"歌词编辑",-1)),c("div",H,g(w.value)+"/"+g(1e3),1)]),r(s,{modelValue:t.value,"onUpdate:modelValue":a[0]||(a[0]=e=>t.value=e),type:"textarea",placeholder:"请输入歌词内容，支持多行输入...",maxlength:1e3,rows:5,autosize:"","show-word-limit":"",class:"lyrics-field"},null,8,["modelValue"]),c("div",M,[r(o,{name:"info-o",class:"tip-icon"}),a[2]||(a[2]=c("span",{class:"tip-text"},"支持分段输入，每段歌词会生成对应的音乐段落",-1))]),k.value.length>0?(i(),d("div",T,[a[3]||(a[3]=c("h5",null,"歌词模板",-1)),c("div",R,[(i(!0),d(y,null,b(k.value,e=>(i(),h(n,{key:e.name,type:"primary",size:"medium",onClick:l=>(e=>{t.value?t.value+="\n\n"+e.content:t.value=e.content})(e),class:"template-tag"},{default:v(()=>[m(g(e.name),1)]),_:2},1032,["onClick"]))),128))])])):f("",!0)])}}}),[["__scopeId","data-v-00c6384b"]]),D={class:"generate-button"},E={key:0,class:"points-cost"},N={key:0,class:"generate-hint"},O=s(t({__name:"MusicGenerateButton",props:{disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},pointsCost:{default:50}},emits:["click"],setup(a,{emit:s}){const o=a,t=s,n=u(()=>o.disabled?"default":"primary"),p=u(()=>o.disabled?"请填写歌曲信息":"生成音乐"),b=u(()=>"正在生成音乐..."),h=u(()=>o.disabled&&!o.loading),k=u(()=>o.disabled?"请输入歌曲标题或描述":""),V=()=>{o.disabled||o.loading||t("click")};return(s,o)=>{const t=e,u=l;return i(),d("div",D,[r(u,{type:n.value,loading:a.loading,disabled:a.disabled,"loading-text":b.value,block:"",round:"",size:"large",onClick:V,class:"generate-btn"},{default:v(()=>[a.loading?f("",!0):(i(),d(y,{key:0},[r(t,{name:"music-o",class:"btn-icon"}),m(" "+g(p.value)+" ",1),!a.disabled&&a.pointsCost>0?(i(),d("span",E," 消耗 "+g(a.pointsCost)+" 积分 ",1)):f("",!0)],64))]),_:1},8,["type","loading","disabled","loading-text"]),h.value?(i(),d("div",N,[r(t,{name:"info",class:"hint-icon"}),c("span",null,g(k.value),1)])):f("",!0)])}}}),[["__scopeId","data-v-67c306c5"]]),Q={class:"config-panel"},Y={class:"panel-header"},Z={class:"config-content"},q={class:"config-section"},J={class:"option-grid"},K={class:"config-section"},W={class:"option-grid"},X={class:"config-section"},ee={class:"option-grid"},le={class:"panel-footer"},ae=s(t({__name:"MusicConfigPanel",props:{modelValue:{},show:{type:Boolean}},emits:["update:modelValue","update:show"],setup(e,{emit:s}){const o=e,t=s,u=n(!1),f=n({style:"",emotion:"",scene:"",bpm:"",duration:""}),k=[{label:"流行",value:"pop"},{label:"摇滚",value:"rock"},{label:"电子",value:"electronic"},{label:"古典",value:"classical"},{label:"民谣",value:"folk"},{label:"爵士",value:"jazz"},{label:"嘻哈",value:"hiphop"},{label:"R&B",value:"r&b"}],V=[{label:"快乐",value:"happy"},{label:"悲伤",value:"sad"},{label:"平静",value:"calm"},{label:"激动",value:"excited"},{label:"浪漫",value:"romantic"},{label:"神秘",value:"mysterious"},{label:"紧张",value:"tense"},{label:"放松",value:"relaxed"}],_=[{label:"背景音乐",value:"background"},{label:"舞蹈音乐",value:"dance"},{label:"学习音乐",value:"study"},{label:"工作音乐",value:"work"},{label:"运动音乐",value:"exercise"},{label:"睡眠音乐",value:"sleep"},{label:"冥想音乐",value:"meditation"},{label:"派对音乐",value:"party"}];p(f,e=>{t("update:modelValue",e)},{deep:!0}),p(()=>o.show,e=>{u.value=e}),p(u,e=>{t("update:show",e)});const w=()=>{u.value=!1};p(()=>o.modelValue,e=>{f.value={...e}},{immediate:!0});const x=()=>{f.value={style:"",emotion:"",scene:"",bpm:"",duration:""}};return(e,s)=>{const o=l,t=a;return i(),h(t,{show:u.value,"onUpdate:show":s[0]||(s[0]=e=>u.value=e),position:"bottom",round:"",style:{height:"70%"}},{default:v(()=>[c("div",Q,[c("div",Y,[s[2]||(s[2]=c("h3",null,"音乐配置",-1)),r(o,{type:"primary",size:"small",onClick:w,class:"close-btn"},{default:v(()=>[...s[1]||(s[1]=[m(" 完成 ",-1)])]),_:1})]),c("div",Z,[c("div",q,[s[3]||(s[3]=c("h4",null,"音乐风格",-1)),c("div",J,[(i(),d(y,null,b(k,e=>r(o,{key:e.value,type:f.value.style===e.value?"primary":"default",size:"small",onClick:l=>f.value.style=e.value,class:"option-btn"},{default:v(()=>[m(g(e.label),1)]),_:2},1032,["type","onClick"])),64))])]),c("div",K,[s[4]||(s[4]=c("h4",null,"情绪",-1)),c("div",W,[(i(),d(y,null,b(V,e=>r(o,{key:e.value,type:f.value.emotion===e.value?"primary":"default",size:"small",onClick:l=>f.value.emotion=e.value,class:"option-btn"},{default:v(()=>[m(g(e.label),1)]),_:2},1032,["type","onClick"])),64))])]),c("div",X,[s[5]||(s[5]=c("h4",null,"场景",-1)),c("div",ee,[(i(),d(y,null,b(_,e=>r(o,{key:e.value,type:f.value.scene===e.value?"primary":"default",size:"small",onClick:l=>f.value.scene=e.value,class:"option-btn"},{default:v(()=>[m(g(e.label),1)]),_:2},1032,["type","onClick"])),64))])])]),c("div",le,[r(o,{type:"default",size:"large",onClick:x,class:"reset-btn"},{default:v(()=>[...s[6]||(s[6]=[m(" 重置配置 ",-1)])]),_:1})])])]),_:1},8,["show"])}}}),[["__scopeId","data-v-a0a00822"]]),se={class:"mobile-music-generation"},oe=s(t({__name:"sdkwork-generation-music",setup(e){const l=n("music-gen-v1"),a=n(""),s=n(!1),o=n(""),t=n(!1),c=n(!1),v=n({style:"",emotion:"",scene:"",bpm:"",duration:""}),m=u(()=>a.value.trim().length>0),p=async()=>{if(m.value&&!t.value){t.value=!0;try{console.log("生成音乐参数:",{model:l.value,songInfo:a.value,lyrics:s.value?o.value:""}),await new Promise(e=>setTimeout(e,3e3)),console.log("音乐生成成功!")}catch(e){console.error("音乐生成失败:",e)}finally{t.value=!1}}};return(e,n)=>(i(),d("div",se,[r(j,{modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=e=>l.value=e)},null,8,["modelValue"]),r(S,{modelValue:a.value,"onUpdate:modelValue":n[1]||(n[1]=e=>a.value=e),"show-lyrics":s.value,onToggleLyrics:n[2]||(n[2]=e=>s.value=!s.value),onShowConfig:n[3]||(n[3]=e=>c.value=!0)},null,8,["modelValue","show-lyrics"]),s.value?(i(),h(A,{key:0,modelValue:o.value,"onUpdate:modelValue":n[4]||(n[4]=e=>o.value=e)},null,8,["modelValue"])):f("",!0),r(ae,{modelValue:v.value,"onUpdate:modelValue":n[5]||(n[5]=e=>v.value=e),show:c.value,"onUpdate:show":n[6]||(n[6]=e=>c.value=e)},null,8,["modelValue","show"]),r(O,{disabled:t.value||!m.value,loading:t.value,onClick:p},null,8,["disabled","loading"])]))}}),[["__scopeId","data-v-1a7803e7"]]),te={class:"mobile-music-page"},ne=s(t({__name:"index",setup(e){const l=n();return(e,a)=>(i(),d("div",te,[r(k(oe),{ref_key:"musicGenerator",ref:l,onBack:a[0]||(a[0]=l=>e.$router.back())},null,512)]))}}),[["__scopeId","data-v-7066ee30"]]);export{ne as default};
