import{k as e,f as t,P as a,Q as r,W as o,S as s,V as d,U as n,j as i,$ as l,R as k,O as u}from"./vue-vendor-Caw1HGjZ.js";import{S as c}from"./sdkwork-icon-BywEo3YW.js";import{l as h,_ as w}from"./index-DvK_64jm.js";const f={key:0,class:"sdkwork-navbar__placeholder"},v={class:"sdkwork-navbar__left"},p={key:0,class:"sdkwork-navbar__arrow"},b={key:1,class:"sdkwork-navbar__text"},_={class:"sdkwork-navbar__title"},g={class:"sdkwork-navbar__title-text"},x={class:"sdkwork-navbar__right"},y=w(e({__name:"sdkwork-navbar",props:{title:{default:""},leftText:{default:""},rightText:{default:""},leftArrow:{type:Boolean,default:!1},autoBack:{type:Boolean,default:!0},fixed:{type:Boolean,default:!1},border:{type:Boolean,default:!0},height:{default:46},zIndex:{default:1},background:{default:""},themeMode:{default:"auto"},safeAreaInsetTop:{type:Boolean,default:!1}},emits:["click-left","click-right"],setup(e,{expose:w,emit:y}){const m=e,B=y,T=u(),{isDarkMode:S,currentTheme:M}=h(),$=t(()=>{if(m.leftArrow)return!0;if(!m.autoBack)return!1;try{const e=T.currentRoute.value;if(!0===e.meta?.hideBackButton)return!1;if(!0===e.meta?.showBackButton)return!0;const t=window.history&&window.history.length?window.history.length:1,a="/"===e.path||"/home"===e.path||"/index"===e.path;return t>1&&!a}catch(e){return!1}}),C=t(()=>$.value),I=t(()=>"dark"===m.themeMode?"sdkwork-navbar--dark":"light"===m.themeMode?"sdkwork-navbar--light":"dark"===M.value?"sdkwork-navbar--dark":"sdkwork-navbar--light"),A=t(()=>{if(!m.safeAreaInsetTop)return!1;if("undefined"==typeof window)return!1;const e=navigator.userAgent.toLowerCase();if(!/iphone|ipad|ipod|android/.test(e))return!1;if(window.CSS&&window.CSS.supports)try{return window.CSS.supports("top: env(safe-area-inset-top)")||window.CSS.supports("top: constant(safe-area-inset-top)")}catch(t){return!1}return!1}),j=t(()=>m.height),z=()=>{if(m.autoBack&&$.value)try{T.back()}catch(e){window.history.back()}else B("click-left")},D=()=>{B("click-right")};return w({setTitle:e=>{},getThemeMode:()=>m.themeMode,isDarkMode:()=>"dark"===m.themeMode||"light"!==m.themeMode&&S.value}),(t,u)=>(r(),a("div",null,[e.fixed?(r(),a("div",{key:0,class:"sdkwork-navbar__placeholder-space",style:d({height:`${j.value}px`})},null,4)):o("",!0),s("div",{class:k(["sdkwork-navbar",[{"sdkwork-navbar--fixed":e.fixed,"sdkwork-navbar--border":e.border},I.value]]),style:d({height:`${e.height}px`,zIndex:e.zIndex,background:e.background})},[A.value?(r(),a("div",f)):o("",!0),s("div",{class:"sdkwork-navbar__content",style:d({height:`${e.height}px`})},[s("div",v,[C.value||e.leftText?(r(),a("div",{key:0,class:"sdkwork-navbar__left-btn",onClick:z},[C.value?(r(),a("span",p,[n(t.$slots,"left-arrow",{},()=>[i(c,{icon:"material-symbols:arrow-back-ios-new-rounded",width:"16",height:"16"})],!0)])):o("",!0),e.leftText?(r(),a("span",b,l(e.leftText),1)):o("",!0)])):o("",!0),n(t.$slots,"left",{},void 0,!0)]),s("div",_,[n(t.$slots,"title",{},()=>[s("span",g,l(e.title),1)],!0)]),s("div",x,[n(t.$slots,"right",{},void 0,!0),e.rightText?(r(),a("span",{key:0,class:"sdkwork-navbar__text sdkwork-navbar__right-btn",onClick:D},l(e.rightText),1)):o("",!0)])],4)],6)]))}}),[["__scopeId","data-v-59552c1b"]]);export{y as _};
