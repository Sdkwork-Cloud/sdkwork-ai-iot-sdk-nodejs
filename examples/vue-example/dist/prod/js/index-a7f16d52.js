import{I as e,B as l,_ as a,P as s}from"./index-5affcab4.js";import{S as t}from"./index-7371285f.js";/* empty css              *//* empty css              */import{C as i}from"./index-b4fa6a2d.js";/* empty css              */import{S as o}from"./sdkwork-uploader-file-cfbbd242.js";import{S as n}from"./sdkwork-voice-speaker-category-list-popup-6a918502.js";import{k as d,c as u,Q as c,R as p,j as r,a0 as m,F as v,a4 as h,$ as y,U as b,S as f,r as g,w as P,Z as k,Y as j,X as w}from"./vue-vendor-a2672387.js";import{C as x}from"./index-44056be1.js";import{F as T}from"./index-dee6a080.js";import"./utils-vendor-b5712723.js";import"./sdkwork-popup-6e1ec418.js";import"./sdkwork-pull-refresh-9d6db096.js";import"./index-e159e7ef.js";import"./shared-1cf0c357.js";import"./sdkwork-search-bar-4d747e22.js";import"./sdkwork-icon-2d6efb98.js";import"./index-ccee2c65.js";import"./use-id-82312033.js";import"./ListItem-783a2127.js";import"./LoadingSection-0e2448c2.js";import"./LoadMoreSection-49ddad4b.js";import"./sdkwork-voice-clone-2a1489b7.js";/* empty css              *//* empty css              */import"./index-5d6825eb.js";import"./ImagePreview-084463df.js";import"./index-63936d32.js";import"./index-4fcf5799.js";import"./index-fa879ae6.js";import"./function-call-e02e5da4.js";const V={class:"ppt-generate-button"},_={key:0,class:"points-cost"},C={key:0,class:"generate-hint"},S=a(d({__name:"PptGenerateButton",props:{disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},pointsCost:{default:100},buttonText:{default:"ç”ŸæˆPPTè§†é¢‘"}},emits:["click"],setup(a,{emit:s}){const t=a,i=s,o=u(()=>t.disabled?"default":"primary"),n=u(()=>t.disabled?"è¯·å¡«å†™å®Œæ•´ä¿¡æ¯":t.buttonText),d=u(()=>"æ­£åœ¨ç”Ÿæˆè§†é¢‘..."),g=u(()=>t.disabled&&!t.loading),P=u(()=>t.disabled?"è¯·å¡«å†™æç¤ºè¯å’Œå¿…è¦ä¿¡æ¯":""),k=()=>{t.disabled||t.loading||i("click")};return(s,t)=>{const i=e,u=l;return c(),p("div",V,[r(u,{type:o.value,loading:a.loading,disabled:a.disabled,"loading-text":d.value,block:"",round:"",size:"large",onClick:k,class:"generate-btn"},{default:m(()=>[a.loading?b("",!0):(c(),p(v,{key:0},[r(i,{name:"play",class:"btn-icon"}),h(" "+y(n.value)+" ",1),!a.disabled&&a.pointsCost>0?(c(),p("span",_," æ¶ˆè€— "+y(a.pointsCost)+" ç§¯åˆ† ",1)):b("",!0)],64))]),_:1},8,["type","loading","disabled","loading-text"]),g.value?(c(),p("div",C,[r(i,{name:"info",class:"hint-icon"}),f("span",null,y(P.value),1)])):b("",!0)])}}}),[["__scopeId","data-v-76ecbcea"]]),U={class:"style-popup"},z={class:"popup-header"},B={class:"popup-content"},$={class:"style-list"},F=["onClick"],M={class:"style-thumbnail"},I=["src","alt"],L={class:"style-info"},X={class:"style-name"},N={class:"style-description"},A={class:"style-check"},G=a(d({__name:"StylePopup",props:{modelValue:{type:Boolean},selectedStyle:{}},emits:["update:modelValue","confirm","select"],setup(a,{emit:t}){const i=a,o=t,n=g(i.modelValue),d=g(i.selectedStyle||null),u=g([{id:"professional",name:"å•†åŠ¡ä¸“ä¸š",description:"é€‚åˆå•†åŠ¡æ¼”ç¤ºã€äº§å“ä»‹ç»ç­‰æ­£å¼åœºåˆ",thumbnail:"https://picsum.photos/seed/professional-style/200/120.jpg"},{id:"education",name:"æ•™è‚²åŸ¹è®­",description:"é€‚åˆæ•™å­¦æ¼”ç¤ºã€çŸ¥è¯†åˆ†äº«ç­‰æ•™è‚²åœºæ™¯",thumbnail:"https://picsum.photos/seed/education-style/200/120.jpg"},{id:"technology",name:"ç§‘æŠ€çŽ°ä»£",description:"é€‚åˆç§‘æŠ€äº§å“ã€åˆ›æ–°é¡¹ç›®ç­‰å‰æ²¿é¢†åŸŸ",thumbnail:"https://picsum.photos/seed/technology-style/200/120.jpg"},{id:"creative",name:"åˆ›æ„è‰ºæœ¯",description:"é€‚åˆåˆ›æ„è®¾è®¡ã€è‰ºæœ¯ä½œå“ç­‰è§†è§‰å±•ç¤º",thumbnail:"https://picsum.photos/seed/creative-style/200/120.jpg"},{id:"minimalist",name:"ç®€çº¦æ¸…æ–°",description:"é€‚åˆæžç®€è®¾è®¡ã€æ¸…æ–°é£Žæ ¼ç­‰ç®€çº¦ä¸»é¢˜",thumbnail:"https://picsum.photos/seed/minimalist-style/200/120.jpg"},{id:"dynamic",name:"åŠ¨æ„Ÿæ´»åŠ›",description:"é€‚åˆæ´»åŠ›å±•ç¤ºã€è¿åŠ¨ä¸»é¢˜ç­‰åŠ¨æ„Ÿå†…å®¹",thumbnail:"https://picsum.photos/seed/dynamic-style/200/120.jpg"}]);P(()=>i.modelValue,e=>{n.value=e,e&&i.selectedStyle&&(d.value=i.selectedStyle)}),P(n,e=>{o("update:modelValue",e)});const x=()=>{n.value=!1,i.selectedStyle&&(d.value=i.selectedStyle)},T=()=>{d.value&&(o("confirm",d.value),n.value=!1)};return(a,t)=>{const i=l,g=e,P=s;return c(),k(P,{show:n.value,"onUpdate:show":t[0]||(t[0]=e=>n.value=e),position:"bottom",style:{height:"100%"},round:""},{default:m(()=>[f("div",U,[f("div",z,[r(i,{type:"default",size:"small",onClick:x,class:"cancel-btn"},{default:m(()=>[...t[1]||(t[1]=[h(" å–æ¶ˆ ",-1)])]),_:1}),t[3]||(t[3]=f("div",{class:"header-title"},"é€‰æ‹©è§†é¢‘é£Žæ ¼",-1)),r(i,{type:"primary",size:"small",onClick:T,disabled:!d.value,class:"confirm-btn"},{default:m(()=>[...t[2]||(t[2]=[h(" ç¡®è®¤é€‰æ‹© ",-1)])]),_:1},8,["disabled"])]),f("div",B,[f("div",$,[(c(!0),p(v,null,j(u.value,e=>(c(),p("div",{key:e.id,class:w(["style-item",{selected:d.value?.id===e.id}]),onClick:l=>(e=>{d.value=e,o("select",e)})(e)},[f("div",M,[f("img",{src:e.thumbnail,alt:e.name},null,8,I)]),f("div",L,[f("h4",X,y(e.name),1),f("p",N,y(e.description),1)]),f("div",A,[d.value?.id===e.id?(c(),k(g,{key:0,name:"success",color:"#1890ff"})):b("",!0)])],10,F))),128))])])])]),_:1},8,["show"])}}}),[["__scopeId","data-v-de02234c"]]),K={class:"ppt-video-generation"},Q={key:0,class:"ppt-upload-section"},R={key:1,class:"ppt-storyboard-section"},Y={class:"ppt-info-card"},Z={class:"ppt-info-header"},D={class:"ppt-details"},E={class:"ppt-name"},H={class:"ppt-meta"},J={class:"storyboard-editor"},O={class:"editor-header"},W={class:"slides-container"},q={class:"slide-header"},ee={class:"slide-number"},le={class:"slide-actions"},ae={class:"slide-preview"},se=["src","alt"],te={key:1,class:"slide-placeholder"},ie={class:"slide-content"},oe={class:"slide-duration"},ne={class:"preview-popup"},de={class:"preview-header"},ue={class:"preview-title"},ce={class:"preview-content"},pe=["src","alt"],re=d({__name:"index",setup(a){const d=g([]),P=g(!1),w=g(""),V=g(0),_=g(0),C=g([]),U=g(null),z=g(!1),B=g(null),$=g(!1),F=g(!1),M=g(!1),I=g(!1),L=g(null),X=u(()=>P.value&&null!==U.value&&null!==B.value&&C.value.every(e=>e.narration.trim().length>0)),N=e=>{if(0===e)return"0 B";const l=Math.floor(Math.log(e)/Math.log(1024));return parseFloat((e/Math.pow(1024,l)).toFixed(2))+" "+["B","KB","MB","GB"][l]},A=e=>{console.log("PPTæ–‡ä»¶æ·»åŠ :",e)},re=async(e,l)=>{console.log("PPTæ–‡ä»¶ä¸Šä¼ æˆåŠŸ:",e,l),w.value=e.name,V.value=e.size;try{await me(e)}catch(a){console.error("PPTè§£æžå¤±è´¥:",a),window.$message?.error("PPTè§£æžå¤±è´¥ï¼Œè¯·æ£€æŸ¥æ–‡ä»¶æ˜¯å¦æŸå")}},me=async e=>{await new Promise(e=>setTimeout(e,2e3)),_.value=5,C.value=Array.from({length:_.value},(e,l)=>({id:`slide-${l+1}`,pageNumber:l+1,title:`ç¬¬${l+1}é¡µæ ‡é¢˜`,content:`ç¬¬${l+1}é¡µå†…å®¹æè¿°`,narration:"",duration:5,thumbnail:`https://picsum.photos/seed/ppt-slide-${l+1}/800/450.jpg`,notes:`ç¬¬${l+1}é¡µå¤‡æ³¨ä¿¡æ¯`})),P.value=!0,console.log("PPTè§£æžå®Œæˆï¼Œå…±",_.value,"é¡µ")},ve=async()=>{if(!F.value){F.value=!0;try{await new Promise(e=>setTimeout(e,3e3)),C.value.forEach((e,l)=>{e.narration=`è¿™æ˜¯ç¬¬${l+1}é¡µçš„è‡ªåŠ¨ç”Ÿæˆå°è¯ï¼Œå¯ä»¥æ ¹æ®PPTå†…å®¹è¿›è¡Œè¯¦ç»†ä»‹ç»ï¼Œå¸®åŠ©è§‚ä¼—æ›´å¥½åœ°ç†è§£æ¼”ç¤ºå†…å®¹ã€‚`}),console.log("è‡ªåŠ¨ç”Ÿæˆå°è¯å®Œæˆ")}catch(e){console.error("è‡ªåŠ¨ç”Ÿæˆå°è¯å¤±è´¥:",e)}finally{F.value=!1}}},he=()=>{d.value=[],P.value=!1,w.value="",V.value=0,_.value=0,C.value=[],U.value=null,B.value=null},ye=e=>{U.value=e},be=e=>{U.value=e},fe=e=>{B.value=e},ge=e=>{B.value=e},Pe=async()=>{if(X.value&&!M.value){M.value=!0;try{const e={pptFile:d.value[0],voice:U.value?.id,style:B.value?.id,slides:C.value.map(e=>({id:e.id,pageNumber:e.pageNumber,title:e.title,narration:e.narration,duration:e.duration}))};console.log("ç”ŸæˆPPTè§†é¢‘å‚æ•°:",e),await new Promise(e=>setTimeout(e,5e3)),console.log("PPTè§†é¢‘ç”ŸæˆæˆåŠŸ!"),window.$message?.success("PPTè§†é¢‘ç”ŸæˆæˆåŠŸ!")}catch(e){console.error("PPTè§†é¢‘ç”Ÿæˆå¤±è´¥:",e),window.$message?.error("PPTè§†é¢‘ç”Ÿæˆå¤±è´¥ï¼Œè¯·é‡è¯•")}finally{M.value=!1}}};return(a,u)=>{const g=l,me=x,ke=i,je=e,we=T,xe=t,Te=s;return c(),p("div",K,[P.value?(c(),p("div",R,[f("div",Y,[f("div",Z,[u[9]||(u[9]=f("div",{class:"ppt-icon"},"ðŸ“Š",-1)),f("div",D,[f("h4",E,y(w.value),1),f("p",H,y(_.value)+" é¡µPPT | "+y(N(V.value)),1)]),r(g,{type:"default",size:"small",onClick:he,class:"reset-btn"},{default:m(()=>[...u[8]||(u[8]=[h(" é‡æ–°ä¸Šä¼  ",-1)])]),_:1})])]),r(ke,{class:"storyboard-section"},{default:m(()=>[r(me,{title:U.value?.name||"é€‰æ‹©é…éŸ³",label:U.value?U.value.description:"ç‚¹å‡»é€‰æ‹©é…éŸ³è¯­éŸ³",icon:"volume-o","is-link":"",onClick:u[1]||(u[1]=e=>z.value=!0),class:"option-cell"},{icon:m(()=>[...u[10]||(u[10]=[f("div",{class:"cell-icon"},"ðŸŽ¤",-1)])]),_:1},8,["title","label"]),r(me,{title:B.value?.name||"é€‰æ‹©è§†é¢‘é£Žæ ¼",label:B.value?B.value.description:"ç‚¹å‡»é€‰æ‹©è§†é¢‘é£Žæ ¼",icon:"apps-o","is-link":"",onClick:u[2]||(u[2]=e=>$.value=!0),class:"option-cell"},{icon:m(()=>[...u[11]||(u[11]=[f("div",{class:"cell-icon"},"ðŸŽ¨",-1)])]),_:1},8,["title","label"])]),_:1}),f("div",J,[f("div",O,[u[13]||(u[13]=f("h4",{class:"editor-title"},"åˆ†é•œç¼–è¾‘",-1)),r(g,{type:"primary",size:"small",onClick:ve,loading:F.value,class:"auto-btn"},{default:m(()=>[r(je,{name:"magic"}),u[12]||(u[12]=h(" è‡ªåŠ¨ç”Ÿæˆå°è¯ ",-1))]),_:1},8,["loading"])]),f("div",W,[(c(!0),p(v,null,j(C.value,(e,l)=>(c(),p("div",{key:e.id,class:"slide-item"},[f("div",q,[f("span",ee,"ç¬¬ "+y(l+1)+" é¡µ",1),f("div",le,[r(g,{type:"default",size:"mini",onClick:l=>(e=>{L.value=e,I.value=!0})(e)},{default:m(()=>[...u[14]||(u[14]=[h(" é¢„è§ˆ ",-1)])]),_:1},8,["onClick"])])]),f("div",ae,[e.thumbnail?(c(),p("img",{key:0,src:e.thumbnail,alt:`ç¬¬${l+1}é¡µé¢„è§ˆ`,class:"slide-thumbnail"},null,8,se)):(c(),p("div",te,[r(je,{name:"photo",size:"32"}),u[15]||(u[15]=f("span",null,"åŠ è½½é¢„è§ˆä¸­...",-1))]))]),f("div",ie,[r(we,{modelValue:e.title,"onUpdate:modelValue":l=>e.title=l,label:"æ ‡é¢˜",placeholder:"è¯·è¾“å…¥æ­¤é¡µæ ‡é¢˜",class:"slide-field"},null,8,["modelValue","onUpdate:modelValue"]),r(we,{modelValue:e.narration,"onUpdate:modelValue":l=>e.narration=l,type:"textarea",rows:3,autosize:"",label:"å°è¯",placeholder:"è¯·è¾“å…¥æ­¤é¡µé…éŸ³å°è¯",maxlength:"200","show-word-limit":"",class:"slide-field"},null,8,["modelValue","onUpdate:modelValue"]),f("div",oe,[u[16]||(u[16]=f("span",{class:"duration-label"},"é¢„è®¡æ—¶é•¿ï¼š",-1)),r(xe,{modelValue:e.duration,"onUpdate:modelValue":l=>e.duration=l,min:2,max:30,step:1,"input-width":"50px","button-size":"24px"},null,8,["modelValue","onUpdate:modelValue"]),u[17]||(u[17]=f("span",{class:"duration-unit"},"ç§’",-1))])])]))),128))])])])):(c(),p("div",Q,[u[7]||(u[7]=f("div",{class:"section-header"},[f("h3",{class:"section-title"},"ä¸Šä¼ PPTæ–‡ä»¶"),f("p",{class:"section-subtitle"},"æ”¯æŒä¸Šä¼ PPTã€PPTXæ ¼å¼æ–‡ä»¶ï¼Œç³»ç»Ÿå°†è‡ªåŠ¨è§£æžæ¯é¡µå†…å®¹å¹¶ç”Ÿæˆåˆ†é•œ")],-1)),r(o,{modelValue:d.value,"onUpdate:modelValue":u[0]||(u[0]=e=>d.value=e),multiple:!1,"auto-upload":!0,"max-count":1,accept:".ppt,.pptx",title:"ç‚¹å‡»æˆ–æ‹–æ‹½PPTæ–‡ä»¶åˆ°æ­¤å¤„",subtitle:"æ”¯æŒPPTã€PPTXæ ¼å¼ï¼Œæ–‡ä»¶å¤§å°ä¸è¶…è¿‡50MB","max-size":52428800,onUploadSuccess:re,onFileAdd:A},null,8,["modelValue"])])),P.value?(c(),k(S,{key:2,disabled:M.value||!X.value,loading:M.value,onClick:Pe,"button-text":"ç”ŸæˆPPTè§†é¢‘"},null,8,["disabled","loading"])):b("",!0),r(n,{modelValue:z.value,"onUpdate:modelValue":u[3]||(u[3]=e=>z.value=e),title:"é€‰æ‹©é…éŸ³",height:"100vh","confirm-text":"ç¡®è®¤é€‰æ‹©","selected-speaker-id":U.value?.id,onConfirm:be,onSelect:ye},null,8,["modelValue","selected-speaker-id"]),r(G,{modelValue:$.value,"onUpdate:modelValue":u[4]||(u[4]=e=>$.value=e),"selected-style":B.value||void 0,onConfirm:ge,onSelect:fe},null,8,["modelValue","selected-style"]),r(Te,{show:I.value,"onUpdate:show":u[6]||(u[6]=e=>I.value=e),position:"center",style:{width:"90%",maxHeight:"80vh"},round:""},{default:m(()=>[f("div",ne,[f("div",de,[f("h4",ue,y(L.value?.title||"PPTé¢„è§ˆ"),1),r(g,{type:"default",size:"mini",onClick:u[5]||(u[5]=e=>I.value=!1)},{default:m(()=>[...u[18]||(u[18]=[h(" å…³é—­ ",-1)])]),_:1})]),f("div",ce,[L.value?.thumbnail?(c(),p("img",{key:0,src:L.value.thumbnail,alt:L.value.title,class:"preview-image"},null,8,pe)):b("",!0)])])]),_:1},8,["show"])])}}}),me=a(re,[["__scopeId","data-v-8a1b50ac"]]);export{me as default};
