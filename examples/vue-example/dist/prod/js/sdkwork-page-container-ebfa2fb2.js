import{k as e,r as o,c as a,w as t,b as l,n as s,o as r,Q as n,R as d,W as i,U as c,$ as u,S as v,X as k,V as p}from"./vue-vendor-905d75e5.js";import{_ as h}from"./index-34815b62.js";const g={key:0,class:"sdkwork-page-container__navbar"},m={key:1,class:"sdkwork-page-container__header"},f={key:0,class:"sdkwork-page-container__title"},w={key:1,class:"sdkwork-page-container__description"},b={key:2,class:"sdkwork-page-container__footer"},_={key:3,class:"sdkwork-page-container__safe-area"},y=h(e({__name:"sdkwork-page-container",props:{title:{},description:{},fullscreen:{type:Boolean,default:!1},scrollable:{type:Boolean,default:!0},safeArea:{type:Boolean,default:!0},transparent:{type:Boolean,default:!1},backgroundColor:{},contentBackgroundColor:{},customStyle:{},themeMode:{default:"auto"},onLoad:{},onShow:{},onHide:{},onScroll:{}},emits:["load","show","hide","scroll"],setup(e,{expose:h,emit:y}){const M=e,S=y,L=o(null),T=o(null),$=o(!1),B=o(0),C=o(!1),H=()=>{"dark"===M.themeMode?C.value=!0:"light"===M.themeMode?C.value=!1:"auto"===M.themeMode&&(C.value=!("undefined"==typeof window||!window.matchMedia)&&window.matchMedia("(prefers-color-scheme: dark)").matches)},E=a(()=>C.value?"sdkwork-page-container--dark":"sdkwork-page-container--light"),x=a(()=>({...M.customStyle,backgroundColor:M.backgroundColor||void 0,"--sdkwork-page-container-custom-bg":M.backgroundColor||void 0,"--sdkwork-page-container-content-bg":M.contentBackgroundColor||void 0})),A=()=>{"visible"===document.visibilityState?($.value=!0,S("show"),M.onShow?.()):($.value=!1,S("hide"),M.onHide?.())},R=()=>{T.value&&M.scrollable&&(B.value=T.value.scrollTop,S("scroll",B.value),M.onScroll?.(B.value))},j=(e,o="smooth")=>{T.value&&T.value.scrollTo({top:e,behavior:o})};h({scrollTo:j,scrollToTop:(e="smooth")=>{j(0,e)},scrollToBottom:(e="smooth")=>{T.value&&j(T.value.scrollHeight,e)},getScrollTop:()=>B.value,getContentHeight:()=>T.value?.clientHeight||0,getScrollHeight:()=>T.value?.scrollHeight||0,isVisible:()=>$.value,getThemeMode:()=>M.themeMode,isDarkMode:()=>C.value}),t(()=>M.themeMode,H);let V=null;const D=()=>{"auto"===M.themeMode&&(C.value=V?.matches||!1)};return l(()=>{H(),s(()=>{S("load"),M.onLoad?.()}),"undefined"!=typeof document&&document.addEventListener("visibilitychange",A),T.value&&M.scrollable&&T.value.addEventListener("scroll",R),"auto"===M.themeMode&&"undefined"!=typeof window&&window.matchMedia&&(V=window.matchMedia("(prefers-color-scheme: dark)"),V.addEventListener("change",D))}),r(()=>{"undefined"!=typeof document&&document.removeEventListener("visibilitychange",A),T.value&&T.value.removeEventListener("scroll",R),V&&V.removeEventListener("change",D)}),(o,a)=>(n(),d("div",{ref_key:"rootRef",ref:L,class:k(["sdkwork-page-container",[{"sdkwork-page-container--fullscreen":e.fullscreen,"sdkwork-page-container--scrollable":e.scrollable,"sdkwork-page-container--safe-area":e.safeArea,"sdkwork-page-container--transparent":e.transparent},E.value]]),style:p(x.value)},[o.$slots.navbar?(n(),d("div",g,[i(o.$slots,"navbar",{},void 0,!0)])):c("",!0),o.$slots.header||e.title?(n(),d("div",m,[i(o.$slots,"header",{},()=>[e.title?(n(),d("h1",f,u(e.title),1)):c("",!0),e.description?(n(),d("p",w,u(e.description),1)):c("",!0)],!0)])):c("",!0),v("div",{ref_key:"contentRef",ref:T,class:k(["sdkwork-page-container__content",{"sdkwork-page-container__content--scrollable":e.scrollable}])},[i(o.$slots,"default",{},void 0,!0)],2),o.$slots.footer?(n(),d("div",b,[i(o.$slots,"footer",{},void 0,!0)])):c("",!0),e.safeArea?(n(),d("div",_)):c("",!0)],6))}}),[["__scopeId","data-v-e410b8b7"]]);export{y as S};
