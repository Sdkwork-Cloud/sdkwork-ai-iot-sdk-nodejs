import{k as e,a,P as t,j as o,S as s,a0 as l,Q as i,F as c,Y as r,$ as n,Z as u,W as d,a4 as p,f as v,R as m,o as g,a3 as h}from"./vue-vendor-BOogp7Xw.js";import{I as f,_ as b,Q as k,B as w,s as y}from"./index-3Iq02xX1.js";import{S as _,a as S}from"./index-B-_I9SJl.js";import{T as B}from"./index-i1mINqgr.js";/* empty css              */import{_ as P,a as T}from"./sdkwork-cell-group-Bddn3ZCY.js";/* empty css              */import{E as C}from"./index-DVvwYFvp.js";import{T as A,a as x}from"./index-WomEbmTT.js";import"./utils-vendor-WEzSe-CR.js";import"./sdkwork-icon-Dhm3xmJ9.js";import"./use-id-Dx2a3-Lt.js";import"./use-tab-status-C8BruCQu.js";import"./use-refs-DMPkVLhq.js";const M={class:"sdkwork-product-swiper"},F={class:"product-image-container"},j=["src","alt"],I={class:"custom-indicator"},G=b(e({__name:"sdkwork-product-swiper",props:{images:{default:()=>[]},productName:{default:""},autoplay:{default:3e8},showIndicators:{type:Boolean,default:!0},height:{default:"300"},themeMode:{default:"auto"},isFavorite:{type:Boolean,default:!1}},emits:["change","favorite-change","image-load","image-error"],setup(e,{expose:d,emit:p}){const v=e,m=p,g=a(0),h=a(),b=e=>{g.value=e,m("change",e)},k=e=>{m("image-load",e)},w=e=>{m("image-error",e)},y=()=>{const e=!v.isFavorite;m("favorite-change",e)};return d({prev:()=>h.value?.prev(),next:()=>h.value?.next(),swipeTo:(e,a)=>h.value?.swipeTo(e,a),getCurrentIndex:()=>g.value}),(a,d)=>{const p=S,v=_,m=f;return i(),t("div",M,[o(v,{ref_key:"swiperRef",ref:h,autoplay:e.autoplay,"show-indicators":e.showIndicators,height:e.height,"theme-mode":e.themeMode,onChange:b},{indicator:l(()=>[s("div",I,n(g.value+1)+" / "+n(e.images?.length||0),1)]),default:l(()=>[(i(!0),t(c,null,r(e.images,(a,t)=>(i(),u(p,{key:t},{default:l(()=>[s("div",F,[s("img",{src:a,alt:e.productName,class:"product-image",onLoad:k,onError:w},null,40,j)])]),_:2},1024))),128))]),_:1},8,["autoplay","show-indicators","height","theme-mode"]),s("div",{class:"favorite-btn",onClick:y},[o(m,{name:e.isFavorite?"star":"star-o",color:e.isFavorite?"#ff6b6b":"#ccc",size:"24"},null,8,["name","color"])])])}}}),[["__scopeId","data-v-fba427c7"]]),N={class:"sdkwork-product-info"},H={class:"product-header"},z={class:"product-title"},R={class:"product-subtitle"},D={class:"price-section"},q={class:"current-price"},L={key:0,class:"original-price"},Z={key:1,class:"discount"},X={class:"meta-info"},E={key:0,class:"tags-section"},O=b(e({__name:"sdkwork-product-info",props:{product:{}},setup(e,{expose:a}){const o=e,v=(e,a)=>Math.round(e/a*100)/10;return a({getProductInfo:()=>o.product,getDiscountInfo:()=>o.product.originalPrice?{discount:v(o.product.price,o.product.originalPrice),saveAmount:o.product.originalPrice-o.product.price}:null}),(a,o)=>{const m=B;return i(),t("div",N,[s("div",H,[s("div",z,n(e.product.name),1),s("div",R,n(e.product.description),1)]),s("div",D,[s("div",q,"¥"+n(e.product.price),1),e.product.originalPrice?(i(),t("div",L,"¥"+n(e.product.originalPrice),1)):d("",!0),e.product.originalPrice?(i(),t("div",Z,n(v(e.product.price,e.product.originalPrice))+"折 ",1)):d("",!0)]),s("div",X,[e.product.rating?(i(),u(m,{key:0,type:"primary",class:"rating-tag"},{default:l(()=>[p(" ★ "+n(e.product.rating),1)]),_:1})):d("",!0),e.product.sales?(i(),u(m,{key:1,type:"success",class:"sales-tag"},{default:l(()=>[p(" 销量 "+n(e.product.sales),1)]),_:1})):d("",!0),e.product.stock?(i(),u(m,{key:2,type:e.product.stock>10?"success":"danger",class:"stock-tag"},{default:l(()=>[p(" 库存 "+n(e.product.stock),1)]),_:1},8,["type"])):d("",!0)]),e.product.tags&&e.product.tags.length>0?(i(),t("div",E,[(i(!0),t(c,null,r(e.product.tags,e=>(i(),u(m,{key:e,plain:"",type:"primary",class:"product-tag"},{default:l(()=>[p(n(e),1)]),_:2},1024))),128))])):d("",!0)])}}}),[["__scopeId","data-v-daeb09b9"]]),U={class:"sdkwork-product-spec"},Q={class:"spec-popup"},Y={class:"popup-header"},$={class:"popup-content"},W={class:"spec-options"},J=["onClick"],K={class:"popup-footer"},V=b(e({__name:"sdkwork-product-spec",props:{availableSpecs:{default:()=>[{label:"黑色",value:"black"},{label:"白色",value:"white"},{label:"红色",value:"red"},{label:"64GB",value:"64gb"},{label:"128GB",value:"128gb"},{label:"256GB",value:"256gb"}]},defaultSpecs:{default:()=>[]}},emits:["specs-change","specs-confirm"],setup(e,{expose:u,emit:d}){const g=e,h=d,b=a(!1),_=a([]),S=v(()=>{if(0===_.value.length)return"请选择规格";return _.value.map(e=>{const a=g.availableSpecs.find(a=>a.value===e);return a?.label||e}).join(", ")}),B=()=>{0!==_.value.length?(b.value=!1,h("specs-confirm",_.value),y("规格选择成功")):y("请选择至少一个规格")};return g.defaultSpecs.length>0?_.value=[...g.defaultSpecs]:g.availableSpecs.length>0&&(_.value=[g.availableSpecs[0].value]),u({getSelectedSpecs:()=>_.value,setSelectedSpecs:e=>{_.value=e,h("specs-change",e)},openSpecPopup:()=>{b.value=!0},closeSpecPopup:()=>{b.value=!1},clearSelectedSpecs:()=>{_.value=[],h("specs-change",[])}}),(a,u)=>{const d=f,v=w,g=k;return i(),t("div",U,[o(P,{title:"规格选择"},{default:l(()=>[o(T,{title:"已选",value:S.value,"is-link":"",onClick:u[0]||(u[0]=e=>b.value=!0)},null,8,["value"])]),_:1}),o(g,{show:b.value,"onUpdate:show":u[2]||(u[2]=e=>b.value=e),position:"bottom",round:"",style:{height:"60%"}},{default:l(()=>[s("div",Q,[s("div",Y,[u[3]||(u[3]=s("div",{class:"popup-title"},"选择规格",-1)),o(d,{name:"cross",onClick:u[1]||(u[1]=e=>b.value=!1)})]),s("div",$,[s("div",W,[(i(!0),t(c,null,r(e.availableSpecs,e=>(i(),t("div",{key:e.value,class:m(["spec-option",{active:_.value.includes(e.value)}]),onClick:a=>(e=>{const a=_.value.indexOf(e);a>-1?_.value.splice(a,1):_.value.push(e),h("specs-change",_.value)})(e.value)},n(e.label),11,J))),128))])]),s("div",K,[o(v,{type:"primary",block:"",onClick:B},{default:l(()=>[...u[4]||(u[4]=[p(" 确定 ",-1)])]),_:1})])])]),_:1},8,["show"])])}}}),[["__scopeId","data-v-1d53432f"]]),ee={class:"sdkwork-product-tabs"},ae={class:"detail-content"},te=["innerHTML"],oe={key:1,class:"no-detail"},se={class:"spec-content"},le={key:0,class:"no-spec"},ie={class:"review-content"},ce={key:0,class:"reviews-list"},re={class:"review-header"},ne={class:"review-user"},ue={class:"review-rating"},de={class:"review-content"},pe={class:"review-time"},ve={key:1,class:"no-reviews"},me={class:"service-content"},ge=b(e({__name:"sdkwork-product-tabs",props:{product:{},themeMode:{default:"auto"},defaultActiveTab:{default:0}},emits:["tab-change"],setup(e,{expose:p,emit:v}){const m=v,g=a(e.defaultActiveTab),h=["商品详情","规格参数","用户评价","售后服务"];return p({switchTab:e=>{var a;e>=0&&e<=3&&(g.value=e,m("tab-change",a=e,h[a]))},getActiveTab:()=>({index:g.value,name:h[g.value]}),getTabCount:()=>h.length}),(a,p)=>{const v=C,m=x,h=A;return i(),t("div",ee,[o(h,{active:g.value,"onUpdate:active":p[0]||(p[0]=e=>g.value=e),sticky:"",animated:"",color:(e.themeMode,"#1989fa")},{default:l(()=>[o(m,{title:"商品详情"},{default:l(()=>[s("div",ae,[e.product.detailHtml?(i(),t("div",{key:0,innerHTML:e.product.detailHtml},null,8,te)):(i(),t("div",oe,[o(v,{description:"暂无商品详情"})]))])]),_:1}),o(m,{title:"规格参数"},{default:l(()=>[s("div",se,[o(P,null,{default:l(()=>[(i(!0),t(c,null,r(e.product.specifications,e=>(i(),u(T,{key:e.name,title:e.name,value:e.value},null,8,["title","value"]))),128))]),_:1}),e.product.specifications&&0!==e.product.specifications.length?d("",!0):(i(),t("div",le,[o(v,{description:"暂无规格参数"})]))])]),_:1}),o(m,{title:"用户评价"},{default:l(()=>[s("div",ie,[e.product.reviews&&e.product.reviews.length>0?(i(),t("div",ce,[(i(!0),t(c,null,r(e.product.reviews,e=>{return i(),t("div",{key:e.id,class:"review-item"},[s("div",re,[s("div",ne,n(e.userName),1),s("div",ue,"★ "+n(e.rating),1)]),s("div",de,n(e.content),1),s("div",pe,n((a=e.createTime,new Date(a).toLocaleDateString())),1)]);var a}),128))])):(i(),t("div",ve,[o(v,{description:"暂无用户评价"})]))])]),_:1}),o(m,{title:"售后服务"},{default:l(()=>[s("div",me,[o(P,null,{default:l(()=>[o(T,{title:"七天无理由退货",value:"支持"}),o(T,{title:"质量问题包退换",value:"支持"}),o(T,{title:"全国联保",value:"支持"}),o(T,{title:"上门安装",value:"部分地区支持"})]),_:1})])]),_:1})]),_:1},8,["active","color"])])}}}),[["__scopeId","data-v-b673c4c3"]]),he={class:"sdkwork-product-actions"},fe={class:"action-left"},be={class:"action-right"},ke=b(e({__name:"sdkwork-product-actions",props:{isFavorite:{type:Boolean,default:!1},showCartButton:{type:Boolean,default:!0},showBuyButton:{type:Boolean,default:!0},showServiceButton:{type:Boolean,default:!0},showFavoriteButton:{type:Boolean,default:!0},showShareButton:{type:Boolean,default:!0}},emits:["add-to-cart","buy-now","favorite-change","share","customer-service"],setup(e,{expose:c,emit:r}){const n=r,u=a(e.isFavorite),d=()=>{u.value=!u.value,n("favorite-change",u.value)},v=()=>{n("add-to-cart")},m=()=>{n("buy-now")},g=()=>{n("share")},h=()=>{n("customer-service")};return c({setFavorite:e=>{u.value=e},getFavorite:()=>u.value,triggerAddToCart:()=>v(),triggerBuyNow:()=>m()}),(e,a)=>{const c=f,r=w;return i(),t("div",he,[s("div",fe,[o(r,{square:"",size:"small",type:"default",class:"action-btn",onClick:h},{default:l(()=>[o(c,{name:"service-o",size:"20"}),a[0]||(a[0]=s("span",null,"客服",-1))]),_:1}),o(r,{square:"",size:"small",type:"default",class:"action-btn",onClick:d},{default:l(()=>[o(c,{name:u.value?"star":"star-o",size:"20"},null,8,["name"]),a[1]||(a[1]=s("span",null,"收藏",-1))]),_:1}),o(r,{square:"",size:"small",type:"default",class:"action-btn",onClick:g},{default:l(()=>[o(c,{name:"share-o",size:"20"}),a[2]||(a[2]=s("span",null,"分享",-1))]),_:1})]),s("div",be,[o(r,{type:"warning",size:"small",class:"cart-btn",onClick:v},{default:l(()=>[...a[3]||(a[3]=[p(" 加入购物车 ",-1)])]),_:1}),o(r,{type:"danger",size:"small",class:"buy-btn",onClick:m},{default:l(()=>[...a[4]||(a[4]=[p(" 立即购买 ",-1)])]),_:1})])])}}}),[["__scopeId","data-v-4a88d1b2"]]),we=b(e({__name:"sdkwork-product-detail",props:{product:{},themeMode:{default:"auto"},swiperHeight:{default:"300"},defaultActiveTab:{default:0},defaultSpecs:{default:()=>[]}},emits:["add-to-cart","buy-now","favorite-change","share","customer-service","tab-change","specs-change","specs-confirm"],setup(e,{expose:s,emit:l}){const c=e,r=l,n=a(!1),u=a(),d=a(),p=a(),g=a(),h=v(()=>"dark"===c.themeMode||"light"!==c.themeMode&&(!("undefined"==typeof window||!window.matchMedia)&&window.matchMedia("(prefers-color-scheme: dark)").matches)),f=v(()=>h.value?"sdkwork-product-detail--dark":"sdkwork-product-detail--light"),b=a([{label:"黑色",value:"black"},{label:"白色",value:"white"},{label:"红色",value:"red"},{label:"64GB",value:"64gb"},{label:"128GB",value:"128gb"},{label:"256GB",value:"256gb"}]),k=e=>{console.log("轮播图切换到第",e+1,"张")},w=e=>{console.log("图片加载成功")},_=e=>{console.error("图片加载失败")},S=e=>{n.value=e,r("favorite-change",c.product,n.value),y(n.value?"已收藏":"已取消收藏")},B=e=>{r("specs-change",e)},P=e=>{r("specs-confirm",e)},T=(e,a)=>{r("tab-change",e,a)},C=()=>{const e=d.value?.getSelectedSpecs()||[];0!==e.length?(r("add-to-cart",c.product,1,e),y("已加入购物车")):y("请先选择规格")},A=()=>{const e=d.value?.getSelectedSpecs()||[];0!==e.length?r("buy-now",c.product,1,e):y("请先选择规格")},x=()=>{r("share",c.product),y("分享功能已触发")},M=()=>{r("customer-service",c.product),y("正在联系客服...")};return s({refresh:()=>{console.log("刷新商品详情")},getSelectedSpecs:()=>d.value?.getSelectedSpecs()||[],setSelectedSpecs:e=>{d.value?.setSelectedSpecs(e)},switchTab:e=>{p.value?.switchTab(e)},setFavorite:e=>{n.value=e,g.value?.setFavorite(e)},getFavorite:()=>n.value,triggerAddToCart:()=>{g.value?.triggerAddToCart()},triggerBuyNow:()=>{g.value?.triggerBuyNow()},openSpecPopup:()=>{d.value?.openSpecPopup()},getActiveTab:()=>p.value?.getActiveTab()}),(a,s)=>(i(),t("div",{class:m(["sdkwork-product-detail",f.value])},[o(G,{ref_key:"swiperRef",ref:u,images:e.product.images,"product-name":e.product.name,height:e.swiperHeight,"theme-mode":e.themeMode,"is-favorite":n.value,onChange:k,onFavoriteChange:S,onImageLoad:w,onImageError:_},null,8,["images","product-name","height","theme-mode","is-favorite"]),o(O,{product:e.product},null,8,["product"]),o(V,{ref_key:"specRef",ref:d,"available-specs":b.value,"default-specs":e.defaultSpecs,onSpecsChange:B,onSpecsConfirm:P},null,8,["available-specs","default-specs"]),o(ge,{ref_key:"tabsRef",ref:p,product:e.product,"theme-mode":e.themeMode,"default-active-tab":e.defaultActiveTab,onTabChange:T},null,8,["product","theme-mode","default-active-tab"]),o(ke,{ref_key:"actionsRef",ref:g,"is-favorite":n.value,onAddToCart:C,onBuyNow:A,onFavoriteChange:S,onShare:x,onCustomerService:M},null,8,["is-favorite"])],2))}}),[["__scopeId","data-v-84cd1d47"]]),ye={class:"product-detail-page"},_e=b(e({__name:"[id]",setup(e){const s=h(),l=v(()=>{const e=s.params.id;return Array.isArray(e)?e[0]:e||"1"}),c=a("auto"),r=v(()=>{const e={1:{id:1,name:"iPhone 15 Pro",description:"最新款iPhone，搭载A17 Pro芯片，钛金属机身",price:7999,originalPrice:8999,images:["https://images.unsplash.com/photo-1592750475338-74b7b21085ab?w=600&h=600&fit=crop","https://images.unsplash.com/photo-1510557880182-3d4d3cba35a5?w=600&h=600&fit=crop","https://images.unsplash.com/photo-1526170375885-4d8ecf77b99f?w=600&h=600&fit=crop","https://images.unsplash.com/photo-1556656793-08538906a9f8?w=600&h=600&fit=crop"],rating:4.8,sales:12500,stock:150,tags:["新品","热销","官方旗舰"],detailHtml:'\n        <div style="padding: 16px;">\n          <h3>商品详情</h3>\n          <p>iPhone 15 Pro 采用航空级钛金属设计，iPhone 上迄今最轻的 Pro 机型。新的操作按钮让你能快速操作相机、手电筒、语音备忘录、专注模式、翻译 app 以及辅助功能等。</p>\n          \n          <h4>主要特性：</h4>\n          <ul>\n            <li>A17 Pro 芯片，性能大幅提升</li>\n            <li>钛金属机身，更轻更坚固</li>\n            <li>4800 万像素主摄像头</li>\n            <li>USB-C 接口，充电更快</li>\n            <li>全天候显示屏</li>\n          </ul>\n          \n          <img src="https://via.placeholder.com/600x400?text=iPhone+15+Pro+Detail" style="width: 100%; margin: 16px 0;" />\n          \n          <h4>技术规格：</h4>\n          <p>屏幕：6.1 英寸超视网膜 XDR 显示屏</p>\n          <p>芯片：A17 Pro 芯片</p>\n          <p>摄像头：4800 万像素主摄 + 1200 万像素超广角 + 1200 万像素长焦</p>\n          <p>电池：视频播放最长可达 23 小时</p>\n        </div>\n      ',specifications:[{name:"品牌",value:"Apple"},{name:"型号",value:"iPhone 15 Pro"},{name:"屏幕尺寸",value:"6.1英寸"},{name:"分辨率",value:"2556x1179像素"},{name:"处理器",value:"A17 Pro芯片"},{name:"内存",value:"8GB"},{name:"存储",value:"128GB/256GB/512GB/1TB"},{name:"摄像头",value:"4800万像素三摄"},{name:"电池容量",value:"3274mAh"},{name:"操作系统",value:"iOS 17"}],reviews:[{id:1,userName:"数码爱好者",rating:5,content:"手机非常流畅，拍照效果很棒，电池续航也很满意！",createTime:"2024-01-15T10:30:00Z"},{id:2,userName:"科技达人",rating:4,content:"钛金属手感很好，就是价格有点高，但性能确实强大。",createTime:"2024-01-14T16:45:00Z"},{id:3,userName:"果粉",rating:5,content:"一如既往的优秀，iOS系统用起来很舒服，推荐购买！",createTime:"2024-01-13T09:20:00Z"}]},2:{id:2,name:"MacBook Pro 14英寸",description:"搭载M3芯片的MacBook Pro，性能强劲，专业之选",price:12999,originalPrice:14999,images:["https://images.unsplash.com/photo-1541807084-5c52b6b3adef?w=600&h=600&fit=crop","https://images.unsplash.com/photo-1496181133206-80ce9b88a853?w=600&h=600&fit=crop","https://images.unsplash.com/photo-1517336714731-489689fd1ca8?w=600&h=600&fit=crop"],rating:4.9,sales:8500,stock:80,tags:["专业","高性能","创意工作"],detailHtml:'\n        <div style="padding: 16px;">\n          <h3>MacBook Pro 14英寸</h3>\n          <p>为专业工作流程打造的强大笔记本电脑，配备M3芯片， Liquid 视网膜 XDR 显示屏。</p>\n          \n          <h4>主要特性：</h4>\n          <ul>\n            <li>M3芯片，性能提升最高达2.5倍</li>\n            <li>Liquid 视网膜 XDR 显示屏</li>\n            <li>最长22小时电池续航</li>\n            <li>1080p FaceTime 高清摄像头</li>\n            <li>六扬声器音响系统</li>\n          </ul>\n        </div>\n      ',specifications:[{name:"品牌",value:"Apple"},{name:"型号",value:"MacBook Pro 14英寸"},{name:"屏幕尺寸",value:"14.2英寸"},{name:"芯片",value:"Apple M3芯片"},{name:"内存",value:"8GB/16GB/24GB"},{name:"存储",value:"512GB/1TB/2TB"},{name:"重量",value:"1.55千克"}],reviews:[{id:1,userName:"设计师",rating:5,content:"做设计工作非常流畅，屏幕色彩准确，强烈推荐！",createTime:"2024-01-12T14:20:00Z"}]},3:{id:3,name:"AirPods Pro (第2代)",description:"主动降噪，空间音频，MagSafe充电盒",price:1899,originalPrice:1999,images:["https://images.unsplash.com/photo-1606220588913-b3aacb4d2f46?w=600&h=600&fit=crop","https://images.unsplash.com/photo-1572569511254-d8f925fe2cbb?w=600&h=600&fit=crop"],rating:4.7,sales:35600,stock:250,tags:["无线","降噪","苹果生态"],detailHtml:'\n        <div style="padding: 16px;">\n          <h3>AirPods Pro (第2代)</h3>\n          <p>升级的H2芯片带来更出色的音频体验，主动降噪效果提升2倍。</p>\n        </div>\n      ',specifications:[{name:"品牌",value:"Apple"},{name:"型号",value:"AirPods Pro (第2代)"},{name:"类型",value:"真无线耳机"},{name:"降噪",value:"主动降噪"},{name:"续航",value:"最长30小时"},{name:"充电",value:"MagSafe充电"}],reviews:[{id:1,userName:"音乐爱好者",rating:5,content:"降噪效果非常好，音质也很棒，佩戴舒适！",createTime:"2024-01-10T11:15:00Z"}]}};return e[l.value]||e[1]}),n=(e,a,t)=>{console.log("加入购物车:",{product:e,quantity:a,specs:t}),y(`已添加 ${a} 件商品到购物车`)},u=(e,a,t)=>{console.log("立即购买:",{product:e,quantity:a,specs:t}),y("跳转到订单确认页面")},d=(e,a)=>{console.log("收藏状态变更:",{product:e,isFavorite:a})},p=e=>{console.log("分享商品:",e),y("分享功能已触发")},m=e=>{console.log("联系客服:",e),y("正在联系客服...")},f=(e,a)=>{console.log("Tab切换:",e,a)},b=e=>{console.log("规格变更:",e)},k=e=>{console.log("规格确认:",e)};return g(()=>{console.log("商品详情页面加载完成，商品ID:",l.value)}),(e,a)=>(i(),t("div",ye,[o(we,{product:r.value,"theme-mode":c.value,onAddToCart:n,onBuyNow:u,onFavoriteChange:d,onShare:p,onCustomerService:m,onTabChange:f,onSpecsChange:b,onSpecsConfirm:k},null,8,["product","theme-mode"])]))}}),[["__scopeId","data-v-fef87c6a"]]);export{_e as default};
