import{S as e}from"./sdkwork-page-container-ebfa2fb2.js";import{c as a,x as l,q as t,t as o,y as s,z as i,C as n,w as u,r as d,n as r,b as c,p as m,D as p,H as v,E as h,F as g,G as f,J as b,K as y,N as k,B as w,_ as C,I as x,P as V}from"./index-34815b62.js";/* empty css              */import{k as _,r as I,j,q as S,c as A,w as z,t as F,v as U,n as L,Q as B,Z as P,a0 as T,S as M,R,Y as $,X as D,$ as N,F as E,U as G,a4 as q,V as H,a1 as O,O as J}from"./vue-vendor-905d75e5.js";import{C as K}from"./index-cd6dd4fb.js";/* empty css              *//* empty css              */import{_ as W}from"./sdkwork-popup-2839b588.js";import{E as Q}from"./index-3ae7521b.js";import{f as X,F as Y}from"./index-d9bf0347.js";import{u as Z}from"./use-id-350fcd7b.js";import{S as ee}from"./sdkwork-voice-speaker-category-list-popup-26672839.js";import{C as ae}from"./index-a966f53b.js";import"./utils-vendor-b5712723.js";import"./sdkwork-pull-refresh-bd126f9c.js";import"./index-8ec85bf4.js";import"./shared-f3996f0d.js";import"./sdkwork-search-bar-d9125bb7.js";import"./sdkwork-icon-79456167.js";import"./ListItem-b2f4f4bf.js";import"./LoadingSection-50beb699.js";import"./LoadMoreSection-8eb45153.js";import"./sdkwork-voice-clone-f3949dc2.js";import"./index-89cf3eae.js";/* empty css              */import"./index-0b87abd1.js";import"./index-8c878aea.js";const[le,te,oe]=a("search");const se=u(_({name:le,props:l({},X,{label:String,shape:t("square"),leftIcon:t("search"),clearable:o,actionText:String,background:String,showAction:Boolean}),emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(e,{emit:a,slots:t,attrs:o}){const u=Z(),d=I(),r=()=>{t.action||(a("update:modelValue",""),a("cancel"))},c=l=>{13===l.keyCode&&(n(l),a("search",e.modelValue))},m=()=>e.id||`${u}-input`,p=()=>{if(t.label||e.label)return j("label",{class:te("label"),for:m(),"data-allow-mismatch":"attribute"},[t.label?t.label():e.label])},v=()=>{if(e.showAction){const a=e.actionText||oe("cancel");return j("div",{class:te("action"),role:"button",tabindex:0,onClick:r},[t.action?t.action():a])}},h=e=>a("blur",e),g=e=>a("focus",e),f=e=>a("clear",e),b=e=>a("clickInput",e),y=e=>a("clickLeftIcon",e),k=e=>a("clickRightIcon",e),w=Object.keys(X),C=()=>{const s=l({},o,i(e,w),{id:m()});return j(Y,S({ref:d,type:"search",class:te("field",{"with-message":s.errorMessage}),border:!1,onBlur:h,onFocus:g,onClear:f,onKeypress:c,onClickInput:b,onClickLeftIcon:y,onClickRightIcon:k,"onUpdate:modelValue":e=>a("update:modelValue",e)},s),i(t,["left-icon","right-icon"]))};return s({focus:()=>{var e;return null==(e=d.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=d.value)?void 0:e.blur()}}),()=>{var a;return j("div",{class:te({"show-action":e.showAction}),style:{background:e.background}},[null==(a=t.left)?void 0:a.call(t),j("div",{class:te("content",e.shape)},[p(),C()]),v()])}}})),[ie,ne]=a("stepper"),ue=(e,a)=>String(e)===String(a);const de=u(_({name:ie,props:{min:d(1),max:d(1/0),name:d(""),step:d(1),theme:String,integer:Boolean,disabled:Boolean,showPlus:o,showMinus:o,showInput:o,longPress:o,autoFixed:o,allowEmpty:Boolean,modelValue:r,inputWidth:r,buttonSize:r,placeholder:String,disablePlus:Boolean,disableMinus:Boolean,disableInput:Boolean,beforeChange:Function,defaultValue:d(1),decimalLength:r},emits:["plus","blur","minus","focus","change","overlimit","update:modelValue"],setup(e,{emit:a}){const l=(a,l=!0)=>{const{min:t,max:o,allowEmpty:s,decimalLength:i}=e;return s&&""===a||(a=""===(a=h(String(a),!e.integer))?0:+a,a=Number.isNaN(a)?+t:a,a=l?Math.max(Math.min(+o,a),+t):a,g(i)&&(a=a.toFixed(+i))),a};let t;const o=I(),s=I((()=>{var t;const o=null!=(t=e.modelValue)?t:e.defaultValue,s=l(o);return ue(s,e.modelValue)||a("update:modelValue",s),s})()),i=A(()=>e.disabled||e.disableMinus||+s.value<=+e.min),u=A(()=>e.disabled||e.disablePlus||+s.value>=+e.max),d=A(()=>({width:c(e.inputWidth),height:c(e.buttonSize)})),r=A(()=>m(e.buttonSize)),w=a=>{e.beforeChange?b(e.beforeChange,{args:[a],done(){s.value=a}}):s.value=a},C=()=>{if("plus"===t&&u.value||"minus"===t&&i.value)return void a("overlimit",t);const o="minus"===t?-e.step:+e.step,n=l(y(+s.value,o));w(n),a(t)},x=a=>{const l=a.target,{value:t}=l,{decimalLength:o}=e;let i=h(String(t),!e.integer);if(g(o)&&i.includes(".")){const e=i.split(".");i=`${e[0]}.${e[1].slice(0,+o)}`}e.beforeChange?l.value=String(s.value):ue(t,i)||(l.value=i);const n=i===String(+i);w(n?+i:i)},V=l=>{var t;e.disableInput?null==(t=o.value)||t.blur():a("focus",l)},_=t=>{const o=t.target,i=l(o.value,e.autoFixed);o.value=String(i),s.value=i,L(()=>{a("blur",t),f()})};let B,P;const T=()=>{P=setTimeout(()=>{C(),T()},200)},M=a=>{e.longPress&&(clearTimeout(P),B&&n(a))},R=a=>{e.disableInput&&n(a)},$=a=>({onClick:e=>{n(e),t=a,C()},onTouchstartPassive:()=>{t=a,e.longPress&&(B=!1,clearTimeout(P),P=setTimeout(()=>{B=!0,C(),T()},k))},onTouchend:M,onTouchcancel:M});return z(()=>[e.max,e.min,e.integer,e.decimalLength],()=>{const e=l(s.value);ue(e,s.value)||(s.value=e)}),z(()=>e.modelValue,e=>{ue(e,s.value)||(s.value=l(e))}),z(s,l=>{a("update:modelValue",l),a("change",l,{name:e.name})}),p(()=>e.modelValue),()=>j("div",{role:"group",class:ne([e.theme])},[F(j("button",S({type:"button",style:r.value,class:[ne("minus",{disabled:i.value}),{[v]:!i.value}],"aria-disabled":i.value||void 0},$("minus")),null),[[U,e.showMinus]]),F(j("input",{ref:o,type:e.integer?"tel":"text",role:"spinbutton",class:ne("input"),value:s.value,style:d.value,disabled:e.disabled,readonly:e.disableInput,inputmode:e.integer?"numeric":"decimal",placeholder:e.placeholder,autocomplete:"off","aria-valuemax":e.max,"aria-valuemin":e.min,"aria-valuenow":s.value,onBlur:_,onInput:x,onFocus:V,onMousedown:R},null),[[U,e.showInput]]),F(j("button",S({type:"button",style:r.value,class:[ne("plus",{disabled:u.value}),{[v]:!u.value}],"aria-disabled":u.value||void 0},$("plus")),null),[[U,e.showPlus]])])}})),re={class:"cameos-list-popup"},ce={class:"search-section"},me={class:"popup-content"},pe={class:"cameos-grid"},ve=["onClick"],he={class:"cameo-avatar"},ge=["src","alt"],fe={class:"cameo-info"},be={class:"cameo-name"},ye={class:"cameo-tags"},ke={key:0,class:"selected-icon"},we={key:0,class:"empty-state"},Ce={class:"popup-footer"},xe=C(_({__name:"sdkwork-cameos-list-popup",props:{modelValue:{type:Boolean,default:!1},title:{default:"é€‰æ‹©è§’è‰²"},height:{default:"70vh"},confirmText:{default:"ç¡®è®¤é€‰æ‹©"},api:{},params:{default:()=>({})},selectedCameoId:{},themeMode:{default:"auto"}},emits:["update:modelValue","confirm","close","select","search"],setup(e,{emit:a}){const l=e,t=a,o=I(l.modelValue),s=I(null),i=I(""),n=I([{id:"char1",name:"å•†åŠ¡ç²¾è‹±",avatar:"https://example.com/avatar1.jpg",tags:["å•†åŠ¡","ä¸“ä¸š"],description:"ä¸“ä¸šçš„å•†åŠ¡å½¢è±¡",type:"character",cameoCount:0,remixCount:0,viewCount:0,likeCount:0,rating:0,createdAt:"",updatedAt:""},{id:"char2",name:"ç”œç¾ä¸»æ’­",avatar:"https://example.com/avatar2.jpg",tags:["ä¸»æ’­","ç”œç¾"],description:"æ¸©æŸ”ç”œç¾çš„å½¢è±¡",type:"character",cameoCount:0,remixCount:0,viewCount:0,likeCount:0,rating:0,createdAt:"",updatedAt:""},{id:"char3",name:"çŸ¥è¯†è®²å¸ˆ",avatar:"https://example.com/avatar3.jpg",tags:["æ•™è‚²","è®²å¸ˆ"],description:"çŸ¥è¯†æ¸Šåšçš„è®²å¸ˆå½¢è±¡",type:"character",cameoCount:0,remixCount:0,viewCount:0,likeCount:0,rating:0,createdAt:"",updatedAt:""},{id:"char4",name:"å¯çˆ±å„¿ç«¥",avatar:"https://example.com/avatar4.jpg",tags:["å„¿ç«¥","å¯çˆ±"],description:"æ´»æ³¼å¯çˆ±çš„å„¿ç«¥å½¢è±¡",type:"character",cameoCount:0,remixCount:0,viewCount:0,likeCount:0,rating:0,createdAt:"",updatedAt:""},{id:"char5",name:"æ´»åŠ›é’å¹´",avatar:"https://example.com/avatar5.jpg",tags:["é’å¹´","æ´»åŠ›"],description:"å……æ»¡æ´»åŠ›çš„é’å¹´å½¢è±¡",type:"character",cameoCount:0,remixCount:0,viewCount:0,likeCount:0,rating:0,createdAt:"",updatedAt:""},{id:"char6",name:"æƒå¨ä¸“å®¶",avatar:"https://example.com/avatar6.jpg",tags:["ä¸“å®¶","æƒå¨"],description:"ä¸“ä¸šæƒå¨çš„ä¸“å®¶å½¢è±¡",type:"character",cameoCount:0,remixCount:0,viewCount:0,likeCount:0,rating:0,createdAt:"",updatedAt:""}]),u=A(()=>i.value?n.value.filter(e=>e.name.toLowerCase().includes(i.value.toLowerCase())||e.tags.some(e=>e.toLowerCase().includes(i.value.toLowerCase()))):n.value);z(()=>l.modelValue,e=>{o.value=e}),z(o,e=>{t("update:modelValue",e),e||t("close")}),z(()=>l.selectedCameoId,e=>{if(e){const a=n.value.find(a=>a.id===e);a&&(s.value=a)}});const d=()=>{s.value&&(t("confirm",s.value),o.value=!1)},r=()=>{t("search",i.value)};return(a,l)=>{const n=se,c=Q,m=w,p=W;return B(),P(p,{show:o.value,"onUpdate:show":l[1]||(l[1]=e=>o.value=e),position:"bottom",style:H({height:e.height}),round:"",closeable:"","close-on-click-overlay":!1,"theme-mode":e.themeMode,title:e.title},{default:T(()=>[M("div",re,[M("div",ce,[j(n,{modelValue:i.value,"onUpdate:modelValue":l[0]||(l[0]=e=>i.value=e),placeholder:"æœç´¢è§’è‰²",onSearch:r,shape:"round",background:"transparent"},null,8,["modelValue"])]),M("div",me,[M("div",pe,[(B(!0),R(E,null,$(u.value,e=>(B(),R("div",{key:e.id,class:D(["cameo-card",{selected:s.value?.id===e.id}]),onClick:a=>(e=>{s.value=e,t("select",e)})(e)},[M("div",he,[M("img",{src:e.avatar,alt:e.name},null,8,ge)]),M("div",fe,[M("div",be,N(e.name),1),M("div",ye,[(B(!0),R(E,null,$(e.tags,e=>(B(),R("span",{key:e,class:"tag"},N(e),1))),128))])]),s.value?.id===e.id?(B(),R("div",ke,"âœ“")):G("",!0)],10,ve))),128))]),0===u.value.length?(B(),R("div",we,[j(c,{description:"æš‚æ— åŒ¹é…è§’è‰²",image:"search"},{description:T(()=>[...l[2]||(l[2]=[M("p",null,"æ²¡æœ‰æ‰¾åˆ°åŒ¹é…çš„è§’è‰²",-1),M("p",{class:"empty-tip"},"è¯·å°è¯•å…¶ä»–æœç´¢å…³é”®è¯",-1)])]),_:1})])):G("",!0)]),M("div",Ce,[j(m,{type:"primary",size:"large",block:"",onClick:d,disabled:!s.value,class:"confirm-btn"},{default:T(()=>[q(N(e.confirmText),1)]),_:1},8,["disabled"])])])]),_:1},8,["show","style","theme-mode","title"])}}}),[["__scopeId","data-v-27629d9d"]]),Ve={class:"generate-button"},_e={key:0,class:"points-cost"},Ie={key:0,class:"generate-hint"},je=C(_({__name:"GenerateButton",props:{disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},pointsCost:{default:100}},emits:["click"],setup(e,{emit:a}){const l=e,t=a,o=A(()=>l.disabled?"default":"primary"),s=A(()=>l.disabled?"è¯·å¡«å†™å®Œæ•´ä¿¡æ¯":"ç”Ÿæˆå£æ’­è§†é¢‘"),i=A(()=>"æ­£åœ¨ç”Ÿæˆè§†é¢‘..."),n=A(()=>l.disabled&&!l.loading),u=A(()=>l.disabled?"è¯·å¡«å†™æç¤ºè¯å’Œå¿…è¦ä¿¡æ¯":""),d=()=>{l.disabled||l.loading||t("click")};return(a,l)=>{const t=x,r=w;return B(),R("div",Ve,[j(r,{type:o.value,loading:e.loading,disabled:e.disabled,"loading-text":i.value,block:"",round:"",size:"large",onClick:d,class:"generate-btn"},{default:T(()=>[e.loading?G("",!0):(B(),R(E,{key:0},[j(t,{name:"play",class:"btn-icon"}),q(" "+N(s.value)+" ",1),!e.disabled&&e.pointsCost>0?(B(),R("span",_e," æ¶ˆè€— "+N(e.pointsCost)+" ç§¯åˆ† ",1)):G("",!0)],64))]),_:1},8,["type","loading","disabled","loading-text"]),n.value?(B(),R("div",Ie,[j(t,{name:"info",class:"hint-icon"}),M("span",null,N(u.value),1)])):G("",!0)])}}}),[["__scopeId","data-v-4e3da444"]]),Se={class:"video-scene-item"},Ae={class:"scene-header"},ze={class:"scene-title"},Fe={class:"scene-content"},Ue={class:"duration-setting"},Le={class:"frame-settings"},Be={class:"frame-section"},Pe={class:"frame-section"},Te=C(_({__name:"VideoSceneItem",props:{shot:{},index:{},showDelete:{type:Boolean,default:!0},shotsLength:{}},emits:["update:shot","delete","upload-frame"],setup(e,{emit:a}){const l=e,t=a,o=()=>{t("upload-frame","start",l.shot.id)},s=()=>{t("upload-frame","end",l.shot.id)};return(a,l)=>{const t=w,i=Y,n=de;return B(),R("div",Se,[M("div",Ae,[M("div",ze,"é•œå¤´ "+N(e.index+1),1),e.showDelete&&e.shotsLength>1?(B(),P(t,{key:0,type:"danger",size:"mini",onClick:l[0]||(l[0]=l=>a.$emit("delete",e.shot.id))},{default:T(()=>[...l[6]||(l[6]=[q(" åˆ é™¤ ",-1)])]),_:1})):G("",!0)]),M("div",Fe,[j(i,{"model-value":e.shot.content,"onUpdate:modelValue":l[1]||(l[1]=l=>a.$emit("update:shot",{...e.shot,content:l})),type:"textarea",rows:2,autosize:"",maxlength:"100",placeholder:"é•œå¤´å†…å®¹æè¿°ï¼ˆç”»é¢å†…å®¹ï¼‰",class:"scene-field"},null,8,["model-value"]),j(i,{"model-value":e.shot.dialogue,"onUpdate:modelValue":l[2]||(l[2]=l=>a.$emit("update:shot",{...e.shot,dialogue:l})),type:"textarea",rows:2,autosize:"",maxlength:"200","show-word-limit":"",placeholder:"è¯¥é•œå¤´çš„æ’­æŠ¥å†…å®¹ï¼ˆå°è¯ï¼‰",class:"scene-field"},null,8,["model-value"]),M("div",Ue,[l[7]||(l[7]=M("span",{class:"duration-label"},"æ—¶é•¿ï¼ˆç§’ï¼‰:",-1)),j(n,{"model-value":e.shot.duration,"onUpdate:modelValue":l[3]||(l[3]=l=>a.$emit("update:shot",{...e.shot,duration:l})),min:1,max:10,integer:"",class:"duration-stepper"},null,8,["model-value"])]),M("div",Le,[M("div",Be,[l[9]||(l[9]=M("div",{class:"frame-label"},"é¦–å¸§è®¾ç½®:",-1)),j(i,{"model-value":e.shot.startFrame||"","onUpdate:modelValue":l[4]||(l[4]=l=>a.$emit("update:shot",{...e.shot,startFrame:l})),type:"textarea",rows:1,autosize:"",maxlength:"200",placeholder:"é¦–å¸§å›¾ç‰‡URLæˆ–æè¿°ï¼ˆç”¨äºç”Ÿæˆè§†é¢‘ï¼‰",class:"frame-field"},null,8,["model-value"]),j(t,{type:"primary",size:"mini",onClick:o,class:"upload-btn"},{default:T(()=>[...l[8]||(l[8]=[q(" ä¸Šä¼ å›¾ç‰‡ ",-1)])]),_:1})]),M("div",Pe,[l[11]||(l[11]=M("div",{class:"frame-label"},"å°¾å¸§è®¾ç½®:",-1)),j(i,{"model-value":e.shot.endFrame||"","onUpdate:modelValue":l[5]||(l[5]=l=>a.$emit("update:shot",{...e.shot,endFrame:l})),type:"textarea",rows:1,autosize:"",maxlength:"200",placeholder:"å°¾å¸§å›¾ç‰‡URLæˆ–æè¿°ï¼ˆç”¨äºç”Ÿæˆè§†é¢‘ï¼‰",class:"frame-field"},null,8,["model-value"]),j(t,{type:"primary",size:"mini",onClick:s,class:"upload-btn"},{default:T(()=>[...l[10]||(l[10]=[q(" ä¸Šä¼ å›¾ç‰‡ ",-1)])]),_:1})])])])])}}}),[["__scopeId","data-v-7f07ee18"]]),Me={class:"storyboard-popup"},Re={class:"popup-header"},$e={class:"popup-content"},De={class:"video-description-section"},Ne={class:"shot-list-section"},Ee={class:"section-header"},Ge={class:"shot-list"},qe={class:"ai-generation-section"},He=_({__name:"StoryboardPopup",props:{modelValue:{type:Boolean},selectedStoryboard:{}},emits:["update:modelValue","confirm"],setup(e,{emit:a}){const l=e,t=a,o=I(l.modelValue),s=I(""),i=I([{id:d(),content:"",dialogue:"",duration:3,startFrame:"",endFrame:""}]),n=I(!1),u=A(()=>s.value.trim().length>0&&i.value.length>0&&i.value.every(e=>e.content.trim().length>0&&e.dialogue.trim().length>0));function d(){return Date.now().toString()+Math.random().toString(36).slice(2,11)}z(()=>l.modelValue,e=>{o.value=e,e&&l.selectedStoryboard&&(s.value=l.selectedStoryboard.videoDescription,i.value=[...l.selectedStoryboard.shots])}),z(o,e=>{t("update:modelValue",e),e||setTimeout(()=>{s.value="",i.value=[{id:d(),content:"",dialogue:"",duration:3,startFrame:"",endFrame:""}]},300)});const r=()=>{i.value.push({id:d(),content:"",dialogue:"",duration:3,startFrame:"",endFrame:""})},c=e=>{const a=i.value.findIndex(a=>a.id===e);-1!==a&&i.value.splice(a,1)},m=async(e,a)=>{const l=document.createElement("input");l.type="file",l.accept="image/*",l.onchange=l=>{const t=l.target.files?.[0];if(t){const l=URL.createObjectURL(t),o=i.value.find(e=>e.id===a);o&&("start"===e?o.startFrame=l:o.endFrame=l)}},l.click()},p=async()=>{if(s.value.trim()){n.value=!0;try{await new Promise(e=>setTimeout(e,2e3)),i.value=[{id:d(),content:"å¼€åœºç”»é¢ï¼Œå±•ç¤ºäº§å“æ•´ä½“",dialogue:"å¤§å®¶å¥½ï¼Œæ¬¢è¿æ”¶çœ‹ä»Šå¤©çš„è§†é¢‘",duration:3},{id:d(),content:"äº§å“ç‰¹å†™é•œå¤´",dialogue:"è¿™æ˜¯æˆ‘ä»¬çš„æ–°äº§å“ï¼Œå…·æœ‰ä»¥ä¸‹ç‰¹ç‚¹",duration:4},{id:d(),content:"ä½¿ç”¨åœºæ™¯å±•ç¤º",dialogue:"åœ¨å®é™…ä½¿ç”¨ä¸­ï¼Œå®ƒèƒ½å¸¦æ¥æå¤§çš„ä¾¿åˆ©",duration:3}]}catch(e){console.error("AIç”Ÿæˆåˆ†é•œå¤±è´¥:",e)}finally{n.value=!1}}},v=()=>{if(u.value){const e={videoDescription:s.value,shots:i.value.map(e=>({...e}))};t("confirm",e),o.value=!1}};return(e,a)=>{const l=w,t=Y,d=x,h=V;return B(),P(h,{show:o.value,"onUpdate:show":a[1]||(a[1]=e=>o.value=e),position:"bottom",style:{height:"100%"},round:""},{default:T(()=>[M("div",Me,[M("div",Re,[a[3]||(a[3]=M("div",{class:"header-title"},"åˆ†é•œè®¾ç½®",-1)),j(l,{type:"primary",size:"small",onClick:v,disabled:!u.value},{default:T(()=>[...a[2]||(a[2]=[q(" ç¡®è®¤è®¾ç½® ",-1)])]),_:1},8,["disabled"])]),M("div",$e,[M("div",De,[a[4]||(a[4]=M("div",{class:"section-title"},"è§†é¢‘æè¿°",-1)),j(t,{modelValue:s.value,"onUpdate:modelValue":a[0]||(a[0]=e=>s.value=e),type:"textarea",rows:2,autosize:"",maxlength:"200","show-word-limit":"",placeholder:"è¯·è¾“å…¥è§†é¢‘çš„æ•´ä½“æè¿°å’Œé£æ ¼è¦æ±‚...",class:"description-field"},null,8,["modelValue"])]),M("div",Ne,[M("div",Ee,[a[6]||(a[6]=M("div",{class:"section-title"},"é•œå¤´è®¾ç½®",-1)),j(l,{type:"primary",size:"mini",onClick:r},{default:T(()=>[...a[5]||(a[5]=[q(" æ·»åŠ é•œå¤´ ",-1)])]),_:1})]),M("div",Ge,[(B(!0),R(E,null,$(i.value,(e,a)=>(B(),P(Te,{key:e.id,shot:e,index:a,"shots-length":i.value.length,"onUpdate:shot":e=>((e,a)=>{i.value[e]=a})(a,e),onDelete:c,onUploadFrame:m},null,8,["shot","index","shots-length","onUpdate:shot"]))),128))])]),M("div",qe,[j(l,{type:"default",size:"small",block:"",onClick:p,loading:n.value,class:"ai-btn"},{default:T(()=>[j(d,{name:"magic"}),a[7]||(a[7]=q(" AIæ™ºèƒ½ç”Ÿæˆåˆ†é•œ ",-1))]),_:1},8,["loading"])])])])]),_:1},8,["show"])}}}),Oe=C(He,[["__scopeId","data-v-f2a6454e"]]),Je={class:"minimal-dubbing-generation"},Ke={class:"image-section"},We={key:0,class:"upload-placeholder"},Qe={key:1,class:"upload-preview"},Xe=["src"],Ye={class:"upload-actions"},Ze={class:"text-section"},ea={class:"section-header"},aa={class:"char-count"},la={class:"ai-suggestion"},ta=C(_({__name:"sdkwork-generation-dubbing",emits:["showHelp"],setup(e,{emit:a}){const l=I(null),t=I(""),o=I(),s=I(null),i=I(!1),n=I(null),u=I(!1),d=I(null),r=I(!1),c=I(""),m=I(!1),p=I(!1),v=A(()=>(null!==l.value||null!==s.value)&&null!==n.value&&null!==d.value&&c.value.trim().length>0),h=()=>{o.value?.click()},g=e=>{const a=e.target,o=a.files?.[0];if(o){if(!o.type.startsWith("image/"))return void console.error("è¯·ä¸Šä¼ å›¾ç‰‡æ–‡ä»¶");if(o.size>5242880)return void console.error("æ–‡ä»¶å¤§å°ä¸èƒ½è¶…è¿‡5MB");l.value=o;const e=new FileReader;e.onload=e=>{t.value=e.target?.result},e.readAsDataURL(o)}},f=()=>{l.value=null,t.value=""},b=async()=>{if(!m.value){m.value=!0;try{await new Promise(e=>setTimeout(e,2e3)),c.value="è¿™æ˜¯ä¸€æ®µç”±AIç”Ÿæˆçš„å£æ’­æ–‡å­—ç¤ºä¾‹ï¼Œå¯ä»¥æ ¹æ®æ‚¨çš„éœ€æ±‚è¿›è¡Œä¿®æ”¹ã€‚AIç”Ÿæˆçš„æ–‡å­—èƒ½å¤Ÿæ›´å¥½åœ°åŒ¹é…è¯­éŸ³èŠ‚å¥å’Œæƒ…æ„Ÿè¡¨è¾¾ã€‚"}catch(e){console.error("AIç”Ÿæˆå¤±è´¥:",e)}finally{m.value=!1}}},y=e=>{s.value=e},k=e=>{s.value=e},C=e=>{n.value=e},V=e=>{n.value=e},_=e=>{d.value=e},S=e=>{d.value=e},z=async()=>{if(v.value&&!p.value){p.value=!0;try{const e={character:l.value?"uploaded":s.value?.id,voice:n.value?.id,storyboard:d.value?.id,script:c.value};console.log("ç”Ÿæˆå£æ’­è§†é¢‘å‚æ•°:",e),await new Promise(e=>setTimeout(e,3e3)),console.log("å£æ’­è§†é¢‘ç”ŸæˆæˆåŠŸ!")}catch(e){console.error("å£æ’­è§†é¢‘ç”Ÿæˆå¤±è´¥:",e)}finally{p.value=!1}}};return(e,a)=>{const I=x,A=w,F=Y,U=ae,L=K;return B(),R("div",Je,[M("div",Ke,[M("div",{class:"upload-area",onClick:h},[l.value?(B(),R("div",Qe,[M("img",{src:t.value,alt:"ä¸Šä¼ çš„å›¾ç‰‡"},null,8,Xe),M("div",Ye,[j(A,{size:"mini",onClick:O(f,["stop"]),class:"remove-btn"},{default:T(()=>[j(I,{name:"delete"})]),_:1})])])):(B(),R("div",We,[j(I,{name:"photograph",size:"48"}),a[7]||(a[7]=M("p",null,"ç‚¹å‡»ä¸Šä¼ å›¾ç‰‡",-1)),a[8]||(a[8]=M("span",{class:"upload-hint"},"æ”¯æŒ JPGã€PNG æ ¼å¼",-1))]))]),M("input",{ref_key:"fileInput",ref:o,type:"file",accept:"image/*",onChange:g,style:{display:"none"}},null,544)]),M("div",Ze,[M("div",ea,[a[9]||(a[9]=M("span",{class:"section-title"},"å£æ’­æ–‡å­—",-1)),M("span",aa,N(c.value.length)+"/1000",1)]),j(F,{modelValue:c.value,"onUpdate:modelValue":a[0]||(a[0]=e=>c.value=e),type:"textarea",rows:4,autosize:"",maxlength:"1000","show-word-limit":"",placeholder:"è¯·è¾“å…¥å£æ’­æ–‡å­—å†…å®¹...",class:"script-field"},null,8,["modelValue"]),M("div",la,[j(A,{size:"small",onClick:b,loading:m.value,class:"ai-btn"},{default:T(()=>[j(I,{name:"magic"}),a[10]||(a[10]=q(" AIç”Ÿæˆ ",-1))]),_:1},8,["loading"])])]),j(L,{class:"core-section"},{default:T(()=>[j(U,{title:s.value?.name||"é€‰æ‹©è§’è‰²",label:s.value?s.value.description:"ç‚¹å‡»é€‰æ‹©è§’è‰²",icon:"user-o","is-link":"",onClick:a[1]||(a[1]=e=>i.value=!0),class:"option-cell"},{icon:T(()=>[...a[11]||(a[11]=[M("div",{class:"cell-icon"},"ğŸ‘¤",-1)])]),_:1},8,["title","label"]),j(U,{title:n.value?.name||"é€‰æ‹©è¯­éŸ³",label:n.value?n.value.description:"ç‚¹å‡»é€‰æ‹©è¯­éŸ³",icon:"volume-o","is-link":"",onClick:a[2]||(a[2]=e=>u.value=!0),class:"option-cell"},{icon:T(()=>[...a[12]||(a[12]=[M("div",{class:"cell-icon"},"ğŸ¤",-1)])]),_:1},8,["title","label"]),j(U,{title:d.value?`åˆ†é•œè®¾ç½® (${d.value.shots.length}ä¸ªé•œå¤´)`:"é€‰æ‹©åˆ†é•œ",label:d.value?d.value.videoDescription:"ç‚¹å‡»è®¾ç½®åˆ†é•œ",icon:"photo-o","is-link":"",onClick:a[3]||(a[3]=e=>r.value=!0),class:"option-cell"},{icon:T(()=>[...a[13]||(a[13]=[M("div",{class:"cell-icon"},"ğŸ¬",-1)])]),_:1},8,["title","label"])]),_:1}),j(je,{disabled:p.value||!v.value,loading:p.value,onClick:z},null,8,["disabled","loading"]),j(xe,{modelValue:i.value,"onUpdate:modelValue":a[4]||(a[4]=e=>i.value=e),title:"é€‰æ‹©è§’è‰²",height:"100vh","confirm-text":"ç¡®è®¤é€‰æ‹©","selected-cameo-id":s.value?.id,onConfirm:k,onSelect:y},null,8,["modelValue","selected-cameo-id"]),j(ee,{modelValue:u.value,"onUpdate:modelValue":a[5]||(a[5]=e=>u.value=e),title:"é€‰æ‹©è¯­éŸ³",height:"100vh","confirm-text":"ç¡®è®¤é€‰æ‹©","selected-speaker-id":n.value?.id,onConfirm:V,onSelect:C},null,8,["modelValue","selected-speaker-id"]),j(Oe,{modelValue:r.value,"onUpdate:modelValue":a[6]||(a[6]=e=>r.value=e),"selected-storyboard":d.value,onConfirm:S,onSelect:_},null,8,["modelValue","selected-storyboard"])])}}}),[["__scopeId","data-v-466157d9"]]),oa={class:"help-content"},sa=C(_({__name:"index",setup(a){J();const l=I(!1),t=()=>{l.value=!0};return(a,o)=>{const s=w,i=V,n=e;return B(),P(n,{"safe-area":"",scrollable:"","theme-mode":"auto",backgroundColor:"black !important",contentBackgroundColor:"black !important"},{default:T(()=>[j(ta,{onShowHelp:t}),j(i,{show:l.value,"onUpdate:show":o[1]||(o[1]=e=>l.value=e),position:"bottom",round:"",class:"help-panel"},{default:T(()=>[M("div",oa,[o[3]||(o[3]=M("h3",null,"ä½¿ç”¨å¸®åŠ©",-1)),o[4]||(o[4]=M("div",{class:"help-section"},[M("h4",null,"åŠŸèƒ½è¯´æ˜"),M("p",null,"è§†é¢‘å£æ’­ç”Ÿæˆå™¨å¯ä»¥å¸®åŠ©æ‚¨å¿«é€Ÿåˆ›å»ºä¸“ä¸šçš„å£æ’­è§†é¢‘ï¼Œæ”¯æŒä»¥ä¸‹åŠŸèƒ½ï¼š"),M("ul",null,[M("li",null,"ğŸ“¸ ä¸Šä¼ å›¾ç‰‡æˆ–é€‰æ‹©è§’è‰²åº“ä¸­çš„è§’è‰²"),M("li",null,"ğŸ—£ï¸ é€‰æ‹©å¤šç§å‘éŸ³äººï¼ˆä¸­è‹±æ–‡æ”¯æŒï¼‰"),M("li",null,"âœï¸ è¾“å…¥å£æ’­æ–‡å­—ï¼Œæ”¯æŒAIæ™ºèƒ½ç”Ÿæˆ"),M("li",null,"ğŸ¬ é€‰æ‹©ä¸åŒçš„åœºæ™¯å’Œé£æ ¼"),M("li",null,"âš™ï¸ è‡ªå®šä¹‰è§†é¢‘å‚æ•°é…ç½®")])],-1)),o[5]||(o[5]=M("div",{class:"help-section"},[M("h4",null,"ä½¿ç”¨æ­¥éª¤"),M("ol",null,[M("li",null,"é€‰æ‹©è§’è‰²æˆ–ä¸Šä¼ å›¾ç‰‡"),M("li",null,"é€‰æ‹©å‘éŸ³äºº"),M("li",null,"è¾“å…¥å£æ’­æ–‡å­—ï¼ˆå¯ä½¿ç”¨AIç”Ÿæˆï¼‰"),M("li",null,"é€‰æ‹©åœºæ™¯å’Œé£æ ¼"),M("li",null,"é…ç½®è§†é¢‘å‚æ•°"),M("li",null,"ç‚¹å‡»ç”ŸæˆæŒ‰é’®")])],-1)),j(s,{type:"primary",size:"large",onClick:o[0]||(o[0]=e=>l.value=!1),class:"close-help-btn"},{default:T(()=>[...o[2]||(o[2]=[q(" çŸ¥é“äº† ",-1)])]),_:1})])]),_:1},8,["show"])]),_:1})}}}),[["__scopeId","data-v-d79aee51"]]);export{sa as default};
