import{n as a,c as e,b as t,w as s,r as o,v as l,t as r,x as i,y as n,I as d,_ as u}from"./index-mGUiS-yG.js";import{F as c}from"./index-b6Ppm1Iu.js";import{a as v,_ as p}from"./sdkwork-cell-group-VR2jHUXV.js";import{E as m}from"./index-BAHb5bKQ.js";import{_ as h}from"./sdkwork-search-bar-BbOdLEF5.js";import{k as f,j as k,q as y,F as w,O as S,a as j,f as _,o as g,P as W,Q as x,S as b,Z as z,a0 as A,a4 as B,Y as C}from"./vue-vendor-B1RsE4Tz.js";import{b as D}from"./route-block-B_A1xBdJ.js";import"./utils-vendor-WEzSe-CR.js";import"sdkwork-ai-iot-sdk";import"./sdkwork-icon-0ITLYrI-.js";import"./use-id-CKFvKg0a.js";const[I,L]=e("skeleton-title");var V=s(f({name:I,props:{round:Boolean,titleWidth:a},setup:a=>()=>k("h3",{class:L([{round:a.round}]),style:{width:t(a.titleWidth)}},null)}));const[E,F]=e("skeleton-avatar");var O=s(f({name:E,props:{avatarSize:a,avatarShape:o("round")},setup:a=>()=>k("div",{class:F([a.avatarShape]),style:l(a.avatarSize)},null)}));const U="100%",q={round:Boolean,rowWidth:{type:a,default:U}},[N,P]=e("skeleton-paragraph");var Q=s(f({name:N,props:q,setup:a=>()=>k("div",{class:P([{round:a.round}]),style:{width:a.rowWidth}},null)}));const[Y,Z]=e("skeleton");const $=s(f({name:Y,inheritAttrs:!1,props:{row:i(0),round:Boolean,title:Boolean,titleWidth:a,avatar:Boolean,avatarSize:a,avatarShape:o("round"),loading:r,animate:r,rowWidth:{type:[Number,String,Array],default:U}},setup(a,{slots:e,attrs:s}){const o=()=>{if(a.avatar)return k(O,{avatarShape:a.avatarShape,avatarSize:a.avatarSize},null)},l=()=>{if(a.title)return k(V,{round:a.round,titleWidth:a.titleWidth},null)},r=e=>{const{rowWidth:t}=a;return t===U&&e===+a.row-1?"60%":Array.isArray(t)?t[e]:t};return()=>{var i;return a.loading?k("div",y({class:Z({animate:a.animate,round:a.round})},s),[e.template?e.template():k(w,null,[o(),k("div",{class:Z("content")},[l(),Array(+a.row).fill("").map((e,s)=>k(Q,{key:s,round:a.round,rowWidth:t(r(s))},null))])])]):null==(i=e.default)?void 0:i.call(e)}}})),G={class:"device-list-page"},H={class:"search-section"},J={class:"device-list-container"},K=f({__name:"device-list",setup(a){const e=S(),t=n(),s=j(""),o=j(!1),l=j({x:0,y:200}),r=_(()=>s.value?t.deviceList.filter(a=>a.name.includes(s.value)||a.id.includes(s.value)):t.deviceList),i=()=>{console.log("搜索关键词:",s.value)},u=()=>{e.push("/device/add")},f=a=>{l.value=a};return g(async()=>{o.value=!0;try{await t.fetchDevices()}catch(a){console.error("加载设备列表失败:",a)}finally{o.value=!1}}),(a,t)=>{const n=h,y=$,S=m,j=d,_=v,g=p,D=c;return x(),W("div",G,[b("div",H,[k(n,{modelValue:s.value,"onUpdate:modelValue":t[0]||(t[0]=a=>s.value=a),placeholder:"搜索设备名称或ID",onSearch:i},null,8,["modelValue"])]),b("div",J,[o.value?(x(),z(y,{key:0,rows:"3",animated:""},{default:A(()=>[...t[1]||(t[1]=[B("加载中...",-1)])]),_:1})):0===r.value.length?(x(),z(S,{key:1,description:"暂无设备",image:"search"})):(x(),z(g,{key:2},{default:A(()=>[(x(!0),W(w,null,C(r.value,a=>(x(),z(_,{key:a.id,title:a.name,value:a.status,label:a.type,"is-link":"",onClick:t=>{return s=a.id,void e.push(`/device/detail/${s}`);var s}},{icon:A(()=>[k(j,{name:"online"===a.status?"success":"cross",color:"online"===a.status?"#07c160":"#ee0a24"},null,8,["name","color"])]),_:2},1032,["title","value","label","onClick"]))),128))]),_:1}))]),k(D,{axis:"xy",magnetic:"x",offset:l.value,"onUpdate:offset":f,onClick:u},{default:A(()=>[k(j,{name:"plus",size:"20"})]),_:1},8,["offset"])])}}});"function"==typeof D&&D(K);const M=u(K,[["__scopeId","data-v-8de325ad"]]);export{M as default};
