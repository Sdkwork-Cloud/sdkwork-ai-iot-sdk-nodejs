import{L as e,I as s,_ as t}from"./index-mGUiS-yG.js";import{F as o}from"./index-b6Ppm1Iu.js";import{E as a}from"./index-BAHb5bKQ.js";import{k as r,O as i,a as n,o as d,b as m,Z as p,Q as c,a0 as l,j as u,a4 as f,S as j}from"./vue-vendor-B1RsE4Tz.js";import{u as g,_ as k}from"./sdkwork-agent-list-DTDK3Vmb.js";import{u as w}from"./conversation-B-eIgQr2.js";import{S as h}from"./sdkwork-page-container-DqaCEpSi.js";import{b as x}from"./route-block-B_A1xBdJ.js";import"./utils-vendor-WEzSe-CR.js";import"sdkwork-ai-iot-sdk";import"./use-id-CKFvKg0a.js";import"./agent-DID5aRSf.js";import"./sdkwork-api-list-D3THvzYz.js";import"./index-z7NB4-1J.js";import"./index-71u4jA4R.js";import"./use-tab-status-CHnze7eF.js";import"./shared-BHV4AZq-.js";import"./sdkwork-search-bar-BbOdLEF5.js";import"./sdkwork-icon-0ITLYrI-.js";import"./ListItem-DTjFzhTd.js";/* empty css              *//* empty css              *//* empty css              */import"./index-wXuWqSXL.js";import"./index-Bfc-hYuU.js";import"./Checker-BS9EDwAr.js";const y=r({__name:"agents",setup(t){const r=i(),x=g(),y=w(),b=n(),v=n({x:0,y:0}),_=()=>{const e=window.innerWidth,s=window.innerHeight;v.value={x:e-60-2,y:s-60-80}},L=async e=>{try{console.error("getAgentList:",e);return await x.listPublic({},e)}catch(s){return console.error("获取智能体列表失败:",s),{content:[],empty:!0,first:!0,last:!0,pageNumber:0,numberOfElements:0,pageSize:e.pageSize||10,sort:{empty:!0,sorted:!1,unsorted:!0,orders:[]},totalElements:0,totalPages:0}}},z=async e=>{try{const s=await y.open(e.id),t=s.uuid||s.id;r.push(`/chat/${t}?agentId=${e.id}&agentName=${encodeURIComponent(e.name||"")}`)}catch(s){console.error("创建会话失败:",s);const t=E();r.push(`/chat/${t}?agentId=${e.id}&agentName=${encodeURIComponent(e.name||"")}`)}},I=e=>{console.log("搜索智能体:",e)},$=e=>{console.log("智能体数据加载完成:",e)},C=()=>{r.push("/agent/create")},E=()=>window.$uuid();return d(()=>{console.log("智能体页面已加载"),_(),window.addEventListener("resize",_)}),m(()=>{window.removeEventListener("resize",_)}),(t,r)=>{const i=a,n=e,d=s,m=o;return c(),p(h,{"safe-area":"",scrollable:!1,"theme-mode":"auto"},{default:l(()=>[u(k,{api:L,params:{category:"all"},"page-size":10,searchable:!1,onClick:z,onSearch:I,onLoad:$,ref_key:"agentListRef",ref:b},{empty:l(()=>[u(i,{description:"暂无智能体",image:"search"},{description:l(()=>[...r[1]||(r[1]=[j("div",{class:"empty-description"},[j("p",null,"暂时没有找到智能体"),j("p",{class:"empty-tip"},"您可以尝试调整搜索条件")],-1)])]),_:1})]),loading:l(()=>[u(n,{size:"24px",vertical:""},{default:l(()=>[...r[2]||(r[2]=[f("加载智能体数据...",-1)])]),_:1})]),_:1},512),u(m,{offset:v.value,"onUpdate:offset":r[0]||(r[0]=e=>v.value=e),axis:"xy",magnetic:"x",class:"create-bubble",onClick:C},{default:l(()=>[u(d,{name:"plus",size:"24",color:"#fff"})]),_:1},8,["offset"])]),_:1})}}});"function"==typeof x&&x(y);const b=t(y,[["__scopeId","data-v-52fb1ddf"]]);export{b as default};
