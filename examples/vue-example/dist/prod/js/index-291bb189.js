import{f as e,F as a}from"./index-155d12c9.js";import{u as o}from"./use-id-bc367f23.js";import{m as l,Z as c,q as t,t as s,X as n,V as r,D as i,w as u}from"./index-2cafbb5e.js";import{k as d,r as b,j as f,q as m}from"./vue-vendor-fce65f55.js";const[p,h,k]=l("search");const v=u(d({name:p,props:c({},e,{label:String,shape:t("square"),leftIcon:t("search"),clearable:s,actionText:String,background:String,showAction:Boolean}),emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(l,{emit:t,slots:s,attrs:u}){const d=o(),p=b(),v=()=>{s.action||(t("update:modelValue",""),t("cancel"))},g=e=>{13===e.keyCode&&(i(e),t("search",l.modelValue))},I=()=>l.id||`${d}-input`,w=()=>{if(s.label||l.label)return f("label",{class:h("label"),for:I(),"data-allow-mismatch":"attribute"},[s.label?s.label():l.label])},V=()=>{if(l.showAction){const e=l.actionText||k("cancel");return f("div",{class:h("action"),role:"button",tabindex:0,onClick:v},[s.action?s.action():e])}},j=e=>t("blur",e),x=e=>t("focus",e),C=e=>t("clear",e),y=e=>t("clickInput",e),S=e=>t("clickLeftIcon",e),q=e=>t("clickRightIcon",e),A=Object.keys(e),L=()=>{const e=c({},u,r(l,A),{id:I()});return f(a,m({ref:p,type:"search",class:h("field",{"with-message":e.errorMessage}),border:!1,onBlur:j,onFocus:x,onClear:C,onKeypress:g,onClickInput:y,onClickLeftIcon:S,onClickRightIcon:q,"onUpdate:modelValue":e=>t("update:modelValue",e)},e),r(s,["left-icon","right-icon"]))};return n({focus:()=>{var e;return null==(e=p.value)?void 0:e.focus()},blur:()=>{var e;return null==(e=p.value)?void 0:e.blur()}}),()=>{var e;return f("div",{class:h({"show-action":l.showAction}),style:{background:l.background}},[null==(e=s.left)?void 0:e.call(s),f("div",{class:h("content",l.shape)},[w(),L()]),V()])}}}));export{v as S};
