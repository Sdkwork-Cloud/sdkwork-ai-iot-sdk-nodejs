import{k as e,r as a,b as l,o as t,P as o,S as u,W as s,j as v,$ as n,a1 as r,n as c,Q as i}from"./vue-vendor-CnVaDBlt.js";import{S as d}from"./sdkwork-video-player-Cd_0Td4c.js";import{_ as p}from"./index-lnKdqbPs.js";import"./utils-vendor-WEzSe-CR.js";const h={class:"demo-container"},m={class:"demo-section"},g={class:"popup-video-container"},k={class:"popup-controls"},y={class:"popup-control-bar"},f={width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},M={key:0,d:"M6 4h4v16H6zM14 4h4v16h-4z"},C={key:1,d:"M8 5v14l11-7z"},z={class:"time-display"},b=["max","value"],w={width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},L={key:0,d:"M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"},j={key:1,d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"},x={key:2,d:"M7 9v6h4l5 5V4L11 9H7z"},P=p(e({__name:"video-player-card-demo",setup(e){const p=a(),P=a(!1),_=a(null),S=a(0),V=a(0),H=a(1),I=a(!1),B=a(!1),E=a(),$=e=>{},D=()=>{p.value&&(_.value=p.value.getPlayer(),P.value=!0,W(),q(),c(()=>{if(_.value&&E.value){const e=_.value.getPlayerInstance();if(e&&e.el){const a=e.el();a&&E.value.appendChild(a)}}}))},T=()=>{P.value=!1,_.value=null,S.value=0,V.value=0,H.value=1,I.value=!1,B.value=!1},F=()=>{_.value&&(_.value.isPaused()?_.value.resume():_.value.pause())},Q=()=>{_.value&&_.value.toggleMute()},R=e=>{const a=e.target;_.value&&_.value.seek(parseFloat(a.value))},W=()=>{_.value&&(S.value=_.value.getCurrentTime()||0,V.value=_.value.getDuration()||0,H.value=_.value.getVolume()||1,I.value=!_.value.isPaused(),B.value=_.value.isMuted())},q=()=>{if(_.value){const e=_.value.getPlayerInstance();if(e){const a=_.value;e.on("timeupdate",()=>{S.value=a.getCurrentTime()}),e.on("durationchange",()=>{V.value=a.getDuration()}),e.on("volumechange",()=>{H.value=a.getVolume(),B.value=a.isMuted()}),e.on("play",()=>{I.value=!0}),e.on("pause",()=>{I.value=!1})}}},A=e=>{const a=Math.floor(e/60),l=Math.floor(e%60);return`${a.toString().padStart(2,"0")}:${l.toString().padStart(2,"0")}`},G=e=>{"Escape"===e.key&&P.value&&T()};return l(()=>{document.addEventListener("keydown",G)}),t(()=>{document.removeEventListener("keydown",G),_.value&&_.value.destroy()}),(e,a)=>(i(),o("div",h,[a[3]||(a[3]=u("h1",null,"视频播放器 - Card Mode 演示",-1)),u("div",m,[a[1]||(a[1]=u("h2",null,"Card Mode 示例",-1)),v(d,{ref_key:"cardPlayer",ref:p,src:"https://vjs.zencdn.net/v/oceans.mp4",poster:"https://vjs.zencdn.net/v/oceans.png",mode:"card",onReady:$},null,512),u("button",{class:"popup-fullscreen-btn",onClick:D}," 弹出全屏 ")]),P.value?(i(),o("div",{key:0,class:"popup-fullscreen-overlay",onClick:T},[u("div",{class:"popup-fullscreen-content",onClick:a[0]||(a[0]=r(()=>{},["stop"]))},[u("div",g,[u("div",{ref_key:"popupVideoContainer",ref:E,class:"popup-video-js-container"},null,512),u("div",k,[u("button",{class:"popup-close-button",onClick:T},[...a[2]||(a[2]=[u("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none"},[u("path",{d:"M18 6L6 18M6 6l12 12",stroke:"currentColor","stroke-width":"2"})],-1)])]),u("div",y,[u("button",{class:"control-button",onClick:F},[(i(),o("svg",f,[I.value?(i(),o("path",M)):(i(),o("path",C))]))]),u("div",z,n(A(S.value))+" / "+n(A(V.value)),1),u("input",{type:"range",class:"progress-bar",min:"0",max:V.value,value:S.value,onInput:R},null,40,b),u("button",{class:"control-button",onClick:Q},[(i(),o("svg",w,[B.value?(i(),o("path",L)):H.value>.5?(i(),o("path",j)):(i(),o("path",x))]))])])])])])])):s("",!0)]))}}),[["__scopeId","data-v-ae1c591b"]]);export{P as default};
