import{_ as e}from"./sdkwork-scroll-video-CBnWE2Vb.js";import{k as t,a as o,o as s,b as a,P as i,Q as p,j as l,W as g,S as r,$ as m}from"./vue-vendor-BOogp7Xw.js";import{s as n,_ as c}from"./index-ov3QC--c.js";import{b as u}from"./route-block-B_A1xBdJ.js";import"./sdkwork-popup-Dr9qRxIi.js";import"./sdkwork-video-player-CP7EByHA.js";import"./utils-vendor-WEzSe-CR.js";/* empty css              *//* empty css              *//* empty css              */import"./index-Q_z4ZHI_.js";import"./sdkwork-api-list-pQkdAdfv.js";import"./index-BtdHogtb.js";import"./index-CeKCG7hV.js";import"./use-tab-status-C8BruCQu.js";import"./shared-DW3aOE2Q.js";import"./sdkwork-search-bar-yyntw_jj.js";import"./sdkwork-icon-Bbs-hM5p.js";import"./index-08Es9nZT.js";import"./use-id-Dx2a3-Lt.js";import"./ListItem-DJmG2b7G.js";import"./index-CTut2Zgt.js";import"./index-D5eJ2EhQ.js";import"./index-BSIp-o01.js";const d={class:"video-demo"},v={key:0,class:"debug-panel"},h={class:"debug-info"},k={class:"info-item"},b={class:"info-item"},w={class:"info-item"},f={class:"info-item"},y={class:"info-item"},$={class:"info-item"},B={class:"info-item"},j={key:0,class:"info-item"},F={key:1,class:"info-item"},S=t({__name:"[id]",setup(t){const c=o(),u=o(!1),S=o(0),C=o(null),x=o(null),R=o(0),M=o({tags:["推荐"],sort:"recommend"}),I=(e,t)=>{const o={"9:16":["https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/SubaruOutback.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/VolkswagenGTIReview.mp4","https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/WhatCarCanYouGetForAGrand.mp4"],"16:9":["https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/SubaruOutback.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/VolkswagenGTIReview.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/WhatCarCanYouGetForAGrand.mp4"],"1:1":["https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4"],"4:3":["https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4"],"21:9":["https://storage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/SubaruOutback.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/VolkswagenGTIReview.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/WhatCarCanYouGetForAGrand.mp4"],"3:4":["https://storage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/Sintel.mp4","https://storage.googleapis.com/gtv-videos-bucket/sample/TearsOfSteel.mp4"]},s=o[e]||o["16:9"];return s[t%s.length]},T=async e=>{const t=500*Math.random()+300;await new Promise(e=>setTimeout(e,t));const o=e.pageNumber||1,s=e.pageSize||10,a=[{aspectRatio:"9:16",width:720,height:1280,type:"手机竖屏"},{aspectRatio:"9:16",width:1080,height:1920,type:"高清竖屏"},{aspectRatio:"9:16",width:540,height:960,type:"标准竖屏"},{aspectRatio:"16:9",width:1280,height:720,type:"横屏视频"},{aspectRatio:"1:1",width:1080,height:1080,type:"正方形"},{aspectRatio:"3:4",width:750,height:1e3,type:"竖屏传统"}],i=30,p=((e,t)=>{const o=[{name:"自然风光",tags:["自然","风光","日出","日落","山水"]},{name:"城市生活",tags:["城市","夜景","现代","建筑","街道"]},{name:"动物世界",tags:["动物","野生动物","宠物","鸟类","海洋"]},{name:"美食制作",tags:["美食","甜点","制作","烹饪","食谱"]},{name:"旅行探险",tags:["旅行","探险","户外","冒险","风景"]},{name:"音乐舞蹈",tags:["音乐","舞蹈","表演","艺术","文化"]}],s=[];for(let i=0;i<t;i++){const t=e+i,p=o[t%o.length],l=p.tags[t%p.tags.length];let g;g=t%10<6?a[0]:t%10<7?a[1]:t%10<8?a[2]:a[t%a.length];const r=`https://picsum.photos/${Math.min(g.width,800)}/${Math.min(g.height,800)}?random=${t}`;s.push({id:`video_${t}`,title:`${p.name} - ${l} [${g.type}]`,description:`精彩的${p.name}视频，${g.type}比例，展现${l}的魅力。视频尺寸：${g.width}x${g.height} (${g.aspectRatio})`,videoUrl:I(g.aspectRatio,t),coverUrl:r,duration:30+t%120,aspectRatio:g.aspectRatio,videoType:g.type,videoWidth:g.width,videoHeight:g.height,author:{id:`author_${t}`,username:`${p.name}达人${t}`,avatar:`https://picsum.photos/100/100?random=${t+100}`,verified:t%3==0,followed:t%4==0,followerCount:1e3+123*t%1e4,videoCount:10+t%50},music:{id:`music_${t}`,name:`${p.name}旋律${t}`,author:`${p.name}之声`,coverUrl:`https://picsum.photos/100/100?random=${t+200}`,musicUrl:"",duration:180+t%120},likeCount:100+456*t%5e3,commentCount:10+78*t%500,shareCount:5+23*t%200,makeSameCount:1+t%50,liked:t%5==0,muted:!1,progress:0,currentTime:0,playing:!1,loading:!0,preloaded:!1,createTime:new Date(Date.now()-t%30*24*60*60*1e3).toISOString(),tags:[p.name,l,g.type,...p.tags.slice(0,2)]})}return s})(1,i),l=(o-1)*s,g=l+s;if(1===o&&Math.random()<.1)throw new Error("网络连接失败，请检查网络后重试");if(o>1&&Math.random()<.05)throw new Error("加载更多失败，请稍后重试");if(l>=i)return{records:[],total:i,size:s,current:o,pages:Math.ceil(i/s)};const r=p.slice(l,g);return console.log(`API请求: 第${o}页, 大小${s}, 返回${r.length}条记录`),{records:r,total:i,size:s,current:o,pages:Math.ceil(i/s)}},_=(e,t)=>{S.value=t,C.value=e,console.log("视频切换:",e.title,t,`尺寸: ${e.videoWidth}x${e.videoHeight} (${e.aspectRatio})`),c.value&&(x.value=c.value.getComponentInfo())},z=e=>{console.log("点赞:",e.title)},E=e=>{console.log("评论:",e.title)},G=e=>{console.log("分享:",e.title)},O=e=>{console.log("关注:",e.username)},V=e=>{console.log("数据加载:",e)},W=e=>{console.error("API请求失败:",e),n(e.message||"网络请求失败")},A=()=>{if(!c.value)return"未初始化";const e=c.value.getVideoList(),t=c.value.getCurrentVideo();return 0===e.length?"无数据":t?.loading?"加载中":`已加载${e.length}个视频`},D=()=>{if("memory"in performance){const e=performance.memory;R.value=Math.round(e.usedJSHeapSize/1024/1024)}};let H=null;return s(()=>{H=window.setInterval(D,1e3)}),a(()=>{H&&(clearInterval(H),H=null)}),(t,o)=>{const s=e;return p(),i("div",d,[l(s,{api:T,params:M.value,"page-size":5,"preload-count":3,autoplay:"",enableLoading:!1,onVideoChange:_,onLike:z,onComment:E,onShare:G,onFollow:O,onLoad:V,onError:W,ref_key:"videoRef",ref:c},null,8,["params"]),u.value?(p(),i("div",v,[r("div",h,[o[9]||(o[9]=r("h3",null,"视频滚动组件监控",-1)),r("div",k,[o[0]||(o[0]=r("span",null,"当前视频索引:",-1)),r("span",null,m(S.value),1)]),r("div",b,[o[1]||(o[1]=r("span",null,"总视频数:",-1)),r("span",null,m(x.value?.totalVideos||0),1)]),r("div",w,[o[2]||(o[2]=r("span",null,"当前索引:",-1)),r("span",null,m(x.value?.currentIndex||0),1)]),r("div",f,[o[3]||(o[3]=r("span",null,"切换状态:",-1)),r("span",null,m(x.value?.isSwitching?"切换中":"正常"),1)]),r("div",y,[o[4]||(o[4]=r("span",null,"内存使用:",-1)),r("span",null,m(R.value)+" MB",1)]),o[10]||(o[10]=r("div",{class:"info-item"},[r("span",null,"分页信息:"),r("span",null,"每页5条，共6页")],-1)),r("div",$,[o[5]||(o[5]=r("span",null,"加载状态:",-1)),r("span",null,m(A()),1)]),r("div",B,[o[6]||(o[6]=r("span",null,"触摸方向:",-1)),r("span",null,m("等待触摸事件"),1)]),C.value?(p(),i("div",j,[o[7]||(o[7]=r("span",null,"视频尺寸:",-1)),r("span",null,m(C.value.videoWidth)+"x"+m(C.value.videoHeight)+" ("+m(C.value.aspectRatio)+")",1)])):g("",!0),C.value?(p(),i("div",F,[o[8]||(o[8]=r("span",null,"视频类型:",-1)),r("span",null,m(C.value.videoType),1)])):g("",!0)])])):g("",!0)])}}});"function"==typeof u&&u(S);const C=c(S,[["__scopeId","data-v-3574adf4"]]);export{C as default};
