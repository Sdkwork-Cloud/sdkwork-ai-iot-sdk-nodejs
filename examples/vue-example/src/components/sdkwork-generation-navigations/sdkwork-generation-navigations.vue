<template>
  <div class="sdkwork-generation-navigations">
    <!-- è§†é¢‘ç”ŸæˆåŠŸèƒ½ç»„ -->
    <div class="navigation-group">
      <h3 class="group-title">ğŸ¬ è§†é¢‘ç”Ÿæˆ</h3>
      <SdkworkGrid 
        :columns="3" 
        :gutter="12" 
        card 
        hoverable
        bordered
        clickable
        content-padding="2px"
      >
        <SdkworkGridItem
          v-for="item in videoFeatures"
          :key="item.id"
          :text="item.name"
          :icon="item.icon"
          :label="showDescription ? item.description : undefined"
          clickable
          @click="handleFeatureClick(item)"
        />
      </SdkworkGrid>
    </div>

    <!-- å›¾ç‰‡ç”ŸæˆåŠŸèƒ½ç»„ -->
    <div class="navigation-group">
      <h3 class="group-title">ğŸ–¼ï¸ å›¾ç‰‡ç”Ÿæˆ</h3>
      <SdkworkGrid 
        :columns="3" 
        :gutter="12" 
        card 
        hoverable
        bordered
        clickable
        content-padding="2px"
      >
        <SdkworkGridItem
          v-for="item in imageFeatures"
          :key="item.id"
          :text="item.name"
          :icon="item.icon"
          :label="showDescription ? item.description : undefined"
          clickable
          @click="handleFeatureClick(item)"
        />
      </SdkworkGrid>
    </div>

    <!-- è¯­éŸ³ç”ŸæˆåŠŸèƒ½ç»„ -->
    <div class="navigation-group">
      <h3 class="group-title">ğŸµ è¯­éŸ³ç”Ÿæˆ</h3>
      <SdkworkGrid 
        :columns="3" 
        :gutter="12" 
        card 
        hoverable
        bordered
        clickable
        content-padding="2px"
      >
        <SdkworkGridItem
          v-for="item in audioFeatures"
          :key="item.id"
          :text="item.name"
          :icon="item.icon"
          :label="showDescription ? item.description : undefined"
          clickable
          @click="handleFeatureClick(item)"
        />
      </SdkworkGrid>
    </div>
  </div>
</template>

<script setup lang="ts">
import { ref } from 'vue'
import SdkworkGrid from '../sdkwork-grid/sdkwork-grid.vue'
import SdkworkGridItem from '../sdkwork-grid-item/sdkwork-grid-item.vue'

// Propså®šä¹‰
interface Props {
  /** æ˜¯å¦æ˜¾ç¤ºåŠŸèƒ½æè¿° */
  showDescription?: boolean
}

const props = withDefaults(defineProps<Props>(), {
  showDescription: false
})

// åŠŸèƒ½é¡¹ç±»å‹å®šä¹‰
interface FeatureItem {
  id: string
  name: string
  icon: string
  description: string
  category: 'video' | 'image' | 'audio'
}

// è§†é¢‘ç”ŸæˆåŠŸèƒ½åˆ—è¡¨
const videoFeatures = ref<FeatureItem[]>([
  {
    id: 'video-generation',
    name: 'è§†é¢‘ç”Ÿæˆ',
    icon: 'material-symbols:video-library',
    description: 'AIæ™ºèƒ½ç”Ÿæˆè§†é¢‘å†…å®¹',
    category: 'video'
  },
  {
    id: 'video-dubbing',
    name: 'è§†é¢‘å£æ’­',
    icon: 'material-symbols:record-voice-over',
    description: 'è‡ªåŠ¨é…éŸ³å’Œå£æ’­ç”Ÿæˆ',
    category: 'video'
  },
  {
    id: 'ad-production',
    name: 'å¹¿å‘Šç‰‡åˆ¶ä½œ',
    icon: 'material-symbols:campaign',
    description: 'ä¸“ä¸šå¹¿å‘Šè§†é¢‘åˆ¶ä½œ',
    category: 'video'
  }
])

// å›¾ç‰‡ç”ŸæˆåŠŸèƒ½åˆ—è¡¨
const imageFeatures = ref<FeatureItem[]>([
  {
    id: 'image-generation',
    name: 'å›¾ç‰‡ç”Ÿæˆ',
    icon: 'material-symbols:image',
    description: 'AIæ™ºèƒ½ç”Ÿæˆå›¾ç‰‡',
    category: 'image'
  },
  {
    id: 'portrait-photo',
    name: 'åˆ¶ä½œå†™çœŸ',
    icon: 'material-symbols:photo-camera',
    description: 'ä¸“ä¸šå†™çœŸç…§ç‰‡åˆ¶ä½œ',
    category: 'image'
  },
  {
    id: 'id-photo',
    name: 'è¯ä»¶ç…§',
    icon: 'material-symbols:badge',
    description: 'æ ‡å‡†è¯ä»¶ç…§ç”Ÿæˆ',
    category: 'image'
  }
])

// è¯­éŸ³ç”ŸæˆåŠŸèƒ½åˆ—è¡¨
const audioFeatures = ref<FeatureItem[]>([
  {
    id: 'music-generation',
    name: 'éŸ³ä¹ç”Ÿæˆ',
    icon: 'material-symbols:music-note',
    description: 'AIæ™ºèƒ½ç”ŸæˆéŸ³ä¹',
    category: 'audio'
  },
  {
    id: 'voice-cloning',
    name: 'å…‹éš†å£°éŸ³',
    icon: 'material-symbols:voice-over-off',
    description: 'å£°éŸ³å…‹éš†å’Œå¤åˆ¶',
    category: 'audio'
  },
  {
    id: 'voice-synthesis',
    name: 'è¯­éŸ³åˆæˆ',
    icon: 'material-symbols:speaker',
    description: 'æ–‡æœ¬è½¬è¯­éŸ³åˆæˆ',
    category: 'audio'
  },
  {
    id: 'audio-recording',
    name: 'è¯­éŸ³å½•åˆ¶',
    icon: 'material-symbols:mic',
    description: 'é«˜è´¨é‡è¯­éŸ³å½•åˆ¶',
    category: 'audio'
  }
])

// å¤„ç†åŠŸèƒ½é¡¹ç‚¹å‡»äº‹ä»¶
const handleFeatureClick = (feature: FeatureItem) => {
  console.log('åŠŸèƒ½é¡¹è¢«ç‚¹å‡»:', feature)
  
  // è¿™é‡Œå¯ä»¥æ·»åŠ å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ï¼Œæ¯”å¦‚è·¯ç”±è·³è½¬ã€æ‰“å¼€æ¨¡æ€æ¡†ç­‰
  switch (feature.id) {
    case 'video-generation':
      // è·³è½¬åˆ°è§†é¢‘ç”Ÿæˆé¡µé¢
      break
    case 'image-generation':
      // è·³è½¬åˆ°å›¾ç‰‡ç”Ÿæˆé¡µé¢
      break
    case 'music-generation':
      // è·³è½¬åˆ°éŸ³ä¹ç”Ÿæˆé¡µé¢
      break
    // å…¶ä»–åŠŸèƒ½é¡¹çš„å¤„ç†é€»è¾‘...
  }
  
  // è§¦å‘è‡ªå®šä¹‰äº‹ä»¶
  emit('featureClick', feature)
}

// å®šä¹‰ç»„ä»¶äº‹ä»¶
const emit = defineEmits<{
  /** åŠŸèƒ½é¡¹ç‚¹å‡»äº‹ä»¶ */
  featureClick: [feature: FeatureItem]
}>()

// æš´éœ²æ–¹æ³•ç»™çˆ¶ç»„ä»¶
const getFeaturesByCategory = (category: 'video' | 'image' | 'audio') => {
  switch (category) {
    case 'video':
      return videoFeatures.value
    case 'image':
      return imageFeatures.value
    case 'audio':
      return audioFeatures.value
    default:
      return []
  }
}

// æš´éœ²æ–¹æ³•
defineExpose({
  getFeaturesByCategory,
  videoFeatures,
  imageFeatures,
  audioFeatures
})
</script>

<style scoped lang="scss">
@use '@/assets/styles/theme.scss' as theme;

.sdkwork-generation-navigations {
  padding: 0px;
  max-width: 1200px;
  margin: 0 auto;
  
  .navigation-group {
    margin-bottom: 12px;
    
    &:last-child {
      margin-bottom: 0;
    }
    
    .group-title {
      font-size: 20px;
      font-weight: 600;
      color: var(--theme-text-color, #323233);
      margin: 0 0 16px 0;
      padding: 8px 0; 
      display: flex;
      align-items: center;
      gap: 8px;
      
      // ä¸»é¢˜è‡ªé€‚åº”
      @include theme.text-color(#323233, #ffffff);
    }
  }
}

// æ·±è‰²ä¸»é¢˜é€‚é…
:global(.dark) .sdkwork-generation-navigations,
:global(.theme-dark) .sdkwork-generation-navigations,
:global([data-theme="dark"]) .sdkwork-generation-navigations {
  .navigation-group {
    .group-title {
      color: var(--theme-text-color, #ffffff);
    }
  }
}

// æµ…è‰²ä¸»é¢˜é€‚é…
:global(.light) .sdkwork-generation-navigations,
:global(.theme-light) .sdkwork-generation-navigations,
:global([data-theme="light"]) .sdkwork-generation-navigations {
  .navigation-group {
    .group-title {
      color: var(--theme-text-color, #323233);
    }
  }
}

// å“åº”å¼è®¾è®¡
@media (max-width: 768px) {
  .sdkwork-generation-navigations {
    padding: 16px;
    
    .navigation-group {
      margin-bottom: 4px;
      
      .group-title {
        font-size: 18px;
        margin-bottom: 12px;
      }
    }
  }
}

@media (max-width: 480px) {
  .sdkwork-generation-navigations {
    padding: 12px;
    
    .navigation-group {
      margin-bottom: 2px;
      
      .group-title {
        font-size: 16px;
        margin-bottom: 8px;
      }
    }
  }
}
</style>